/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2d9dc1){return _0x2d9dc1&&_0x2d9dc1['__esModule']?_0x2d9dc1:{'default':_0x2d9dc1};};Object['defineProperty'](exports,'__esModule',{'value':!0x0});const message_1=__importDefault(require('./../../message')),operationmetadatahelpers_1=__importDefault(require('./../helpers/operationmetadatahelpers')),operationmetadatadescriptor_1=__importDefault(require('../descriptors/operationmetadatadescriptor'));class CollaborativeEditingConnectResponse extends message_1['default']{constructor(_0x288988,_0x17d40a,_0x165df2=[],_0x7ab17a=[],_0x597671=0x0,_0x4b7774=[],_0x1fc5ff=null,_0x28c187='',_0x3cc213='',_0x1826c8=null){super(),this['channel']=_0x288988,this['version']=_0x17d40a,this['buffers']=_0x165df2,this['types']=_0x7ab17a,this['offset']=_0x597671,this['metadata']=_0x4b7774,this['initData']=_0x1fc5ff,this['sessionId']=_0x28c187,this['lastOperationId']=_0x3cc213,this['sessionCreatedAt']=_0x1826c8;}get['data'](){return{'buffers':this['buffers'],'types':this['types'],'baseVersion':this['version']-this['types']['length'],'lastOperationId':this['lastOperationId'],'sessionCreatedAt':this['sessionCreatedAt']};}get['wereChangesApplied'](){var _0x3f6c5e;return!(null===(_0x3f6c5e=this['types'])||void 0x0===_0x3f6c5e?void 0x0:_0x3f6c5e['length'])&&null===this['initData'];}['toJSON'](){var _0x3a2012;return{'channel':this['channel'],'version':this['version'],'sessionId':this['sessionId'],'buffers':this['buffers'],'types':this['types'],'offset':this['offset'],'metadata':operationmetadatahelpers_1['default']['removeUnnecessaryMetadata'](this['types'],this['metadata'])['map'](operationmetadatadescriptor_1['default']['toJSON']),'initData':null!==(_0x3a2012=this['initData'])&&void 0x0!==_0x3a2012?_0x3a2012:'','isInitialized':'string'==typeof this['initData'],'lastOperationId':this['lastOperationId'],'sessionCreatedAt':this['sessionCreatedAt']?this['sessionCreatedAt']['toISOString']():null};}static['create'](_0x5c91b2){return new CollaborativeEditingConnectResponse(_0x5c91b2['channel'],_0x5c91b2['version'],_0x5c91b2['buffers'],_0x5c91b2['types'],_0x5c91b2['offset'],_0x5c91b2['metadata'],_0x5c91b2['initData'],_0x5c91b2['sessionId'],_0x5c91b2['lastOperationId'],_0x5c91b2['sessionCreatedAt']);}static['fromJSON'](_0x596e){var _0x12e8f0;let _0x1d579c=null;return!0x0===_0x596e['isInitialized']?_0x1d579c=null!==(_0x12e8f0=_0x596e['initData'])&&void 0x0!==_0x12e8f0?_0x12e8f0:'':'boolean'!=typeof _0x596e['isInitialized']&&_0x596e['initData']&&(_0x1d579c=_0x596e['initData']),CollaborativeEditingConnectResponse['create']({'channel':_0x596e['channel'],'version':_0x596e['version'],'buffers':_0x596e['buffers'],'types':_0x596e['types'],'offset':_0x596e['offset'],'metadata':operationmetadatahelpers_1['default']['prepareMetadataForOperations'](_0x596e['types'],_0x596e['metadata'])['map'](operationmetadatadescriptor_1['default']['fromJSON']),'initData':_0x1d579c,'sessionId':_0x596e['sessionId'],'lastOperationId':_0x596e['lastOperationId'],'sessionCreatedAt':_0x596e['sessionCreatedAt']?new Date(_0x596e['sessionCreatedAt']):null});}}exports['default']=CollaborativeEditingConnectResponse,CollaborativeEditingConnectResponse['DESCRIPTOR_NAME']='CollaborativeEditingConnectResponse',CollaborativeEditingConnectResponse['DESCRIPTOR']={'fields':{'channel':{'type':'string','id':0x1},'offset':{'type':'uint32','id':0x2},'version':{'type':'uint32','id':0x3},'buffers':{'rule':'repeated','type':'bytes','id':0x4},'types':{'rule':'repeated','type':'uint32','id':0x5},'metadata':{'rule':'repeated','type':operationmetadatadescriptor_1['default']['DESCRIPTOR_NAME'],'id':0x7},'initData':{'type':'string','id':0x8},'isInitialized':{'type':'bool','id':0x9},'sessionId':{'type':'string','id':0xa},'lastOperationId':{'type':'string','id':0xb},'sessionCreatedAt':{'type':'string','id':0xc}}};