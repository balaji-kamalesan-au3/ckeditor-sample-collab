/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4a47=['root','_compareOperations','_compressSingleOperation','__className','_decompressSingleOperation','targetPosition','decompress','sourcePosition','howMany','MoveOperation','_splitCurrent','_getCompressorByName','_context'];(function(_0x254e65,_0x4a47ab){const _0x409aaa=function(_0x4b7a24){while(--_0x4b7a24){_0x254e65['push'](_0x254e65['shift']());}};_0x409aaa(++_0x4a47ab);}(_0x4a47,0x100));const _0x409a=function(_0x254e65,_0x4a47ab){_0x254e65=_0x254e65-0x0;let _0x409aaa=_0x4a47[_0x254e65];return _0x409aaa;};import _0x242bb5 from'./actioncompressor';import{arePositionsEqual as _0x4637a5,getPositionShiftedBy as _0x4b4479}from'../utils';import{cloneDeep as _0x53183c}from'lodash-es';export default class u extends _0x242bb5{['_combineNext'](_0x3918ef,_0x36accb){return _0x36accb[_0x409a('0xc')]++,_0x36accb['sourcePosition']=_0x53183c(_0x3918ef[_0x409a('0xb')]),_0x36accb;}[_0x409a('0x1')](_0x36df10){const _0x2360df=_0x53183c(_0x36df10);return _0x36df10[_0x409a('0xc')]--,_0x2360df[_0x409a('0xc')]=0x1,_0x2360df[_0x409a('0xb')]=_0x4b4479(_0x2360df['sourcePosition'],_0x36df10[_0x409a('0xc')]),_0x2360df;}[_0x409a('0x5')](_0x68caa3,_0x5cdd94){return!(!S(_0x68caa3)||!S(_0x5cdd94))&&(_0x4637a5(_0x4b4479(_0x68caa3[_0x409a('0xb')],-0x1),_0x5cdd94[_0x409a('0xb')])&&_0x4637a5(_0x68caa3['targetPosition'],_0x5cdd94[_0x409a('0x9')]));}[_0x409a('0x6')](_0x49e94e){const _0x37dc3a={'types':[],'buffers':[],'baseVersion':0x0};return this[_0x409a('0x3')][_0x409a('0x2')](_0x409a('0x0'))['compress'](_0x37dc3a,[_0x49e94e]),_0x37dc3a['buffers'][0x0];}[_0x409a('0x8')](_0x47b772){const _0x5568df=[];return this['_context'][_0x409a('0x2')](_0x409a('0x0'))[_0x409a('0xa')](_0x5568df,_0x47b772),_0x5568df[0x0];}}function S(_0xaf9c07){return _0x409a('0x0')==_0xaf9c07[_0x409a('0x7')]&&'$graveyard'==_0xaf9c07[_0x409a('0x9')][_0x409a('0x4')]&&0x1==_0xaf9c07[_0x409a('0xc')]&&!_0xaf9c07['wasUndone'];}