/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x388a=['__className','MoveOperation','root','targetPosition','decompress','_combineNext','sourcePosition','_context','buffers','_decompressSingleOperation','wasUndone','_compareOperations','$graveyard','howMany','_getCompressorByName','compress','_splitCurrent'];(function(_0x2f879c,_0x388a51){const _0xd780ce=function(_0x4bb690){while(--_0x4bb690){_0x2f879c['push'](_0x2f879c['shift']());}};_0xd780ce(++_0x388a51);}(_0x388a,0x12b));const _0xd780=function(_0x2f879c,_0x388a51){_0x2f879c=_0x2f879c-0x0;let _0xd780ce=_0x388a[_0x2f879c];return _0xd780ce;};import _0x46d688 from'./actioncompressor';import{arePositionsEqual as _0x45cffa}from'../utils';import{cloneDeep as _0x381d21}from'lodash-es';export default class l extends _0x46d688{[_0xd780('0xc')](_0x559480,_0x3f5d4d){return _0x3f5d4d[_0xd780('0x3')]++,_0x3f5d4d;}[_0xd780('0x6')](_0x4f95d9){const _0xd993d4=_0x381d21(_0x4f95d9);return _0xd993d4[_0xd780('0x3')]=0x1,_0x4f95d9[_0xd780('0x3')]--,_0xd993d4;}[_0xd780('0x1')](_0x5b2c8f,_0x4c255a){return!(!S(_0x5b2c8f)||!S(_0x4c255a))&&(_0x45cffa(_0x5b2c8f[_0xd780('0xd')],_0x4c255a['sourcePosition'])&&_0x45cffa(_0x5b2c8f[_0xd780('0xa')],_0x4c255a['targetPosition']));}['_compressSingleOperation'](_0x5f10d0){const _0x395045={'types':[],'buffers':[],'baseVersion':0x0};return this['_context'][_0xd780('0x4')]('MoveOperation')[_0xd780('0x5')](_0x395045,[_0x5f10d0]),_0x395045[_0xd780('0xf')][0x0];}[_0xd780('0x10')](_0x39cbe0){const _0x25416e=[];return this[_0xd780('0xe')][_0xd780('0x4')](_0xd780('0x8'))[_0xd780('0xb')](_0x25416e,_0x39cbe0),_0x25416e[0x0];}}function S(_0x435c95){return _0xd780('0x8')==_0x435c95[_0xd780('0x7')]&&_0xd780('0x2')==_0x435c95[_0xd780('0xa')][_0xd780('0x9')]&&0x1==_0x435c95[_0xd780('0x3')]&&!_0x435c95[_0xd780('0x0')];}