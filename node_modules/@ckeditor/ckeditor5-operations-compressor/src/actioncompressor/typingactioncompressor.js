/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5381=['InsertOperation','length','decompress','_compareOperations','value','_getCompressorByName','_decompressSingleOperation','substr','every','data','__className','wasUndone','buffers','position','next','_context','attributes','nodes','keys','iterator','_combineNext'];(function(_0x57b830,_0x5381d9){const _0x524a25=function(_0x1fd552){while(--_0x1fd552){_0x57b830['push'](_0x57b830['shift']());}};_0x524a25(++_0x5381d9);}(_0x5381,0x1d4));const _0x524a=function(_0x57b830,_0x5381d9){_0x57b830=_0x57b830-0x0;let _0x524a25=_0x5381[_0x57b830];return _0x524a25;};import _0x5a3626 from'./actioncompressor';import{arePositionsEqual as _0x5cbaf5,getPositionShiftedBy as _0x5d8fcc}from'../utils';import{cloneDeep as _0x1ddcb4}from'lodash-es';export default class g extends _0x5a3626{[_0x524a('0xe')](_0x2f7f2c,_0xf53435){return _0xf53435[_0x524a('0xb')][0x0][_0x524a('0x3')]+=_0x2f7f2c[_0x524a('0xb')][0x0][_0x524a('0x3')],_0xf53435;}['_splitCurrent'](_0x45453e){const _0x5096a6=_0x1ddcb4(_0x45453e),_0x284c97=_0x5096a6[_0x524a('0xb')][0x0],_0x420332=_0x45453e['nodes'][0x0],_0x950e4f=_0x420332[_0x524a('0x3')][Symbol[_0x524a('0xd')]]()[_0x524a('0x8')]()[_0x524a('0x13')],_0x300e61=_0x950e4f['length'];return _0x284c97[_0x524a('0x3')]=_0x950e4f,_0x420332[_0x524a('0x3')]=_0x420332[_0x524a('0x3')][_0x524a('0x1')](_0x300e61),_0x45453e[_0x524a('0x7')]=_0x5d8fcc(_0x45453e[_0x524a('0x7')],_0x300e61),_0x5096a6;}[_0x524a('0x12')](_0x49407a,_0x2746f1){if(S(_0x49407a)&&S(_0x2746f1)){const _0x27b475=_0x49407a['nodes'][0x0][_0x524a('0x3')][_0x524a('0x10')],_0x380f9b=_0x5cbaf5(_0x5d8fcc(_0x49407a[_0x524a('0x7')],_0x27b475),_0x2746f1[_0x524a('0x7')]),_0xe539d4=_0x49407a['nodes'][0x0],_0x1a419d=_0x2746f1['nodes'][0x0];return _0x380f9b&&function(_0x5d8d63,_0x5961d3){const _0x5a5e79=Object[_0x524a('0xc')](_0x5d8d63[_0x524a('0xa')]||{}),_0x3bc7cd=Object['keys'](_0x5961d3[_0x524a('0xa')]||{});if(_0x5a5e79[_0x524a('0x10')]!==_0x3bc7cd[_0x524a('0x10')])return!0x1;return _0x5a5e79[_0x524a('0x2')](_0x540429=>_0x5961d3[_0x524a('0xa')][_0x540429]&&_0x5961d3[_0x524a('0xa')][_0x540429]===_0x5d8d63[_0x524a('0xa')][_0x540429]);}(_0xe539d4,_0x1a419d);}return!0x1;}['_compressSingleOperation'](_0x5dbbb3){const _0x41819e={'types':[],'buffers':[],'baseVersion':0x0};return this[_0x524a('0x9')][_0x524a('0x14')](_0x524a('0xf'))['compress'](_0x41819e,[_0x5dbbb3]),_0x41819e[_0x524a('0x6')][0x0];}[_0x524a('0x0')](_0x417e4c){const _0x4d19b6=[];return this[_0x524a('0x9')][_0x524a('0x14')](_0x524a('0xf'))[_0x524a('0x11')](_0x4d19b6,_0x417e4c),_0x4d19b6[0x0];}}function S(_0x3c693b){return'InsertOperation'==_0x3c693b[_0x524a('0x4')]&&0x1==_0x3c693b['nodes'][_0x524a('0x10')]&&_0x3c693b[_0x524a('0xb')][0x0][_0x524a('0x3')]&&!_0x3c693b[_0x524a('0x5')]&&0x1==Array['from'](_0x3c693b[_0x524a('0xb')][0x0][_0x524a('0x3')])[_0x524a('0x10')];}