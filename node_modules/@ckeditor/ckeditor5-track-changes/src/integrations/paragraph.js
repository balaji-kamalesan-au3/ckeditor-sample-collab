/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x587e=['end','checkChild','*Change\x20to:*\x20%0','commandName','consume','locale','span','filter','start','getItemLabel','model','ELEMENT_PARAGRAPH','mapper','parent','get','document','ck-suggestion-marker-split','consumable','insert','highest','markBlockFormat','insertion','afterInit','enableCommand','getSelectedBlocks','type','includes','selection','*Insert:*\x20%0','markerRange','nodeAfter','_descriptionFactory','createUIElement','ck-suggestion-marker--active','schema','isBlock','getFirstRange','has','isTouching','activeMarkers','addMarker:suggestion:insertion','bindElementToMarker','editor','name','markerName','showSuggestionHighlights','$text','editing','Paragraph','writer','blockName','insertParagraph','paragraph','isLimit','plugins','registerDescriptionCallback','from','change','TrackChangesEditing'];(function(_0x1f1e1c,_0x587efa){const _0x532b36=function(_0x3f7442){while(--_0x3f7442){_0x1f1e1c['push'](_0x1f1e1c['shift']());}};_0x532b36(++_0x587efa);}(_0x587e,0xe6));const _0x532b=function(_0x1f1e1c,_0x587efa){_0x1f1e1c=_0x1f1e1c-0x0;let _0x532b36=_0x587e[_0x1f1e1c];return _0x532b36;};import{Plugin as _0x56b23c}from'ckeditor5/src/core';import{getElementsAffectedByListItemRename as _0xacd984}from'./utils';import{getTranslation as _0x320cc3}from'../utils/common-translations';export default class ot extends _0x56b23c{[_0x532b('0x1c')](){const _0x3b45a4=this[_0x532b('0x30')];if(!_0x3b45a4[_0x532b('0x1')][_0x532b('0x2b')](_0x532b('0x36')))return;const _0x249c69=_0x3b45a4[_0x532b('0xb')],_0x1e37ab=_0x3b45a4[_0x532b('0x1')]['get'](_0x532b('0x5'));_0x1e37ab[_0x532b('0x25')]['registerElementLabel']('paragraph',_0x35d147=>_0x320cc3(_0x249c69,_0x532b('0x11'),_0x35d147)),_0x1e37ab[_0x532b('0x1d')](_0x532b('0x3a'),(_0x28e8d0,_0x57ab38={})=>{const _0x4ee290=_0x3b45a4[_0x532b('0x10')][_0x532b('0x15')],_0x32c082=_0x57ab38[_0x532b('0x21')]||_0x4ee290['selection'],_0x43e0a5=Array[_0x532b('0x3')](_0x32c082[_0x532b('0x1e')]())[_0x532b('0xd')](_0x374766=>function(_0x30fd51,_0x40a97a){return _0x40a97a[_0x532b('0x7')](_0x30fd51[_0x532b('0x13')],_0x532b('0x3a'))&&!_0x40a97a['isObject'](_0x30fd51)&&'paragraph'!=_0x30fd51[_0x532b('0x31')];}(_0x374766,this[_0x532b('0x30')][_0x532b('0x10')][_0x532b('0x28')]));_0x3b45a4[_0x532b('0x10')][_0x532b('0x4')](()=>{for(const _0x33908 of _0x43e0a5)_0x1e37ab[_0x532b('0x1a')](_0x33908,{'commandName':_0x532b('0x3a'),'commandParams':[],'formatGroupId':_0x532b('0x38')},_0xacd984(_0x33908));});}),_0x1e37ab[_0x532b('0x25')][_0x532b('0x2')](_0x5b6890=>{const {data:_0xe515c3}=_0x5b6890;if(_0xe515c3&&_0x532b('0x3a')==_0xe515c3[_0x532b('0x9')])return{'type':'format','content':_0x320cc3(_0x249c69,_0x532b('0x8'),_0x320cc3(_0x249c69,_0x532b('0x11')))};}),_0x1e37ab[_0x532b('0x1d')](_0x532b('0x39')),_0x3b45a4[_0x532b('0x35')]['downcastDispatcher']['on'](_0x532b('0x2e'),tr(_0x3b45a4),{'priority':_0x532b('0x19')}),_0x3b45a4['data']['downcastDispatcher']['on'](_0x532b('0x2e'),(_0x4a06e6,_0x4389dc,_0x48b4f9)=>{_0x48b4f9['options'][_0x532b('0x33')]&&tr(_0x3b45a4,{'showActiveMarker':!0x1})(_0x4a06e6,_0x4389dc,_0x48b4f9);},{'priority':'highest'});const _0x26677f=_0x1e37ab['_descriptionFactory'];_0x26677f['registerDescriptionCallback'](_0x53dc98=>{if(_0x532b('0x1b')!==_0x53dc98[_0x532b('0x1f')])return;const {start:_0x121271,end:_0x4f0c37}=_0x53dc98[_0x532b('0x2a')]();if(!_0x121271[_0x532b('0x2c')](_0x4f0c37)||!_0x121271[_0x532b('0x24')])return;const _0x59b8b2=_0x3b45a4[_0x532b('0x10')][_0x532b('0x28')],_0x2c5ac9=_0x121271[_0x532b('0x24')];return _0x59b8b2[_0x532b('0x29')](_0x2c5ac9)&&!_0x59b8b2[_0x532b('0x0')](_0x2c5ac9)&&_0x59b8b2[_0x532b('0x7')](_0x2c5ac9,_0x532b('0x34'))?{'type':_0x532b('0x1b'),'content':_0x320cc3(_0x249c69,_0x532b('0x22'),_0x26677f[_0x532b('0xf')](_0x2c5ac9['name'],0x1))}:void 0x0;});}}function tr(_0x230ba6,{showActiveMarker:_0x5ded78=!0x0}={}){return(_0x518391,_0x4a2be1,_0x1588e4)=>{const _0x43eec6=_0x230ba6[_0x532b('0x1')][_0x532b('0x14')]('TrackChangesEditing'),_0x2500be=_0x4a2be1['markerRange'][_0x532b('0xe')],_0x221643=_0x4a2be1[_0x532b('0x23')][_0x532b('0x6')],_0x3cc7db=_0x230ba6[_0x532b('0x10')]['schema'];if(!_0x2500be['isTouching'](_0x221643)||!_0x2500be[_0x532b('0x24')])return;const _0x1a80cb=_0x2500be[_0x532b('0x24')];if(_0x3cc7db[_0x532b('0x29')](_0x1a80cb)&&!_0x3cc7db[_0x532b('0x0')](_0x1a80cb)&&_0x3cc7db[_0x532b('0x7')](_0x1a80cb,_0x532b('0x34'))){if(!_0x1588e4[_0x532b('0x17')][_0x532b('0xa')](_0x4a2be1[_0x532b('0x23')],_0x518391['name']))return;const _0x45446a=_0x1588e4['writer'][_0x532b('0x26')](_0x532b('0xc'),{'class':_0x532b('0x16')}),_0x4cc2ef=_0x1588e4[_0x532b('0x12')]['toViewPosition'](_0x221643);_0x5ded78&&_0x43eec6[_0x532b('0x2d')][_0x532b('0x20')](_0x4a2be1[_0x532b('0x32')])&&_0x1588e4[_0x532b('0x37')]['addClass'](_0x532b('0x27'),_0x45446a),_0x1588e4[_0x532b('0x37')][_0x532b('0x18')](_0x4cc2ef,_0x45446a),_0x1588e4[_0x532b('0x12')][_0x532b('0x2f')](_0x45446a,_0x4a2be1[_0x532b('0x32')]);}};}