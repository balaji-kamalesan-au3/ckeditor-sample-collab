/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5873=['forceDefaultExecution','add','size','mergeTableCellLeft','cell','direction','getRanges','type','document','TableEditing','editor','_areMergableCells','afterInit','*Split\x20cell:*\x20horizontally','_isForcedDefaultExecutionBlock','$graveyard','*Merge\x20cells*','stop','return','filter','mergeTableCellUp','findAncestor','_tablePostFixingSubtypes','getSelectionAffectedTableCells','_suggestionFactory','from','mergeTableCellDown','formatBlock','change','containsRange','length','enableCommand','locale','author','plugins','rootName','createTableWalker','highest','TableUtils','_descriptionFactory','mergeTableCellRight','find','getFirstPosition','mergeTableCells','map','commands','root','execute','registerCustomCallback','trackChanges','selection','markBlockFormat','getAncestors','splitTableCellVertically','horizontally','subType','tableCell','createRangeOn','value','element','getCellLocation','refresh','format','commandName','detach','has','requires','fromRange','registerDescriptionCallback','push','low','deletion','markMultiRangeBlockFormat','model','setSelection','accept','_areSelectedCellsMergable','splitTableCellHorizontally','isEnabled','set:isEnabled','get'];(function(_0x5b45bb,_0x58732d){const _0xae00d3=function(_0xc05351){while(--_0xc05351){_0x5b45bb['push'](_0x5b45bb['shift']());}};_0xae00d3(++_0x58732d);}(_0x5873,0x1e3));const _0xae00=function(_0x5b45bb,_0x58732d){_0x5b45bb=_0x5b45bb-0x0;let _0xae00d3=_0x5873[_0x5b45bb];return _0xae00d3;};import{Plugin as _0x1f06c6}from'ckeditor5/src/core';import _0x157129 from'./table';import{LiveRange as _0x569439}from'ckeditor5/src/engine';import{getTranslation as _0x3d0404}from'../utils/common-translations';export default class gt extends _0x1f06c6{static get[_0xae00('0x45')](){return[_0x157129];}[_0xae00('0xf')](){const _0x1b0d99=this[_0xae00('0xd')],_0x4168ac=_0x1b0d99[_0xae00('0x4c')][_0xae00('0xb')]['selection'],_0x5a893f=_0x1b0d99[_0xae00('0x23')];if(!_0x1b0d99['plugins'][_0xae00('0x44')](_0xae00('0xc')))return;const _0x2e5ad0=_0x1b0d99[_0xae00('0x25')][_0xae00('0x2')]('TrackChangesEditing'),_0x5df32e=_0x1b0d99[_0xae00('0x25')][_0xae00('0x2')](_0xae00('0x29')),_0x31be95=_0x1b0d99['plugins'][_0xae00('0x2')](_0x157129);_0x31be95[_0xae00('0x19')][_0xae00('0x48')]('mergeTableCells'),_0x2e5ad0['enableCommand'](_0xae00('0x2e'),()=>{const _0x5023db=_0x5df32e[_0xae00('0x1a')](_0x1b0d99['model'][_0xae00('0xb')]['selection']);_0x1b0d99['model']['change'](()=>{_0x2e5ad0[_0xae00('0x4b')](_0x5023db,{'commandName':_0xae00('0x2e'),'commandParams':[]},[],_0xae00('0x2e'));});}),_0x1b0d99[_0xae00('0x30')][_0xae00('0x2')](_0xae00('0x2e'))['on'](_0xae00('0x32'),(_0x3bcca5,_0x5b7ad9)=>{_0x1b0d99['commands'][_0xae00('0x2')](_0xae00('0x34'))[_0xae00('0x3d')]&&(_0x5b7ad9[_0xae00('0x21')]>0x0&&_0x5b7ad9[_0x5b7ad9[_0xae00('0x21')]-0x1]&&_0x5b7ad9[_0x5b7ad9[_0xae00('0x21')]-0x1][_0xae00('0x3')]||_0x2e5ad0[_0xae00('0x11')]||this[_0xae00('0x4f')]()||_0x3bcca5[_0xae00('0x14')]());},{'priority':_0xae00('0x28')});for(const _0x53681d of[_0xae00('0x17'),_0xae00('0x2b'),_0xae00('0x1d'),_0xae00('0x6')]){const _0x143338=_0x1b0d99['commands'][_0xae00('0x2')](_0x53681d);_0x2e5ad0[_0xae00('0x22')](_0x53681d,()=>{const _0x3d43d5=_0x1b0d99['model'][_0xae00('0xb')][_0xae00('0x35')][_0xae00('0x2d')]()[_0xae00('0x37')]()[_0xae00('0x2c')](_0x57680d=>_0x57680d['is'](_0xae00('0x3e'),'tableCell')),_0x3a0a3a=_0x143338[_0xae00('0x3d')];_0x1b0d99['model'][_0xae00('0x1f')](()=>{_0x2e5ad0[_0xae00('0x4b')]([_0x3d43d5,_0x3a0a3a],{'commandName':_0xae00('0x2e'),'commandParams':[]},[],_0xae00('0x2e'));});});}for(const _0x151a24 of[_0xae00('0x38'),'splitTableCellHorizontally']){const _0x1e54c3=_0x1b0d99[_0xae00('0x30')][_0xae00('0x2')](_0x151a24);_0x2e5ad0[_0xae00('0x22')](_0x151a24,()=>{const _0x48e63e=_0x5df32e[_0xae00('0x1a')](_0x1b0d99['model'][_0xae00('0xb')]['selection'])[0x0],_0x3559e4=_0x48e63e[_0xae00('0x18')]('table'),{column:_0x54984b,row:_0x1ab1e6}=_0x5df32e[_0xae00('0x3f')](_0x48e63e);let _0x2cc86e=[];if(_0xae00('0x39')==_0x1e54c3[_0xae00('0x8')]){const _0x509ce6=_0x5df32e[_0xae00('0x27')](_0x3559e4,{'startRow':_0x1ab1e6,'endRow':_0x1ab1e6,'includeAllSlots':!0x0});_0x2cc86e=Array[_0xae00('0x1c')](_0x509ce6)[_0xae00('0x2f')](_0xcd8618=>_0xcd8618[_0xae00('0x7')]);}else{const _0x6d24df=_0x5df32e[_0xae00('0x27')](_0x3559e4,{'column':_0x54984b,'includeAllSlots':!0x0});_0x2cc86e=Array[_0xae00('0x1c')](_0x6d24df)[_0xae00('0x2f')](_0x5c8b6f=>_0x5c8b6f[_0xae00('0x7')]);}_0x1b0d99[_0xae00('0x4c')]['change'](_0x1732a3=>{_0x2e5ad0[_0xae00('0x36')](_0x1732a3[_0xae00('0x3c')](_0x48e63e),{'commandName':_0x151a24,'commandParams':[]},_0x2cc86e,_0x151a24);});});}_0x2e5ad0[_0xae00('0x2a')][_0xae00('0x47')](_0x56e885=>{const {data:_0x16e3b6}=_0x56e885;if(_0x16e3b6)return _0xae00('0x2e')==_0x16e3b6[_0xae00('0x42')]?{'type':_0xae00('0x41'),'content':_0x3d0404(_0x5a893f,_0xae00('0x13'))}:void 0x0;}),_0x2e5ad0[_0xae00('0x2a')]['registerDescriptionCallback'](_0x538036=>{const {data:_0x52c8b9}=_0x538036;if(_0x52c8b9)return _0xae00('0x38')==_0x52c8b9[_0xae00('0x42')]?{'type':_0xae00('0x41'),'content':_0x3d0404(_0x5a893f,'*Split\x20cell:*\x20vertically')}:_0xae00('0x50')==_0x52c8b9[_0xae00('0x42')]?{'type':'format','content':_0x3d0404(_0x5a893f,_0xae00('0x10'))}:void 0x0;});const _0x1e1b5d=_0x31be95['_acceptFormatSuggestionCallbackFactory']();for(const _0x1ea81d of[_0xae00('0x17'),_0xae00('0x2b'),_0xae00('0x1d'),_0xae00('0x6')])_0x2e5ad0['_suggestionFactory'][_0xae00('0x33')](_0xae00('0x1e'),_0x1ea81d,'accept',_0x1e1b5d);for(const _0x1be6e6 of[_0xae00('0x38'),_0xae00('0x50')])_0x2e5ad0[_0xae00('0x1b')][_0xae00('0x33')](_0xae00('0x1e'),_0x1be6e6,_0xae00('0x4e'),_0x1e1b5d);_0x2e5ad0['_suggestionFactory'][_0xae00('0x33')](_0xae00('0x1e'),_0xae00('0x2e'),_0xae00('0x4e'),_0x5da726=>{_0x1b0d99[_0xae00('0x4c')][_0xae00('0x1f')](_0x36dc0c=>{const _0xc9e791=Array[_0xae00('0x1c')](_0x4168ac[_0xae00('0x9')]())[_0xae00('0x2f')](_0x20c9d5=>_0x569439[_0xae00('0x46')](_0x20c9d5));_0x36dc0c[_0xae00('0x4d')](_0x5da726),_0x1b0d99[_0xae00('0x30')][_0xae00('0x2')](_0xae00('0x2e'))[_0xae00('0x40')](),_0x1b0d99[_0xae00('0x32')]('mergeTableCells',{'forceDefaultExecution':!0x0});const _0x1c2e3e=_0xc9e791[_0xae00('0x16')](_0x222f00=>_0xae00('0x12')!=_0x222f00[_0xae00('0x31')][_0xae00('0x26')]);_0x1c2e3e[_0xae00('0x21')]>0x0&&_0x36dc0c[_0xae00('0x4d')](_0x1c2e3e);for(const _0x36d3c9 of _0xc9e791)_0x36d3c9[_0xae00('0x43')]();});});for(const _0x4e3f4b of[_0xae00('0x17'),_0xae00('0x1d'),_0xae00('0x6'),_0xae00('0x2b')]){const _0x53f4f5=_0x1b0d99['commands'][_0xae00('0x2')](_0x4e3f4b);_0x53f4f5['on'](_0xae00('0x1'),(_0x2fc631,_0x3d2447,_0xb76e55)=>{if(_0xb76e55){const _0x1c9caa=_0x1b0d99['model'][_0xae00('0xb')][_0xae00('0x35')][_0xae00('0x2d')]()[_0xae00('0x37')]()[_0xae00('0x2c')](_0x328bbe=>_0x328bbe['is'](_0xae00('0x3e'),_0xae00('0x3b')));this[_0xae00('0xe')](_0x53f4f5[_0xae00('0x3d')],_0x1c9caa)||(_0x2fc631[_0xae00('0x15')]=!0x1,_0x2fc631[_0xae00('0x14')]());}},{'priority':_0xae00('0x49')});}}[_0xae00('0x4f')](){const _0x2497f9=this[_0xae00('0xd')][_0xae00('0x30')]['get'](_0xae00('0x2e')),_0x1e0c4b=this[_0xae00('0xd')][_0xae00('0x25')][_0xae00('0x2')](_0xae00('0x29'));if(!_0x2497f9[_0xae00('0x0')])return!0x1;const _0x56b11f=_0x1e0c4b['getSelectionAffectedTableCells'](this[_0xae00('0xd')][_0xae00('0x4c')][_0xae00('0xb')]['selection']);for(const _0x381f70 of _0x56b11f)for(const _0x277708 of _0x56b11f)if(_0x381f70!=_0x277708&&!this[_0xae00('0xe')](_0x381f70,_0x277708))return!0x1;return!0x0;}[_0xae00('0xe')](_0x243ef7,_0x4e3667){const _0xa56fb=this[_0xae00('0xd')][_0xae00('0x25')]['get']('TrackChangesEditing'),_0x330b15=this['editor']['model']['createRangeOn'](_0x243ef7),_0x34da99=this[_0xae00('0xd')][_0xae00('0x4c')]['createRangeOn'](_0x4e3667),_0x5d073f=new Set(),_0x25887d=new Set();for(const _0x1c2cd8 of _0xa56fb['getSuggestions']())if(('insertion'==_0x1c2cd8[_0xae00('0xa')]||_0xae00('0x4a')==_0x1c2cd8[_0xae00('0xa')]||_0xae00('0x2e')==_0x1c2cd8[_0xae00('0x3a')])&&_0x1c2cd8['isInContent'])for(const _0x514f7c of _0x1c2cd8[_0xae00('0x9')]())_0x514f7c['containsRange'](_0x330b15,!0x0)&&_0x5d073f[_0xae00('0x4')](_0x1c2cd8[_0xae00('0xa')]+':'+_0x1c2cd8[_0xae00('0x24')]['id']),_0x514f7c[_0xae00('0x20')](_0x34da99,!0x0)&&_0x25887d['add'](_0x1c2cd8['type']+':'+_0x1c2cd8[_0xae00('0x24')]['id']);if(_0x5d073f['size']!=_0x25887d[_0xae00('0x5')])return!0x1;for(const _0x4f27a3 of _0x5d073f)if(!_0x25887d[_0xae00('0x44')](_0x4f27a3))return!0x1;return!0x0;}}