/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1066=['item','commandParams','format','plugins','hasAttribute','afterInit','document','registerDescriptionCallback','getAttribute','find','selection','markInlineFormat','color','FORMAT_HIGHLIGHT','config','_descriptionFactory','value','toLowerCase','getFirstPosition','model','TrackChangesEditing','highlight','push','editor','enableCommand','title','has','HighlightEditing','getLastMatchingPosition','get','highlight.options','*Remove\x20highlight*','commandName','formatInline','isCollapsed','*Set\x20highlight:*\x20%0','locale'];(function(_0x43a8e8,_0x106615){const _0x11cacd=function(_0x18f15d){while(--_0x18f15d){_0x43a8e8['push'](_0x43a8e8['shift']());}};_0x11cacd(++_0x106615);}(_0x1066,0x180));const _0x11ca=function(_0x43a8e8,_0x106615){_0x43a8e8=_0x43a8e8-0x0;let _0x11cacd=_0x1066[_0x43a8e8];return _0x11cacd;};import{Plugin as _0x5b9a26}from'ckeditor5/src/core';import{getTranslation as _0x33ef89}from'../utils/common-translations';import{getRangesWithAttribute as _0x525697}from'./utils';export default class J extends _0x5b9a26{[_0x11ca('0x1c')](){const _0x55df15=this[_0x11ca('0x9')];if(!_0x55df15[_0x11ca('0x1a')][_0x11ca('0xc')](_0x11ca('0xd')))return;const _0xf0ae90=_0x55df15[_0x11ca('0x1a')][_0x11ca('0xf')](_0x11ca('0x6'));_0xf0ae90[_0x11ca('0xa')](_0x11ca('0x7'),(_0x57d922,_0x13d88c={})=>{const _0x5ae243=_0x55df15[_0x11ca('0x5')][_0x11ca('0x1d')][_0x11ca('0x21')],_0x9a797b=_0x5ae243[_0x11ca('0x1f')]('highlight');let _0xa64045=_0x13d88c['value'],_0x71d5c6=[];if(_0x5ae243[_0x11ca('0x14')]){const _0x2b07ab=_0x5ae243[_0x11ca('0x4')]();if(!_0x5ae243[_0x11ca('0x1b')](_0x11ca('0x7')))return void _0x57d922(_0x13d88c);{const _0x1a715c=_0x25996b=>_0x25996b[_0x11ca('0x17')][_0x11ca('0x1f')]('highlight')===_0x9a797b,_0x484310=_0x2b07ab[_0x11ca('0xe')](_0x1a715c,{'direction':'backward'}),_0x5d2036=_0x2b07ab[_0x11ca('0xe')](_0x1a715c);_0x71d5c6=[_0x55df15['model']['createRange'](_0x484310,_0x5d2036)],_0xa64045==_0x9a797b&&(_0xa64045=null);}}else for(const _0x4463fe of _0x5ae243['getRanges']())_0xa64045?_0x71d5c6[_0x11ca('0x8')](_0x4463fe):_0x71d5c6[_0x11ca('0x8')](..._0x525697(_0x11ca('0x7'),_0x4463fe,_0x55df15[_0x11ca('0x5')]));_0x55df15[_0x11ca('0x5')]['change'](()=>{for(const _0x3f95b6 of _0x71d5c6)_0xf0ae90[_0x11ca('0x22')](_0x3f95b6,{'commandName':_0x11ca('0x7'),'commandParams':[{'value':_0xa64045}]});});});const _0x5bede0=_0x55df15[_0x11ca('0x16')];_0xf0ae90[_0x11ca('0x1')][_0x11ca('0x1e')](_0x24882a=>{const {type:_0x369d84,data:_0x48a54a}=_0x24882a;if(_0x11ca('0x13')==_0x369d84&&_0x48a54a&&_0x11ca('0x7')==_0x48a54a[_0x11ca('0x12')]){const _0x4d352f=_0x48a54a[_0x11ca('0x18')][0x0][_0x11ca('0x2')];if(_0x4d352f){const _0x5dc8e9=_0x55df15[_0x11ca('0x0')]['get'](_0x11ca('0x10'))[_0x11ca('0x20')](_0xc8ba6=>_0xc8ba6[_0x11ca('0x5')]==_0x4d352f),_0x532090=_0x5bede0['_t'](_0x5dc8e9[_0x11ca('0xb')])[_0x11ca('0x3')]();return{'type':_0x11ca('0x19'),'content':_0x33ef89(_0x5bede0,_0x11ca('0x15'),_0x532090),'color':{'value':_0x5dc8e9[_0x11ca('0x23')],'title':_0x5dc8e9[_0x11ca('0xb')]}};}return{'type':'format','content':_0x33ef89(_0x5bede0,_0x11ca('0x11'),_0x33ef89(_0x5bede0,_0x11ca('0x24')))};}});}}