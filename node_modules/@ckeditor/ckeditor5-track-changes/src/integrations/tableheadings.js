/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x348c=['highest','_acceptFormatSuggestionCallbackFactory','name','registerCustomCallback','commands','removeMarker:suggestion','setTableColumnHeader','TableUtils','options','get','addMarker:suggestion','_splitMarkerName','createPositionBefore','parent','consumable','removeAttribute','markBlockFormat','FORMAT_HEADER_COLUMN','findAncestor','includes','formatBlock','data-suggestion','markerName','TableEditing','start','addClass','createPositionAfter','markerNameToElements','last','_descriptionFactory','locale','from','createRange','FORMAT_HEADER_ROW','*Format:*\x20%0','TrackChangesEditing','plugins','isBefore','writer','getAttribute','enableCommand','model','getCellLocation','nodeAfter','commandName','table','change','has','toViewElement','getChild','first','value','FORMAT_REGULAR_ROW','markerRange','createTableWalker','setTableRowHeader','getColumnIndexes','getSuggestion','bindElementToMarker','mapper','ck-suggestion-marker-','ck-suggestion-marker--active','forceValue','stop','getRowIndexes','getSelectionAffectedTableCells','data','commandParams','index','activeMarkers','headingColumns','removeClass','registerDescriptionCallback','_suggestionFactory','unbindElementFromMarkerName','accept','downcastDispatcher','afterInit','FORMAT_REGULAR_COLUMN','consume','cell','document','childCount','editing'];(function(_0x39bb16,_0x348c9e){const _0x56b2ac=function(_0x5baaae){while(--_0x5baaae){_0x39bb16['push'](_0x39bb16['shift']());}};_0x56b2ac(++_0x348c9e);}(_0x348c,0x156));const _0x56b2=function(_0x39bb16,_0x348c9e){_0x39bb16=_0x39bb16-0x0;let _0x56b2ac=_0x348c[_0x39bb16];return _0x56b2ac;};import{Plugin as _0x56b511}from'ckeditor5/src/core';import _0x144de8 from'./table';import{getTranslation as _0x3148f1}from'../utils/common-translations';export default class lt extends _0x56b511{static get['requires'](){return[_0x144de8];}[_0x56b2('0x47')](){const _0x381c6b=this['editor'];if(!_0x381c6b[_0x56b2('0x1e')][_0x56b2('0x29')](_0x56b2('0x11')))return;const _0x3ef7a5=_0x381c6b[_0x56b2('0x18')],_0x2d339e=_0x381c6b['plugins'][_0x56b2('0x3')](_0x56b2('0x1d')),_0x3a20ee=_0x381c6b[_0x56b2('0x1e')][_0x56b2('0x3')](_0x56b2('0x1')),_0x41c04a=_0x381c6b[_0x56b2('0x1e')][_0x56b2('0x3')](_0x144de8);function _0x7414d5({showActiveMarker:_0x3ac8e7=!0x0,setDataAttribute:_0x6746=!0x0}={}){return(_0x1ed864,_0x231feb,_0x49e760)=>{const {type:_0x51b525,id:_0x39f169}=_0x2d339e[_0x56b2('0x5')](_0x231feb[_0x56b2('0x10')]),_0x1d38e4=_0x2d339e[_0x56b2('0x33')](_0x39f169);if(!_0x1d38e4[_0x56b2('0x3c')]||_0x56b2('0x0')!=_0x1d38e4[_0x56b2('0x3c')]['commandName'])return;if(_0x231feb['item'])return void _0x1ed864[_0x56b2('0x39')]();if(!_0x49e760[_0x56b2('0x8')][_0x56b2('0x49')](_0x231feb['markerRange'],_0x1ed864[_0x56b2('0x50')]))return;const _0x4477a7=_0x231feb[_0x56b2('0x2f')][_0x56b2('0x12')][_0x56b2('0x25')],_0x3a865e=_0x231feb[_0x56b2('0x2f')]['end']['nodeBefore'],_0xe6680c=_0x4477a7[_0x56b2('0x7')][_0x56b2('0x7')],{column:_0x3e4cc5}=_0x3a20ee['getCellLocation'](_0x4477a7),{column:_0x449e9b}=_0x3a20ee[_0x56b2('0x24')](_0x3a865e);for(let _0x1d4aeb=_0x3e4cc5;_0x1d4aeb<=_0x449e9b;_0x1d4aeb++){const _0x16bcb8=_0x3a20ee[_0x56b2('0x30')](_0xe6680c,{'column':_0x1d4aeb,'includeAllSlots':!0x1});for(const _0x52ec65 of _0x16bcb8){const _0x389b72=_0x52ec65['cell'],_0x2a1bad=_0x49e760[_0x56b2('0x35')][_0x56b2('0x2a')](_0x389b72);_0x49e760['writer']['addClass'](_0x56b2('0x36')+_0x51b525,_0x2a1bad),_0x6746&&_0x49e760[_0x56b2('0x20')]['setAttribute'](_0x56b2('0xf'),_0x39f169,_0x2a1bad),_0x49e760[_0x56b2('0x35')][_0x56b2('0x34')](_0x2a1bad,_0x231feb['markerName']),_0x3ac8e7&&(_0x2d339e[_0x56b2('0x3f')][_0x56b2('0xd')](_0x231feb[_0x56b2('0x10')])?_0x49e760[_0x56b2('0x20')][_0x56b2('0x13')](_0x56b2('0x37'),_0x2a1bad):_0x49e760[_0x56b2('0x20')][_0x56b2('0x41')](_0x56b2('0x37'),_0x2a1bad));}}};}_0x2d339e[_0x56b2('0x22')]('setTableRowHeader',(_0x58471c,_0x30b115)=>{const _0x1c62b7=_0x3a20ee[_0x56b2('0x3b')](_0x381c6b[_0x56b2('0x23')][_0x56b2('0x4b')]['selection']),_0x45ceca=_0x3a20ee[_0x56b2('0x3a')](_0x1c62b7),_0x1beaa2=_0x1c62b7[0x0][_0x56b2('0xc')](_0x56b2('0x27')),_0x31267a=_0x1beaa2[_0x56b2('0x21')]('headingRows')||0x0,_0x1af624=_0x30b115&&null!==_0x30b115['forceValue']?_0x30b115[_0x56b2('0x38')]:!_0x381c6b[_0x56b2('0x52')]['get'](_0x56b2('0x31'))[_0x56b2('0x2d')],_0x4cbfb8=_0x1af624?_0x45ceca['last']:_0x45ceca[_0x56b2('0x2c')],_0x5dfbae=_0x1beaa2[_0x56b2('0x2b')](_0x4cbfb8);let _0x188449;if(_0x1af624){const _0x5bcee9=_0x1beaa2['getChild'](_0x31267a);if(_0x5dfbae[_0x56b2('0x3e')]<_0x5bcee9[_0x56b2('0x3e')])return;_0x188449=_0x381c6b[_0x56b2('0x23')][_0x56b2('0x1a')](_0x381c6b[_0x56b2('0x23')][_0x56b2('0x6')](_0x5bcee9['getChild'](0x0)),_0x381c6b[_0x56b2('0x23')][_0x56b2('0x14')](_0x5dfbae[_0x56b2('0x2b')](_0x5dfbae[_0x56b2('0x4c')]-0x1)));}else{const _0x559c0c=_0x1beaa2[_0x56b2('0x2b')](_0x31267a-0x1);if(!_0x559c0c)return;_0x188449=_0x381c6b[_0x56b2('0x23')][_0x56b2('0x1a')](_0x381c6b[_0x56b2('0x23')][_0x56b2('0x6')](_0x5dfbae[_0x56b2('0x2b')](0x0)),_0x381c6b[_0x56b2('0x23')][_0x56b2('0x14')](_0x559c0c[_0x56b2('0x2b')](_0x559c0c['childCount']-0x1)));}_0x381c6b[_0x56b2('0x23')][_0x56b2('0x28')](()=>{_0x2d339e[_0x56b2('0xa')](_0x188449,{'commandName':_0x56b2('0x31'),'commandParams':[{'forceValue':_0x1af624}]},[],_0x56b2('0x31'));});}),_0x2d339e[_0x56b2('0x22')](_0x56b2('0x0'),(_0x36800c,_0x2f644b)=>{const _0x2e85a7=_0x381c6b[_0x56b2('0x1e')][_0x56b2('0x3')]('TableUtils'),_0x4d5d54=_0x2e85a7[_0x56b2('0x3b')](_0x381c6b['model']['document']['selection']),_0xc7c998=_0x2e85a7[_0x56b2('0x32')](_0x4d5d54),_0x49abf7=_0x4d5d54[0x0][_0x56b2('0xc')](_0x56b2('0x27')),_0x488a47=_0x49abf7[_0x56b2('0x21')](_0x56b2('0x40'))||0x0,_0x586bab=_0x2f644b&&null!==_0x2f644b[_0x56b2('0x38')]?_0x2f644b['forceValue']:!_0x381c6b['commands']['get'](_0x56b2('0x0'))[_0x56b2('0x2d')];let _0x262e2b;const _0x1e4dac=_0x49abf7[_0x56b2('0x2b')](0x0),_0x1b9cdb=_0x586bab?_0xc7c998[_0x56b2('0x16')]:_0xc7c998[_0x56b2('0x2c')],_0x404b31=_0x2e85a7['createTableWalker'](_0x49abf7,{'startRow':0x0,'column':_0x1b9cdb,'includeAllSlots':!0x1}),_0x56b6b2=Array[_0x56b2('0x19')](_0x404b31)[0x0][_0x56b2('0x4a')];if(_0x586bab){const _0x45bbd9=_0x1e4dac[_0x56b2('0x2b')](_0x488a47);if(_0x56b6b2[_0x56b2('0x1f')](_0x45bbd9))return;_0x262e2b=_0x381c6b[_0x56b2('0x23')][_0x56b2('0x1a')](_0x381c6b[_0x56b2('0x23')][_0x56b2('0x6')](_0x45bbd9),_0x381c6b[_0x56b2('0x23')][_0x56b2('0x14')](_0x56b6b2));}else{const _0x160275=_0x1e4dac[_0x56b2('0x2b')](_0x488a47-0x1);if(!_0x160275)return;_0x262e2b=_0x381c6b[_0x56b2('0x23')][_0x56b2('0x1a')](_0x381c6b['model'][_0x56b2('0x6')](_0x56b6b2),_0x381c6b[_0x56b2('0x23')][_0x56b2('0x14')](_0x160275));}_0x381c6b[_0x56b2('0x23')][_0x56b2('0x28')](()=>{_0x2d339e[_0x56b2('0xa')](_0x262e2b,{'commandName':_0x56b2('0x0'),'commandParams':[{'forceValue':_0x586bab}]},[],_0x56b2('0x0'));});}),_0x381c6b[_0x56b2('0x4d')]['downcastDispatcher']['on']('addMarker:suggestion',_0x7414d5(),{'priority':_0x56b2('0x4e')}),_0x381c6b[_0x56b2('0x3c')]['downcastDispatcher']['on'](_0x56b2('0x4'),(_0x3aa617,_0x804be2,_0x14115f)=>{_0x14115f[_0x56b2('0x2')]['showSuggestionHighlights']&&_0x7414d5({'showActiveMarker':!0x1,'setDataAttribute':!0x1})(_0x3aa617,_0x804be2,_0x14115f);},{'priority':_0x56b2('0x4e')}),_0x381c6b[_0x56b2('0x4d')][_0x56b2('0x46')]['on'](_0x56b2('0x53'),(_0x4341b1,_0x1dc7f2,_0x575370)=>{const {type:_0x5ebc48,id:_0x5ce00f}=_0x2d339e[_0x56b2('0x5')](_0x1dc7f2[_0x56b2('0x10')]),_0x5d58be=_0x2d339e[_0x56b2('0x33')](_0x5ce00f);if(!_0x5d58be['data']||_0x56b2('0x0')!=_0x5d58be[_0x56b2('0x3c')][_0x56b2('0x26')])return;const _0x54ee8e=_0x575370[_0x56b2('0x35')][_0x56b2('0x15')](_0x1dc7f2['markerName']);if(_0x54ee8e)for(const _0x375813 of _0x54ee8e)_0x575370[_0x56b2('0x20')][_0x56b2('0x41')]('ck-suggestion-marker-'+_0x5ebc48,_0x375813),_0x575370[_0x56b2('0x20')][_0x56b2('0x41')](_0x56b2('0x37'),_0x375813),_0x575370[_0x56b2('0x20')][_0x56b2('0x9')]('data-suggestion',_0x375813),_0x575370[_0x56b2('0x35')][_0x56b2('0x44')](_0x375813,_0x1dc7f2[_0x56b2('0x10')]);},{'priority':_0x56b2('0x4e')}),_0x2d339e[_0x56b2('0x17')][_0x56b2('0x42')](_0x45c95f=>{const {data:_0x1590e9}=_0x45c95f;if(_0x1590e9){if(_0x56b2('0x31')==_0x1590e9['commandName']){const _0x310de1=_0x1590e9[_0x56b2('0x3d')][0x0][_0x56b2('0x38')];return _0x548a49(_0x3148f1(_0x3ef7a5,_0x310de1?_0x56b2('0x1b'):_0x56b2('0x2e')));}if(_0x56b2('0x0')==_0x1590e9[_0x56b2('0x26')]){const _0x4b2934=_0x1590e9['commandParams'][0x0][_0x56b2('0x38')];return _0x548a49(_0x3148f1(_0x3ef7a5,_0x4b2934?_0x56b2('0xb'):_0x56b2('0x48')));}}function _0x548a49(_0x25c971){return{'type':'format','content':_0x3148f1(_0x3ef7a5,_0x56b2('0x1c'),_0x25c971)};}});const _0x586258=_0x41c04a[_0x56b2('0x4f')]();_0x2d339e[_0x56b2('0x43')][_0x56b2('0x51')](_0x56b2('0xe'),_0x56b2('0x31'),_0x56b2('0x45'),_0x586258),_0x2d339e[_0x56b2('0x43')][_0x56b2('0x51')](_0x56b2('0xe'),_0x56b2('0x0'),_0x56b2('0x45'),_0x586258);}}