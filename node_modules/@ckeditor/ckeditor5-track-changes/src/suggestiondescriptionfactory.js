/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3eda=['insertion','registerElementLabel','data','_resolveDescriptionItems','*Remove:*\x20%0','_locale','softBreak','item','indexOf','isEqual','addObject','start','pop','isInContent','registerDescriptionCallback','removeObject','removeEmptyContainer','Container','nextSibling','isObject','ELEMENT_SPACE','text','elementEnd','length','deletion','_customCallbacks','removeContainer','_itemLabels','getDescriptions','*Insert:*\x20%0','getFirstRange','set','previousSibling','quantity','_schema','match','$1\x20$2','textProxy','add','remove','push','addEmptyContainer','elementStart','type','Object','*Split:*\x20%0','replace','addContainer','$text','_addDescriptionItems','function','name','end','isEmpty','getItemLabel'];(function(_0x20916c,_0x3eda56){const _0x44891b=function(_0x24426d){while(--_0x24426d){_0x20916c['push'](_0x20916c['shift']());}};_0x44891b(++_0x3eda56);}(_0x3eda,0xec));const _0x4489=function(_0x20916c,_0x3eda56){_0x20916c=_0x20916c-0x0;let _0x44891b=_0x3eda[_0x20916c];return _0x44891b;};import{getTranslation as _0x17a0b7}from'./utils/common-translations';export default class l{constructor(_0x2716a7,_0x1b0b2d){this['_customCallbacks']=[],this[_0x4489('0xb')]=new Map(),this[_0x4489('0x12')]=_0x2716a7,this[_0x4489('0x2c')]=_0x1b0b2d;}[_0x4489('0xc')](_0x4e39c1){const _0x432c3d=[];for(let _0x55459f=0x0;_0x55459f<_0x4e39c1[_0x4489('0x7')];_0x55459f++){const _0x1b8afd=_0x4e39c1[_0x55459f];if(!_0x1b8afd[_0x4489('0x34')])continue;let _0x48bb93=!0x1;for(const _0x1b731d of this[_0x4489('0x9')]){const _0x23fa7e=_0x1b731d(_0x1b8afd);if(_0x23fa7e){_0x23fa7e[_0x4489('0x1b')]&&_0x432c3d['push'](_0x23fa7e),_0x48bb93=!0x0;break;}}if(!_0x48bb93){this[_0x4489('0x21')](_0x432c3d,_0x1b8afd);const _0x33c38f=_0x4e39c1[_0x55459f+0x1];if(_0x33c38f&&!_0x1b8afd[_0x4489('0xe')]()[_0x4489('0x24')][_0x4489('0x30')](_0x33c38f[_0x4489('0xe')]()[_0x4489('0x32')])){const _0xa8552b=_0x432c3d[_0x432c3d['length']-0x1],_0x3c0ff3=_0x4489('0x27')==_0x1b8afd[_0x4489('0x1b')]?_0x4489('0x16'):_0x4489('0x17');_0xa8552b&&'text'==_0xa8552b[_0x4489('0x1b')]&&(_0xa8552b[_0x3c0ff3]+='\x0a');}}}return this[_0x4489('0x2a')](_0x432c3d);}[_0x4489('0x35')](_0x49f93f){this[_0x4489('0x9')][_0x4489('0x18')](_0x49f93f);}[_0x4489('0x28')](_0x31b191,_0xa28b35){this[_0x4489('0xb')][_0x4489('0xf')](_0x31b191,_0xa28b35);}[_0x4489('0x26')](_0x2667ff,_0x3be075=0x1){const _0x4d925a=this[_0x4489('0xb')]['get'](_0x2667ff)||_0x2667ff;return _0x4489('0x22')==typeof _0x4d925a?_0x4d925a(_0x3be075):0x1!==_0x3be075?_0x3be075+'\x20'+_0x4d925a+'s':''+_0x4d925a;}[_0x4489('0x21')](_0x5448e6,_0x16db9e){const _0x95c072=_0x16db9e[_0x4489('0xe')]()['getWalker'](),_0x277561=_0x4489('0x27')==_0x16db9e['type']?'add':_0x4489('0x17');for(const _0x12500b of _0x95c072){const _0x3bd28c=_0x12500b['item'],_0x410fed=_0x5448e6[_0x5448e6[_0x4489('0x7')]-0x1];if(_0x3bd28c['is'](_0x4489('0x15')))_0x410fed&&_0x410fed[_0x4489('0x1b')]['indexOf']('Container')>-0x1&&_0x5448e6[_0x4489('0x33')](),_0x410fed&&_0x4489('0x5')==_0x410fed[_0x4489('0x1b')]?_0x410fed[_0x277561]+=_0x3bd28c[_0x4489('0x29')]:_0x5448e6[_0x4489('0x18')]({'type':_0x4489('0x5'),'add':_0x4489('0x16')==_0x277561?_0x3bd28c[_0x4489('0x29')]:'','remove':_0x4489('0x17')==_0x277561?_0x3bd28c['data']:''});else{if(this['_schema'][_0x4489('0x3')](_0x3bd28c)){if(_0x410fed&&_0x410fed[_0x4489('0x1b')][_0x4489('0x2f')](_0x4489('0x1'))>-0x1&&_0x5448e6[_0x4489('0x33')](),_0x4489('0x6')==_0x12500b[_0x4489('0x1b')])continue;_0x410fed&&_0x410fed[_0x4489('0x1b')]==_0x277561+_0x4489('0x1c')&&_0x410fed[_0x4489('0x23')]==_0x3bd28c[_0x4489('0x23')]?_0x410fed[_0x4489('0x11')]++:_0x5448e6[_0x4489('0x18')]({'type':_0x277561+_0x4489('0x1c'),'name':_0x3bd28c['name'],'quantity':0x1}),_0x95c072['skip'](_0x40d0f2=>!('elementEnd'==_0x40d0f2[_0x4489('0x1b')]&&_0x40d0f2[_0x4489('0x2e')]==_0x3bd28c));}else{if(this['_schema']['checkChild'](_0x3bd28c,_0x4489('0x20'))||_0x3bd28c['is']('element',_0x4489('0x2d'))){if(_0x4489('0x16')==_0x277561&&_0x4489('0x1a')==_0x12500b['type']||_0x4489('0x17')==_0x277561&&'elementEnd'==_0x12500b[_0x4489('0x1b')])continue;if(_0x410fed&&-0x1==_0x410fed[_0x4489('0x1b')]['indexOf'](_0x4489('0x1'))){'text'==_0x410fed['type']&&(_0x410fed[_0x277561]+='\x0a');continue;}let _0x1a2e32;if(_0x1a2e32=_0x4489('0x16')==_0x277561?_0x3bd28c[_0x4489('0x2')]&&!this[_0x4489('0x12')]['isObject'](_0x3bd28c[_0x4489('0x2')])?_0x3bd28c[_0x4489('0x2')]:null:_0x3bd28c[_0x4489('0x10')]&&!this[_0x4489('0x12')][_0x4489('0x3')](_0x3bd28c[_0x4489('0x10')])?_0x3bd28c[_0x4489('0x10')]:null,_0x3bd28c[_0x4489('0x25')]||_0x1a2e32&&_0x1a2e32[_0x4489('0x25')]){const _0x27687f=_0x1a2e32&&_0x1a2e32['isEmpty']?_0x1a2e32[_0x4489('0x23')]:_0x3bd28c['name'];_0x410fed&&_0x410fed[_0x4489('0x1b')]==_0x277561+'EmptyContainer'&&_0x410fed['name']==_0x27687f?_0x410fed[_0x4489('0x11')]++:_0x5448e6['push']({'type':_0x277561+'EmptyContainer','name':_0x27687f,'quantity':0x1});}else _0x5448e6[_0x4489('0x18')]({'type':_0x277561+_0x4489('0x1'),'name':_0x3bd28c['name']});}}}}}[_0x4489('0x2a')](_0x53f08b){const _0x5cffb6=this[_0x4489('0x2c')],_0x20d486=[];for(const _0x474822 of _0x53f08b){switch(_0x474822[_0x4489('0x1b')]){case'text':if(_0x474822['add']=_0x474822[_0x4489('0x16')][_0x4489('0x1e')](/(\S)\u000A+(\S)/g,_0x4489('0x14'))['replace'](/\u000A/g,''),_0x474822['remove']=_0x474822[_0x4489('0x17')][_0x4489('0x1e')](/(\S)\u000A+(\S)/g,'$1\x20$2')[_0x4489('0x1e')](/\u000A/g,''),''!=_0x474822[_0x4489('0x16')]&&''!=_0x474822[_0x4489('0x17')]){_0x20d486[_0x4489('0x18')]({'type':_0x4489('0x1e'),'content':_0x17a0b7(_0x5cffb6,'REPLACE_TEXT',['\x22'+_0x474822[_0x4489('0x17')]+'\x22','\x22'+_0x474822[_0x4489('0x16')]+'\x22'])});continue;}if(null!=_0x474822[_0x4489('0x16')]['match'](/^ +$/)){_0x20d486['push']({'type':'insertion','content':_0x17a0b7(_0x5cffb6,'*Insert:*\x20%0',_0x17a0b7(_0x5cffb6,_0x4489('0x4'),_0x474822[_0x4489('0x16')][_0x4489('0x7')]))});continue;}if(null!=_0x474822[_0x4489('0x17')][_0x4489('0x13')](/^ +$/)){_0x20d486[_0x4489('0x18')]({'type':'deletion','content':_0x17a0b7(_0x5cffb6,_0x4489('0x2b'),_0x17a0b7(_0x5cffb6,_0x4489('0x4'),_0x474822[_0x4489('0x17')]['length']))});continue;}if(''!=_0x474822[_0x4489('0x16')]){_0x20d486[_0x4489('0x18')]({'type':_0x4489('0x27'),'content':_0x17a0b7(_0x5cffb6,'*Insert:*\x20%0','\x22'+_0x474822[_0x4489('0x16')]+'\x22')});continue;}_0x20d486[_0x4489('0x18')]({'type':_0x4489('0x8'),'content':_0x17a0b7(_0x5cffb6,_0x4489('0x2b'),'\x22'+_0x474822[_0x4489('0x17')]+'\x22')});continue;case _0x4489('0x19'):case _0x4489('0x31'):_0x20d486[_0x4489('0x18')]({'type':'insertion','content':_0x17a0b7(_0x5cffb6,_0x4489('0xd'),this[_0x4489('0x26')](_0x474822['name'],_0x474822[_0x4489('0x11')]))});continue;case _0x4489('0x0'):case _0x4489('0x36'):_0x20d486[_0x4489('0x18')]({'type':_0x4489('0x8'),'content':_0x17a0b7(_0x5cffb6,_0x4489('0x2b'),this[_0x4489('0x26')](_0x474822[_0x4489('0x23')],_0x474822[_0x4489('0x11')]))});continue;case _0x4489('0x1f'):_0x20d486[_0x4489('0x18')]({'type':_0x4489('0x27'),'content':_0x17a0b7(_0x5cffb6,_0x4489('0x1d'),this[_0x4489('0x26')](_0x474822[_0x4489('0x23')],_0x474822[_0x4489('0x11')]))});continue;case _0x4489('0xa'):_0x20d486[_0x4489('0x18')]({'type':_0x4489('0x8'),'content':_0x17a0b7(_0x5cffb6,'*Merge:*\x20%0',this['getItemLabel'](_0x474822[_0x4489('0x23')],_0x474822['quantity']))});continue;}_0x20d486[_0x4489('0x18')](_0x474822);}return _0x20d486;}}