!function(t){const e=t.en=t.en||{};e.dictionary=Object.assign(e.dictionary||{},{"*Change %0 content*":"*Change %0 content*","*Change to:* %0":"*Change to:* %0","*Check item*":"*Check item*","*Format:* %0":"*Format:* %0","*Indent:* %0":"*Indent:* %0","*Insert:* %0":"*Insert:* %0","*Merge cells*":"*Merge cells*","*Merge:* %0":"*Merge:* %0","*Outdent:* %0":"*Outdent:* %0","*Remove all formatting*":"*Remove all formatting*","*Remove format:* %0":"*Remove format:* %0","*Remove highlight*":"*Remove highlight*","*Remove image text alternative*":"*Remove image text alternative*","*Remove link*":"*Remove link*","*Remove:* %0":"*Remove:* %0","*Replace table cells*":"*Replace table cells*","*Reset font background color*":"*Reset font background color*","*Reset font color*":"*Reset font color*","*Reset font family*":"*Reset font family*","*Reset font size*":"*Reset font size*","*Reset image width*":"*Reset image width*","*Set font background color:* %0":"*Set font background color:* %0","*Set font color:* %0":"*Set font color:* %0","*Set font family:* %0":"*Set font family:* %0","*Set font size:* %0":"*Set font size:* %0","*Set highlight:* %0":"*Set highlight:* %0","*Set image text alternative:* %0":"*Set image text alternative:* %0","*Set image width:* %0":"*Set image width:* %0","*Set link:* %0":"*Set link:* %0","*Split cell:* horizontally":"*Split cell:* horizontally","*Split cell:* vertically":"*Split cell:* vertically","*Split:* %0":"*Split:* %0","*Uncheck item*":"*Uncheck item*","Accept all selected suggestions":"Accept all selected suggestions","Accept all suggestions":"Accept all suggestions","Accept suggestion":"Accept suggestion","Discard all selected suggestions":"Discard all selected suggestions","Discard all suggestions":"Discard all suggestions","Discard suggestion":"Discard suggestion",ELEMENT_BLOCK_QUOTE:"block quote",ELEMENT_BULLETED_LIST:"bulleted list",ELEMENT_CAPTION:"caption",ELEMENT_CODE_BLOCK:["code block","%0 code blocks"],ELEMENT_HEADING:["heading (level %1)","%0 headings (level %1)"],ELEMENT_HEADING_CUSTOM:["heading (%1)","%0 headings (%1)"],ELEMENT_HORIZONTAL_LINE:["horizontal line","%0 horizontal lines"],ELEMENT_HTML_EMBED:["HTML embed","%0 HTML embeds"],ELEMENT_IMAGE:["image","%0 images"],ELEMENT_INLINE_IMAGE:["image","%0 images"],ELEMENT_LINE_BREAK:["line break","%0 line breaks"],ELEMENT_LIST_ITEM:["list item","%0 list items"],ELEMENT_MEDIA:["media item","%0 media items"],ELEMENT_NUMBERED_LIST:"numbered list",ELEMENT_PAGE_BREAK:["page break","%0 page breaks"],ELEMENT_PARAGRAPH:["paragraph","%0 paragraphs"],ELEMENT_SPACE:["space","%0 spaces"],ELEMENT_TABLE:["table","%0 tables"],ELEMENT_TABLE_COLUMN:["table column","%0 table columns"],ELEMENT_TABLE_COLUMN_WITH_TEXT:["table column *with text* %1","%0 table columns *with text* %1"],ELEMENT_TABLE_ROW:["table row","%0 table rows"],ELEMENT_TABLE_ROW_WITH_TEXT:["table row *with text* %1","%0 table rows *with text* %1"],ELEMENT_TABLE_WITH_TEXT:"table *with text* %0",ELEMENT_TITLE:"title",ELEMENT_TODO_LIST:"to-do list",EXTERNAL_SUGGESTION:"This suggestion comes from an external source.",FORMAT_ALIGN_TO_CENTER:"align to center",FORMAT_ALIGN_TO_LEFT:"align to left",FORMAT_ALIGN_TO_RIGHT:"align to right",FORMAT_BOLD:"bold",FORMAT_CODE:"code",FORMAT_HEADER_COLUMN:"header column",FORMAT_HEADER_ROW:"header row",FORMAT_HIGHLIGHT:"highlight",FORMAT_ITALIC:"italic",FORMAT_JUSTIFY_TEXT:"justify",FORMAT_REGULAR_COLUMN:"regular column",FORMAT_REGULAR_ROW:"regular row",FORMAT_RESTRICTED_DISABLED:"*Disable in restricted editing mode*",FORMAT_RESTRICTED_ENABLED:"*Enable in restricted editing mode*",FORMAT_SIDE_IMAGE:"side image",FORMAT_STRIKETHROUGH:"strikethrough",FORMAT_SUBSCRIPT:"subscript",FORMAT_SUPERSCRIPT:"superscript",FORMAT_UNDERLINE:"underline",PENDING_ACTION_SUGGESTION:"Unsaved change in suggestion.",REPLACE_TEXT:"*Replace:* %0 *with* %1","Track changes":"Track changes"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),
/*!
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var t={417:(t,e,n)=>{t.exports=n(720)("./src/collaboration-core.js")},704:(t,e,n)=>{t.exports=n(79)("./src/core.js")},492:(t,e,n)=>{t.exports=n(79)("./src/engine.js")},331:(t,e,n)=>{t.exports=n(79)("./src/enter.js")},181:(t,e,n)=>{t.exports=n(79)("./src/typing.js")},273:(t,e,n)=>{t.exports=n(79)("./src/ui.js")},209:(t,e,n)=>{t.exports=n(79)("./src/utils.js")},995:(t,e,n)=>{t.exports=n(79)("./src/widget.js")},720:t=>{"use strict";t.exports=CKEditor5.collaborationDll},79:t=>{"use strict";t.exports=CKEditor5.dll}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};(()=>{"use strict";n.r(o),n.d(o,{BaseSuggestionThreadView:()=>Na,TrackChanges:()=>Xa,TrackChangesData:()=>nc});var t=n(704),e=n(209),s=n(273),r=n(417),i=n(492),x=n(995);const a=["commands","TrackChangesCommand","affectsData","value","editor","_enabledCommands","forceDisabled","execute","has","refresh","_disableUnsupportedCommands","_enableCommands"];var c,l;c=a,l=156,function(t){for(;--t;)c.push(c.shift())}(++l);const u=function(t,e){return a[t-=0]};class d extends t.Command{constructor(t,e){super(t),this._enabledCommands=e,this[u("0x3")]=!1,this[u("0x9")]()}[u("0x9")](){this.isEnabled=!0}[u("0x7")](){this[u("0x3")]=!this[u("0x3")],this.value?this._disableUnsupportedCommands():this[u("0xb")]()}[u("0xa")](){for(const t of this[u("0x4")].commands.commands())t.affectsData&&!this[u("0x5")][u("0x8")](t)&&t[u("0x6")](u("0x1"))}_enableCommands(){for(const t of this[u("0x4")][u("0x0")][u("0x0")]())t[u("0x2")]&&!this._enabledCommands[u("0x8")](t)&&t.clearForceDisabled(u("0x1"))}}const g=["editor","get","_suggestions","plugins","TrackChangesEditing","refresh","isEnabled"];var f,m;f=g,m=290,function(t){for(;--t;)f.push(f.shift())}(++m);const h=function(t,e){return g[t-=0]};class p extends t.Command{constructor(t,e){super(t),this[h("0x6")]=e,this[h("0x2")]()}[h("0x2")](){this[h("0x3")]=!0}execute(t){const n=this[h("0x6")].get(t);if(!n)throw new e.CKEditorError("track-changes-accept-suggestion-not-found",this);this[h("0x4")][h("0x0")][h("0x5")](h("0x1")).acceptSuggestion(n)}}const b=["refresh","plugins","_suggestions","editor","get","discardSuggestion","execute","isEnabled","track-changes-discard-suggestion-not-found"];var E,_;E=b,_=437,function(t){for(;--t;)E.push(E.shift())}(++_);const y=function(t,e){return b[t-=0]};class T extends t.Command{constructor(t,e){super(t),this[y("0x6")]=e,this[y("0x4")]()}[y("0x4")](){this[y("0x2")]=!0}[y("0x1")](t){const n=this[y("0x6")][y("0x8")](t);if(!n)throw new e.CKEditorError(y("0x3"),this);this[y("0x7")][y("0x5")][y("0x8")]("TrackChangesEditing")[y("0x0")](n)}}var C,k,v=["type","deletion","sort"];C=v,k=262,function(t){for(;--t;)C.push(C.shift())}(++k);var A=function(t,e){return v[t-=0]};function R(t){return t[A("0x1")](((t,e)=>A("0x0")==t[A("0x2")]&&A("0x0")!=e[A("0x2")]?-1:"deletion"!=t[A("0x2")]&&"deletion"==e[A("0x2")]?1:0))}const S=["values","isInContent","execute","editor","model","some","isEnabled","_suggestions","refresh","from","change","_acceptSuggestionCommand"];var I,w;I=S,w=129,function(t){for(;--t;)I.push(I.shift())}(++w);const M=function(t,e){return S[t-=0]};class N extends t.Command{constructor(t,e,n){super(t),this[M("0x2")]=e,this[M("0xa")]=n,this[M("0xb")]()}[M("0xb")](){const t=this._acceptSuggestionCommand;this[M("0x9")]=t[M("0x9")]&&Array[M("0x0")](this[M("0xa")].values())[M("0x8")]((t=>t[M("0x4")]))}execute(){this[M("0x6")][M("0x7")][M("0x1")]((()=>{const t=R(Array[M("0x0")](this._suggestions[M("0x3")]()));for(const e of t)e[M("0x4")]&&this[M("0x2")][M("0x5")](e.id)}))}}const L=["isCollapsed","isMultiRange","next","isInContent","getMarkers","isTouching","getRange","add","isIntersecting","from","getRanges"];var O,F;O=L,F=123,function(t){for(;--t;)O.push(O.shift())}(++F);const D=function(t,e){return L[t-=0]};function P(t,e){const n=Array[D("0x7")](t[D("0x8")]()),o=new Set;for(const s of e)if(s[D("0x1")])for(const e of n)for(const n of s[D("0x2")]()){const r=n[D("0x4")]();(e[D("0x6")](r)||t[D("0x9")]&&!s[D("0xa")]&&s[D("0x0")]&&r.end[D("0x3")](e.start))&&o[D("0x5")](s)}return o}const B=["values","editor","size","_selectedSuggestions","from","_acceptSuggestionCommand","_suggestions","selection","refresh","model","execute"];var j,U;j=B,U=389,function(t){for(;--t;)j.push(j.shift())}(++U);const H=function(t,e){return B[t-=0]};class G extends t.Command{constructor(t,e,n){super(t),this[H("0x1")]=e,this[H("0x2")]=n,this[H("0xa")]=new Set,this.refresh()}[H("0x4")](){const t=this._acceptSuggestionCommand,e=this[H("0x8")][H("0x5")].document[H("0x3")],n=Array.from(this[H("0x2")][H("0x7")]());this[H("0xa")]=P(e,n),this.isEnabled=t.isEnabled&&!!this[H("0xa")][H("0x9")]}[H("0x6")](){this[H("0x8")][H("0x5")].change((()=>{const t=R(Array[H("0x0")](this[H("0xa")]));for(const e of t)this[H("0x1")][H("0x6")](e.id)}))}}const V=["_suggestions","refresh","isEnabled","execute","_discardSuggestionCommand","isInContent","from","editor","model","values"];var z,W;z=V,W=488,function(t){for(;--t;)z.push(z.shift())}(++W);const K=function(t,e){return V[t-=0]};class q extends t.Command{constructor(t,e,n){super(t),this[K("0x6")]=e,this[K("0x2")]=n,this[K("0x3")]()}[K("0x3")](){const t=this[K("0x6")];this[K("0x4")]=t[K("0x4")]&&Array[K("0x8")](this[K("0x2")][K("0x1")]()).some((t=>t.isInContent))}[K("0x5")](){this[K("0x9")][K("0x0")].change((()=>{for(const t of this[K("0x2")][K("0x1")]())t[K("0x7")]&&this._discardSuggestionCommand.execute(t.id)}))}}const $=["refresh","values","execute","_selectedSuggestions","from","size","model","_discardSuggestionCommand","change","_suggestions","editor","isEnabled"];var X,J;X=$,J=247,function(t){for(;--t;)X.push(X.shift())}(++J);const Q=function(t,e){return $[t-=0]};class Y extends t.Command{constructor(t,e,n){super(t),this[Q("0x0")]=e,this._suggestions=n,this[Q("0x8")]=new Set,this.refresh()}[Q("0x5")](){const t=this[Q("0x0")],e=this[Q("0x3")][Q("0xb")].document.selection,n=Array[Q("0x9")](this[Q("0x2")][Q("0x6")]());this[Q("0x8")]=P(e,n),this[Q("0x4")]=t[Q("0x4")]&&!!this._selectedSuggestions[Q("0xa")]}[Q("0x7")](){this[Q("0x3")][Q("0xb")][Q("0x1")]((()=>{for(const t of this[Q("0x8")])this[Q("0x0")].execute(t.id)}))}}const Z=function(){this.__data__=[],this.size=0};const tt=function(t,e){return t===e||t!=t&&e!=e};const et=function(t,e){for(var n=t.length;n--;)if(tt(t[n][0],e))return n;return-1};var nt=Array.prototype.splice;const ot=function(t){var e=this.__data__,n=et(e,t);return!(n<0)&&(n==e.length-1?e.pop():nt.call(e,n,1),--this.size,!0)};const st=function(t){var e=this.__data__,n=et(e,t);return n<0?void 0:e[n][1]};const rt=function(t){return et(this.__data__,t)>-1};const it=function(t,e){var n=this.__data__,o=et(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};function xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}xt.prototype.clear=Z,xt.prototype.delete=ot,xt.prototype.get=st,xt.prototype.has=rt,xt.prototype.set=it;const at=xt;const ct=function(){this.__data__=new at,this.size=0};const lt=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};const ut=function(t){return this.__data__.get(t)};const dt=function(t){return this.__data__.has(t)};const gt="object"==typeof global&&global&&global.Object===Object&&global;var ft="object"==typeof self&&self&&self.Object===Object&&self;const mt=gt||ft||Function("return this")();const ht=mt.Symbol;var pt=Object.prototype,bt=pt.hasOwnProperty,Et=pt.toString,_t=ht?ht.toStringTag:void 0;const yt=function(t){var e=bt.call(t,_t),n=t[_t];try{t[_t]=void 0;var o=!0}catch(t){}var s=Et.call(t);return o&&(e?t[_t]=n:delete t[_t]),s};var Tt=Object.prototype.toString;const Ct=function(t){return Tt.call(t)};var kt=ht?ht.toStringTag:void 0;const vt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":kt&&kt in Object(t)?yt(t):Ct(t)};const At=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const Rt=function(t){if(!At(t))return!1;var e=vt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};const St=mt["__core-js_shared__"];var It,wt=(It=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||""))?"Symbol(src)_1."+It:"";const Mt=function(t){return!!wt&&wt in t};var Nt=Function.prototype.toString;const Lt=function(t){if(null!=t){try{return Nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var Ot=/^\[object .+?Constructor\]$/,Ft=Function.prototype,Dt=Object.prototype,Pt=Ft.toString,Bt=Dt.hasOwnProperty,jt=RegExp("^"+Pt.call(Bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ut=function(t){return!(!At(t)||Mt(t))&&(Rt(t)?jt:Ot).test(Lt(t))};const Ht=function(t,e){return null==t?void 0:t[e]};const Gt=function(t,e){var n=Ht(t,e);return Ut(n)?n:void 0};const Vt=Gt(mt,"Map");const zt=Gt(Object,"create");const Wt=function(){this.__data__=zt?zt(null):{},this.size=0};const Kt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var qt=Object.prototype.hasOwnProperty;const $t=function(t){var e=this.__data__;if(zt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return qt.call(e,t)?e[t]:void 0};var Xt=Object.prototype.hasOwnProperty;const Jt=function(t){var e=this.__data__;return zt?void 0!==e[t]:Xt.call(e,t)};const Qt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=zt&&void 0===e?"__lodash_hash_undefined__":e,this};function Yt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Yt.prototype.clear=Wt,Yt.prototype.delete=Kt,Yt.prototype.get=$t,Yt.prototype.has=Jt,Yt.prototype.set=Qt;const Zt=Yt;const te=function(){this.size=0,this.__data__={hash:new Zt,map:new(Vt||at),string:new Zt}};const ee=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};const ne=function(t,e){var n=t.__data__;return ee(e)?n["string"==typeof e?"string":"hash"]:n.map};const oe=function(t){var e=ne(this,t).delete(t);return this.size-=e?1:0,e};const se=function(t){return ne(this,t).get(t)};const re=function(t){return ne(this,t).has(t)};const ie=function(t,e){var n=ne(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};function xe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}xe.prototype.clear=te,xe.prototype.delete=oe,xe.prototype.get=se,xe.prototype.has=re,xe.prototype.set=ie;const ae=xe;const ce=function(t,e){var n=this.__data__;if(n instanceof at){var o=n.__data__;if(!Vt||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new ae(o)}return n.set(t,e),this.size=n.size,this};function le(t){var e=this.__data__=new at(t);this.size=e.size}le.prototype.clear=ct,le.prototype.delete=lt,le.prototype.get=ut,le.prototype.has=dt,le.prototype.set=ce;const ue=le;const de=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==e(t[n],n,t););return t};const ge=function(){try{var t=Gt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const fe=function(t,e,n){"__proto__"==e&&ge?ge(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var me=Object.prototype.hasOwnProperty;const he=function(t,e,n){var o=t[e];me.call(t,e)&&tt(o,n)&&(void 0!==n||e in t)||fe(t,e,n)};const pe=function(t,e,n,o){var s=!n;n||(n={});for(var r=-1,i=e.length;++r<i;){var x=e[r],a=o?o(n[x],t[x],x,n,t):void 0;void 0===a&&(a=t[x]),s?fe(n,x,a):he(n,x,a)}return n};const be=function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o};const Ee=function(t){return null!=t&&"object"==typeof t};const _e=function(t){return Ee(t)&&"[object Arguments]"==vt(t)};var ye=Object.prototype,Te=ye.hasOwnProperty,Ce=ye.propertyIsEnumerable;const ke=_e(function(){return arguments}())?_e:function(t){return Ee(t)&&Te.call(t,"callee")&&!Ce.call(t,"callee")};const ve=Array.isArray;const Ae=function(){return!1};var Re="object"==typeof exports&&exports&&!exports.nodeType&&exports,Se=Re&&"object"==typeof module&&module&&!module.nodeType&&module,Ie=Se&&Se.exports===Re?mt.Buffer:void 0;const we=(Ie?Ie.isBuffer:void 0)||Ae;var Me=/^(?:0|[1-9]\d*)$/;const Ne=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Me.test(t))&&t>-1&&t%1==0&&t<e};const Le=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var Oe={};Oe["[object Float32Array]"]=Oe["[object Float64Array]"]=Oe["[object Int8Array]"]=Oe["[object Int16Array]"]=Oe["[object Int32Array]"]=Oe["[object Uint8Array]"]=Oe["[object Uint8ClampedArray]"]=Oe["[object Uint16Array]"]=Oe["[object Uint32Array]"]=!0,Oe["[object Arguments]"]=Oe["[object Array]"]=Oe["[object ArrayBuffer]"]=Oe["[object Boolean]"]=Oe["[object DataView]"]=Oe["[object Date]"]=Oe["[object Error]"]=Oe["[object Function]"]=Oe["[object Map]"]=Oe["[object Number]"]=Oe["[object Object]"]=Oe["[object RegExp]"]=Oe["[object Set]"]=Oe["[object String]"]=Oe["[object WeakMap]"]=!1;const Fe=function(t){return Ee(t)&&Le(t.length)&&!!Oe[vt(t)]};const De=function(t){return function(e){return t(e)}};var Pe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Be=Pe&&"object"==typeof module&&module&&!module.nodeType&&module,je=Be&&Be.exports===Pe&&gt.process;const Ue=function(){try{var t=Be&&Be.require&&Be.require("util").types;return t||je&&je.binding&&je.binding("util")}catch(t){}}();var He=Ue&&Ue.isTypedArray;const Ge=He?De(He):Fe;var Ve=Object.prototype.hasOwnProperty;const ze=function(t,e){var n=ve(t),o=!n&&ke(t),s=!n&&!o&&we(t),r=!n&&!o&&!s&&Ge(t),i=n||o||s||r,x=i?be(t.length,String):[],a=x.length;for(var c in t)!e&&!Ve.call(t,c)||i&&("length"==c||s&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ne(c,a))||x.push(c);return x};var We=Object.prototype;const Ke=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||We)};const qe=function(t,e){return function(n){return t(e(n))}};const $e=qe(Object.keys,Object);var Xe=Object.prototype.hasOwnProperty;const Je=function(t){if(!Ke(t))return $e(t);var e=[];for(var n in Object(t))Xe.call(t,n)&&"constructor"!=n&&e.push(n);return e};const Qe=function(t){return null!=t&&Le(t.length)&&!Rt(t)};const Ye=function(t){return Qe(t)?ze(t):Je(t)};const Ze=function(t,e){return t&&pe(e,Ye(e),t)};const tn=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e};var en=Object.prototype.hasOwnProperty;const nn=function(t){if(!At(t))return tn(t);var e=Ke(t),n=[];for(var o in t)("constructor"!=o||!e&&en.call(t,o))&&n.push(o);return n};const on=function(t){return Qe(t)?ze(t,!0):nn(t)};const sn=function(t,e){return t&&pe(e,on(e),t)};var rn="object"==typeof exports&&exports&&!exports.nodeType&&exports,xn=rn&&"object"==typeof module&&module&&!module.nodeType&&module,an=xn&&xn.exports===rn?mt.Buffer:void 0,cn=an?an.allocUnsafe:void 0;const ln=function(t,e){if(e)return t.slice();var n=t.length,o=cn?cn(n):new t.constructor(n);return t.copy(o),o};const un=function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e};const dn=function(t,e){for(var n=-1,o=null==t?0:t.length,s=0,r=[];++n<o;){var i=t[n];e(i,n,t)&&(r[s++]=i)}return r};const gn=function(){return[]};var fn=Object.prototype.propertyIsEnumerable,mn=Object.getOwnPropertySymbols;const hn=mn?function(t){return null==t?[]:(t=Object(t),dn(mn(t),(function(e){return fn.call(t,e)})))}:gn;const pn=function(t,e){return pe(t,hn(t),e)};const bn=function(t,e){for(var n=-1,o=e.length,s=t.length;++n<o;)t[s+n]=e[n];return t};const En=qe(Object.getPrototypeOf,Object);const _n=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)bn(e,hn(t)),t=En(t);return e}:gn;const yn=function(t,e){return pe(t,_n(t),e)};const Tn=function(t,e,n){var o=e(t);return ve(t)?o:bn(o,n(t))};const Cn=function(t){return Tn(t,Ye,hn)};const kn=function(t){return Tn(t,on,_n)};const vn=Gt(mt,"DataView");const An=Gt(mt,"Promise");const Rn=Gt(mt,"Set");const Sn=Gt(mt,"WeakMap");var In="[object Map]",wn="[object Promise]",Mn="[object Set]",Nn="[object WeakMap]",Ln="[object DataView]",On=Lt(vn),Fn=Lt(Vt),Dn=Lt(An),Pn=Lt(Rn),Bn=Lt(Sn),jn=vt;(vn&&jn(new vn(new ArrayBuffer(1)))!=Ln||Vt&&jn(new Vt)!=In||An&&jn(An.resolve())!=wn||Rn&&jn(new Rn)!=Mn||Sn&&jn(new Sn)!=Nn)&&(jn=function(t){var e=vt(t),n="[object Object]"==e?t.constructor:void 0,o=n?Lt(n):"";if(o)switch(o){case On:return Ln;case Fn:return In;case Dn:return wn;case Pn:return Mn;case Bn:return Nn}return e});const Un=jn;var Hn=Object.prototype.hasOwnProperty;const Gn=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Hn.call(t,"index")&&(n.index=t.index,n.input=t.input),n};const Vn=mt.Uint8Array;const zn=function(t){var e=new t.constructor(t.byteLength);return new Vn(e).set(new Vn(t)),e};const Wn=function(t,e){var n=e?zn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)};var Kn=/\w*$/;const qn=function(t){var e=new t.constructor(t.source,Kn.exec(t));return e.lastIndex=t.lastIndex,e};var $n=ht?ht.prototype:void 0,Xn=$n?$n.valueOf:void 0;const Jn=function(t){return Xn?Object(Xn.call(t)):{}};const Qn=function(t,e){var n=e?zn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};const Yn=function(t,e,n){var o=t.constructor;switch(e){case"[object ArrayBuffer]":return zn(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return Wn(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Qn(t,n);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return qn(t);case"[object Symbol]":return Jn(t)}};var Zn=Object.create;const to=function(){function t(){}return function(e){if(!At(e))return{};if(Zn)return Zn(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const eo=function(t){return"function"!=typeof t.constructor||Ke(t)?{}:to(En(t))};const no=function(t){return Ee(t)&&"[object Map]"==Un(t)};var oo=Ue&&Ue.isMap;const so=oo?De(oo):no;const ro=function(t){return Ee(t)&&"[object Set]"==Un(t)};var io=Ue&&Ue.isSet;const xo=io?De(io):ro;var ao="[object Arguments]",co="[object Function]",lo="[object Object]",uo={};uo[ao]=uo["[object Array]"]=uo["[object ArrayBuffer]"]=uo["[object DataView]"]=uo["[object Boolean]"]=uo["[object Date]"]=uo["[object Float32Array]"]=uo["[object Float64Array]"]=uo["[object Int8Array]"]=uo["[object Int16Array]"]=uo["[object Int32Array]"]=uo["[object Map]"]=uo["[object Number]"]=uo["[object Object]"]=uo["[object RegExp]"]=uo["[object Set]"]=uo["[object String]"]=uo["[object Symbol]"]=uo["[object Uint8Array]"]=uo["[object Uint8ClampedArray]"]=uo["[object Uint16Array]"]=uo["[object Uint32Array]"]=!0,uo["[object Error]"]=uo[co]=uo["[object WeakMap]"]=!1;const go=function t(e,n,o,s,r,i){var x,a=1&n,c=2&n,l=4&n;if(o&&(x=r?o(e,s,r,i):o(e)),void 0!==x)return x;if(!At(e))return e;var u=ve(e);if(u){if(x=Gn(e),!a)return un(e,x)}else{var d=Un(e),g=d==co||"[object GeneratorFunction]"==d;if(we(e))return ln(e,a);if(d==lo||d==ao||g&&!r){if(x=c||g?{}:eo(e),!a)return c?yn(e,sn(x,e)):pn(e,Ze(x,e))}else{if(!uo[d])return r?e:{};x=Yn(e,d,a)}}i||(i=new ue);var f=i.get(e);if(f)return f;i.set(e,x),xo(e)?e.forEach((function(s){x.add(t(s,n,o,s,e,i))})):so(e)&&e.forEach((function(s,r){x.set(r,t(s,n,o,r,e,i))}));var m=u?void 0:(l?c?kn:Cn:c?on:Ye)(e);return de(m||e,(function(s,r){m&&(s=e[r=s]),he(x,r,t(s,n,o,r,e,i))})),x};const fo=function(t){return go(t,5)};const mo=function(t){return"symbol"==typeof t||Ee(t)&&"[object Symbol]"==vt(t)};var ho=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,po=/^\w*$/;const bo=function(t,e){if(ve(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!mo(t))||(po.test(t)||!ho.test(t)||null!=e&&t in Object(e))};function Eo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var o=arguments,s=e?e.apply(this,o):o[0],r=n.cache;if(r.has(s))return r.get(s);var i=t.apply(this,o);return n.cache=r.set(s,i)||r,i};return n.cache=new(Eo.Cache||ae),n}Eo.Cache=ae;const _o=Eo;var yo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,To=/\\(\\)?/g;const Co=function(t){var e=_o(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(yo,(function(t,n,o,s){e.push(o?s.replace(To,"$1"):n||t)})),e}));const ko=function(t,e){for(var n=-1,o=null==t?0:t.length,s=Array(o);++n<o;)s[n]=e(t[n],n,t);return s};var vo=ht?ht.prototype:void 0,Ao=vo?vo.toString:void 0;const Ro=function t(e){if("string"==typeof e)return e;if(ve(e))return ko(e,t)+"";if(mo(e))return Ao?Ao.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n};const So=function(t){return null==t?"":Ro(t)};const Io=function(t,e){return ve(t)?t:bo(t,e)?[t]:Co(So(t))};const wo=function(t){if("string"==typeof t||mo(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};const Mo=function(t,e,n,o){if(!At(t))return t;for(var s=-1,r=(e=Io(e,t)).length,i=r-1,x=t;null!=x&&++s<r;){var a=wo(e[s]),c=n;if("__proto__"===a||"constructor"===a||"prototype"===a)return t;if(s!=i){var l=x[a];void 0===(c=o?o(l,a,x):void 0)&&(c=At(l)?l:Ne(e[s+1])?[]:{})}he(x,a,c),x=x[a]}return t};const No=function(t,e,n){return null==t?t:Mo(t,e,n)};const Lo=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};const Oo=function(t){return this.__data__.has(t)};function Fo(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ae;++e<n;)this.add(t[e])}Fo.prototype.add=Fo.prototype.push=Lo,Fo.prototype.has=Oo;const Do=Fo;const Po=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1};const Bo=function(t,e){return t.has(e)};const jo=function(t,e,n,o,s,r){var i=1&n,x=t.length,a=e.length;if(x!=a&&!(i&&a>x))return!1;var c=r.get(t),l=r.get(e);if(c&&l)return c==e&&l==t;var u=-1,d=!0,g=2&n?new Do:void 0;for(r.set(t,e),r.set(e,t);++u<x;){var f=t[u],m=e[u];if(o)var h=i?o(m,f,u,e,t,r):o(f,m,u,t,e,r);if(void 0!==h){if(h)continue;d=!1;break}if(g){if(!Po(e,(function(t,e){if(!Bo(g,e)&&(f===t||s(f,t,n,o,r)))return g.push(e)}))){d=!1;break}}else if(f!==m&&!s(f,m,n,o,r)){d=!1;break}}return r.delete(t),r.delete(e),d};const Uo=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,o){n[++e]=[o,t]})),n};const Ho=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};var Go=ht?ht.prototype:void 0,Vo=Go?Go.valueOf:void 0;const zo=function(t,e,n,o,s,r,i){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!r(new Vn(t),new Vn(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return tt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var x=Uo;case"[object Set]":var a=1&o;if(x||(x=Ho),t.size!=e.size&&!a)return!1;var c=i.get(t);if(c)return c==e;o|=2,i.set(t,e);var l=jo(x(t),x(e),o,s,r,i);return i.delete(t),l;case"[object Symbol]":if(Vo)return Vo.call(t)==Vo.call(e)}return!1};var Wo=Object.prototype.hasOwnProperty;const Ko=function(t,e,n,o,s,r){var i=1&n,x=Cn(t),a=x.length;if(a!=Cn(e).length&&!i)return!1;for(var c=a;c--;){var l=x[c];if(!(i?l in e:Wo.call(e,l)))return!1}var u=r.get(t),d=r.get(e);if(u&&d)return u==e&&d==t;var g=!0;r.set(t,e),r.set(e,t);for(var f=i;++c<a;){var m=t[l=x[c]],h=e[l];if(o)var p=i?o(h,m,l,e,t,r):o(m,h,l,t,e,r);if(!(void 0===p?m===h||s(m,h,n,o,r):p)){g=!1;break}f||(f="constructor"==l)}if(g&&!f){var b=t.constructor,E=e.constructor;b==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(g=!1)}return r.delete(t),r.delete(e),g};var qo="[object Arguments]",$o="[object Array]",Xo="[object Object]",Jo=Object.prototype.hasOwnProperty;const Qo=function(t,e,n,o,s,r){var i=ve(t),x=ve(e),a=i?$o:Un(t),c=x?$o:Un(e),l=(a=a==qo?Xo:a)==Xo,u=(c=c==qo?Xo:c)==Xo,d=a==c;if(d&&we(t)){if(!we(e))return!1;i=!0,l=!1}if(d&&!l)return r||(r=new ue),i||Ge(t)?jo(t,e,n,o,s,r):zo(t,e,a,n,o,s,r);if(!(1&n)){var g=l&&Jo.call(t,"__wrapped__"),f=u&&Jo.call(e,"__wrapped__");if(g||f){var m=g?t.value():t,h=f?e.value():e;return r||(r=new ue),s(m,h,n,o,r)}}return!!d&&(r||(r=new ue),Ko(t,e,n,o,s,r))};const Yo=function t(e,n,o,s,r){return e===n||(null==e||null==n||!Ee(e)&&!Ee(n)?e!=e&&n!=n:Qo(e,n,o,s,t,r))};const Zo=function(t,e){return Yo(t,e)};const ts=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};const es=function(t,e){for(var n=0,o=(e=Io(e,t)).length;null!=t&&n<o;)t=t[wo(e[n++])];return n&&n==o?t:void 0};const ns=function(t,e,n){var o=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(n=n>s?s:n)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(s);++o<s;)r[o]=t[o+e];return r};const os=function(t,e){return e.length<2?t:es(t,ns(e,0,-1))};const ss=function(t,e){return e=Io(e,t),null==(t=os(t,e))||delete t[wo(ts(e))]};const rs=function(t,e){return null==t||ss(t,e)},is=["author","clear","commentThread","nodeAfter","addMarker","onAccept","accept","type","getItems","head","length","_onDiscard","start","attributes","isInContent","getMarkerNames","_onAccept","getFirstMarker","getMarkers","_saved","_onAttributesChange","getAllAdjacentSuggestions","set","getRanges","split","push","filter","decorate","isIntersecting","getRange","end","getContainedElement","isIntersectingWithRange","size","subType","next","addMarkerName","getMultiRangeId","substr","_model","reduce","_markerNames","data","getFirstRange","from","nodeBefore","markers","map","previous","discard","isMultiRange","removeMarker","get","change","removeMarkers","toJSON","hasComments","removeAttribute"];var xs,as;xs=is,as=203,function(t){for(;--t;)xs.push(xs.shift())}(++as);const cs=function(t,e){return is[t-=0]};class ls{constructor(t,e){this.id=e.id,this[cs("0x24")]=e[cs("0x24")],this[cs("0x5")]=e[cs("0x5")]||null,this[cs("0x1d")]=e[cs("0x1d")],this.externalAuthor=e.externalAuthor,this[cs("0xd")]=null,this._model=t,this[cs("0x2d")]=e[cs("0x22")],this._onDiscard=e.onDiscard,this[cs("0x31")]=e.onAttributesChange,this[cs("0xc")]=new Set,this[cs("0x33")]("createdAt",null),this[cs("0x33")](cs("0x2a"),e[cs("0x2a")]||{}),this[cs("0x33")](cs("0x13"),null),this[cs("0x33")](cs("0x6"),null),this[cs("0x33")](cs("0x1f"),null),this[cs("0x33")](cs("0x30"),!1),this[cs("0x38")](cs("0x23")),this[cs("0x38")]("discard")}get[cs("0x26")](){let t=this;for(;t[cs("0x13")];)t=t.previous;return t}get[cs("0x1b")](){return!!this[cs("0x1f")]&&this[cs("0x1f")][cs("0x27")]>0}get[cs("0x15")](){return 0!=this[cs("0xc")][cs("0x4")]&&6==Array[cs("0xf")](this[cs("0xc")])[0][cs("0x35")](":")[cs("0x27")]}get[cs("0x2b")](){return null!==this[cs("0x2e")]()}[cs("0x7")](t){this[cs("0xc")].add(t)}[cs("0x2c")](){return Array[cs("0xf")](this[cs("0xc")])}getMarkers(){return this[cs("0x2c")]()[cs("0x12")]((t=>this[cs("0xa")][cs("0x11")][cs("0x17")](t)))[cs("0x37")]((t=>t))}getFirstMarker(){return this[cs("0x2f")]()[0]||null}[cs("0x19")](){this[cs("0xa")].change((t=>{for(const e of this[cs("0x2f")]())t[cs("0x16")](e)})),this._markerNames[cs("0x1e")]()}[cs("0x16")](t){this[cs("0xa")][cs("0x18")]((e=>{e[cs("0x16")](t)})),this[cs("0xc")].delete(t)}addRange(t){const e="suggestion:"+this[cs("0x24")]+":"+this[cs("0x5")]+":"+this.id+":"+this[cs("0x1d")].id+":"+ls[cs("0x8")]();this[cs("0x7")](e),this[cs("0xa")].change((n=>{n[cs("0x21")](e,{range:t,usingOperation:!0,affectsData:!0})}))}[cs("0x3")](t){for(const e of this[cs("0x34")]())if(e[cs("0x39")](t))return!0;return!1}[cs("0x34")](){return this[cs("0x2f")]()[cs("0x12")]((t=>t[cs("0x0")]()))}[cs("0x25")](){return this[cs("0x34")]()[cs("0xb")](((t,e)=>[...t,...e[cs("0x25")]()]),[])}[cs("0xe")](){return this[cs("0x2e")]()[cs("0x0")]()}[cs("0x2")](){const t=this.getRanges();if(1!=t.length)return null;const e=t[0],n=e[cs("0x29")][cs("0x20")],o=e[cs("0x1")][cs("0x10")];return n instanceof i.Element?n!=o?null:n:null}[cs("0x23")](){this[cs("0x2d")](this[cs("0x34")](),this[cs("0xd")],this.attributes),this.removeMarkers()}[cs("0x14")](){this[cs("0x28")](this.getRanges(),this[cs("0xd")],this[cs("0x2a")]),this[cs("0x19")]()}[cs("0x32")](){const t=[];let e=this[cs("0x26")];for(;e;)t[cs("0x36")](e),e=e[cs("0x6")];return t}setAttribute(t,e){const n=fo(this[cs("0x2a")]);No(n,t,e),Zo(n,this.attributes)||(this[cs("0x2a")]=n,this[cs("0x31")](n))}[cs("0x1c")](t){const e=fo(this[cs("0x2a")]);rs(e,t),Zo(e,this[cs("0x2a")])||(this[cs("0x2a")]=e,this._onAttributesChange(this.attributes))}[cs("0x1a")](){return{id:this.id,type:this[cs("0x5")]?this[cs("0x24")]+":"+this.subType:this.type,authorId:this.author.id,createdAt:this.createdAt,hasComments:this.hasComments,data:this[cs("0xd")],attributes:this[cs("0x2a")]}}static[cs("0x8")](){return(0,e.uid)()[cs("0x9")](1,5)}}function us(t,e,n){const o=t.t;switch(e){case"Track changes":return o("Track changes");case"Accept suggestion":return o("Accept suggestion");case"Discard suggestion":return o("Discard suggestion");case"Accept all suggestions":return o("Accept all suggestions");case"Accept all selected suggestions":return o("Accept all selected suggestions");case"Discard all suggestions":return o("Discard all suggestions");case"Discard all selected suggestions":return o("Discard all selected suggestions");case"*Reset font size*":return o("*Reset font size*");case"*Reset font family*":return o("*Reset font family*");case"*Reset font color*":return o("*Reset font color*");case"*Reset font background color*":return o("*Reset font background color*");case"*Remove image text alternative*":return o("*Remove image text alternative*");case"*Reset image width*":return o("*Reset image width*");case"*Remove link*":return o("*Remove link*");case"*Check item*":return o("*Check item*");case"*Uncheck item*":return o("*Uncheck item*");case"*Remove all formatting*":return o("*Remove all formatting*");case"*Replace table cells*":return o("*Replace table cells*");case"*Merge cells*":return o("*Merge cells*");case"*Split cell:* vertically":return o("*Split cell:* vertically");case"*Split cell:* horizontally":return o("*Split cell:* horizontally");case"*Indent:* %0":return o("*Indent:* %0",n);case"*Outdent:* %0":return o("*Outdent:* %0",n);case"*Change to:* %0":return o("*Change to:* %0",n);case"*Insert:* %0":return o("*Insert:* %0",n);case"*Format:* %0":return o("*Format:* %0",n);case"*Change %0 content*":return o("*Change %0 content*",n);case"*Remove:* %0":return o("*Remove:* %0",n);case"*Merge:* %0":return o("*Merge:* %0",n);case"*Split:* %0":return o("*Split:* %0",n);case"*Remove format:* %0":return o("*Remove format:* %0",n);case"*Set font size:* %0":return o("*Set font size:* %0",n);case"*Set font family:* %0":return o("*Set font family:* %0",n);case"*Set font color:* %0":return o("*Set font color:* %0",n);case"*Set font background color:* %0":return o("*Set font background color:* %0",n);case"*Set image text alternative:* %0":return o("*Set image text alternative:* %0",n);case"*Set image width:* %0":return o("*Set image width:* %0",n);case"*Set link:* %0":return o("*Set link:* %0",n);case"*Set highlight:* %0":return o("*Set highlight:* %0",n);case"*Remove highlight*":return o("*Remove highlight*");case"FORMAT_HIGHLIGHT":return o({string:"highlight",id:"FORMAT_HIGHLIGHT"});case"FORMAT_RESTRICTED_ENABLED":return o({string:"*Enable in restricted editing mode*",id:"FORMAT_RESTRICTED_ENABLED"});case"FORMAT_RESTRICTED_DISABLED":return o({string:"*Disable in restricted editing mode*",id:"FORMAT_RESTRICTED_DISABLED"});case"ELEMENT_TABLE":return o({string:"table",plural:"%0 tables",id:"ELEMENT_TABLE"},n);case"ELEMENT_PARAGRAPH":return o({string:"paragraph",plural:"%0 paragraphs",id:"ELEMENT_PARAGRAPH"},n);case"ELEMENT_PAGE_BREAK":return o({string:"page break",plural:"%0 page breaks",id:"ELEMENT_PAGE_BREAK"},n);case"ELEMENT_MEDIA":return o({string:"media item",plural:"%0 media items",id:"ELEMENT_MEDIA"},n);case"ELEMENT_IMAGE":return o({string:"image",plural:"%0 images",id:"ELEMENT_IMAGE"},n);case"ELEMENT_INLINE_IMAGE":return o({string:"image",plural:"%0 images",id:"ELEMENT_INLINE_IMAGE"},n);case"FORMAT_SIDE_IMAGE":return o({string:"side image",id:"FORMAT_SIDE_IMAGE"});case"ELEMENT_CAPTION":return o({string:"caption",id:"ELEMENT_CAPTION"});case"ELEMENT_HORIZONTAL_LINE":return o({string:"horizontal line",plural:"%0 horizontal lines",id:"ELEMENT_HORIZONTAL_LINE"},n);case"ELEMENT_HTML_EMBED":return o({string:"HTML embed",plural:"%0 HTML embeds",id:"ELEMENT_HTML_EMBED"},n);case"ELEMENT_HEADING":return o({string:"heading (level %1)",plural:"%0 headings (level %1)",id:"ELEMENT_HEADING"},n);case"ELEMENT_HEADING_CUSTOM":return o({string:"heading (%1)",plural:"%0 headings (%1)",id:"ELEMENT_HEADING_CUSTOM"},n);case"ELEMENT_LIST_ITEM":return o({string:"list item",plural:"%0 list items",id:"ELEMENT_LIST_ITEM"},n);case"ELEMENT_BULLETED_LIST":return o({string:"bulleted list",id:"ELEMENT_BULLETED_LIST"});case"ELEMENT_NUMBERED_LIST":return o({string:"numbered list",id:"ELEMENT_NUMBERED_LIST"});case"ELEMENT_TODO_LIST":return o({string:"to-do list",id:"ELEMENT_TODO_LIST"});case"REPLACE_TEXT":return o({string:"*Replace:* %0 *with* %1",id:"REPLACE_TEXT"},n);case"ELEMENT_SPACE":return o({string:"space",plural:"%0 spaces",id:"ELEMENT_SPACE"},n);case"FORMAT_ALIGN_TO_LEFT":return o({string:"align to left",id:"FORMAT_ALIGN_TO_LEFT"});case"FORMAT_ALIGN_TO_RIGHT":return o({string:"align to right",id:"FORMAT_ALIGN_TO_RIGHT"});case"FORMAT_ALIGN_TO_CENTER":return o({string:"align to center",id:"FORMAT_ALIGN_TO_CENTER"});case"FORMAT_JUSTIFY_TEXT":return o({string:"justify",id:"FORMAT_JUSTIFY_TEXT"});case"FORMAT_BOLD":return o({string:"bold",id:"FORMAT_BOLD"});case"FORMAT_ITALIC":return o({string:"italic",id:"FORMAT_ITALIC"});case"FORMAT_UNDERLINE":return o({string:"underline",id:"FORMAT_UNDERLINE"});case"FORMAT_CODE":return o({string:"code",id:"FORMAT_CODE"});case"FORMAT_STRIKETHROUGH":return o({string:"strikethrough",id:"FORMAT_STRIKETHROUGH"});case"FORMAT_SUBSCRIPT":return o({string:"subscript",id:"FORMAT_SUBSCRIPT"});case"FORMAT_SUPERSCRIPT":return o({string:"superscript",id:"FORMAT_SUPERSCRIPT"});case"ELEMENT_BLOCK_QUOTE":return o({string:"block quote",id:"ELEMENT_BLOCK_QUOTE"});case"ELEMENT_CODE_BLOCK":return o({string:"code block",plural:"%0 code blocks",id:"ELEMENT_CODE_BLOCK"},n);case"FORMAT_HEADER_COLUMN":return o({string:"header column",id:"FORMAT_HEADER_COLUMN"});case"FORMAT_REGULAR_COLUMN":return o({string:"regular column",id:"FORMAT_REGULAR_COLUMN"});case"FORMAT_HEADER_ROW":return o({string:"header row",id:"FORMAT_HEADER_ROW"});case"FORMAT_REGULAR_ROW":return o({string:"regular row",id:"FORMAT_REGULAR_ROW"});case"PENDING_ACTION_SUGGESTION":return o({string:"Unsaved change in suggestion.",id:"PENDING_ACTION_SUGGESTION"});case"ELEMENT_TABLE_WITH_TEXT":return o({string:"table *with text* %0",id:"ELEMENT_TABLE_WITH_TEXT"},n);case"ELEMENT_TABLE_ROW":return o({string:"table row",plural:"%0 table rows",id:"ELEMENT_TABLE_ROW"},n);case"ELEMENT_TABLE_ROW_WITH_TEXT":return o({string:"table row *with text* %1",plural:"%0 table rows *with text* %1",id:"ELEMENT_TABLE_ROW_WITH_TEXT"},n);case"ELEMENT_TABLE_COLUMN":return o({string:"table column",plural:"%0 table columns",id:"ELEMENT_TABLE_COLUMN"},n);case"ELEMENT_TABLE_COLUMN_WITH_TEXT":return o({string:"table column *with text* %1",plural:"%0 table columns *with text* %1",id:"ELEMENT_TABLE_COLUMN_WITH_TEXT"},n);case"ELEMENT_LINE_BREAK":return o({id:"ELEMENT_LINE_BREAK",string:"line break",plural:"%0 line breaks"},n);case"ELEMENT_TITLE":return o({id:"ELEMENT_TITLE",string:"title"});case"EXTERNAL_SUGGESTION":return o({id:"EXTERNAL_SUGGESTION",string:"This suggestion comes from an external source."})}}(0,e.mix)(ls,e.ObservableMixin);const ds=["insertion","registerElementLabel","data","_resolveDescriptionItems","*Remove:* %0","_locale","softBreak","item","indexOf","isEqual","addObject","start","pop","isInContent","registerDescriptionCallback","removeObject","removeEmptyContainer","Container","nextSibling","isObject","ELEMENT_SPACE","text","elementEnd","length","deletion","_customCallbacks","removeContainer","_itemLabels","getDescriptions","*Insert:* %0","getFirstRange","set","previousSibling","quantity","_schema","match","$1 $2","textProxy","add","remove","push","addEmptyContainer","elementStart","type","Object","*Split:* %0","replace","addContainer","$text","_addDescriptionItems","function","name","end","isEmpty","getItemLabel"];var gs,fs;gs=ds,fs=236,function(t){for(;--t;)gs.push(gs.shift())}(++fs);const ms=function(t,e){return ds[t-=0]};class hs{constructor(t,e){this._customCallbacks=[],this[ms("0xb")]=new Map,this[ms("0x12")]=t,this[ms("0x2c")]=e}[ms("0xc")](t){const e=[];for(let n=0;n<t[ms("0x7")];n++){const o=t[n];if(!o[ms("0x34")])continue;let s=!1;for(const t of this[ms("0x9")]){const n=t(o);if(n){n[ms("0x1b")]&&e.push(n),s=!0;break}}if(!s){this[ms("0x21")](e,o);const s=t[n+1];if(s&&!o[ms("0xe")]()[ms("0x24")][ms("0x30")](s[ms("0xe")]()[ms("0x32")])){const t=e[e.length-1],n=ms("0x27")==o[ms("0x1b")]?ms("0x16"):ms("0x17");t&&"text"==t[ms("0x1b")]&&(t[n]+="\n")}}}return this[ms("0x2a")](e)}[ms("0x35")](t){this[ms("0x9")][ms("0x18")](t)}[ms("0x28")](t,e){this[ms("0xb")][ms("0xf")](t,e)}[ms("0x26")](t,e=1){const n=this[ms("0xb")].get(t)||t;return ms("0x22")==typeof n?n(e):1!==e?e+" "+n+"s":""+n}[ms("0x21")](t,e){const n=e[ms("0xe")]().getWalker(),o=ms("0x27")==e.type?"add":ms("0x17");for(const e of n){const s=e.item,r=t[t[ms("0x7")]-1];if(s.is(ms("0x15")))r&&r[ms("0x1b")].indexOf("Container")>-1&&t[ms("0x33")](),r&&ms("0x5")==r[ms("0x1b")]?r[o]+=s[ms("0x29")]:t[ms("0x18")]({type:ms("0x5"),add:ms("0x16")==o?s[ms("0x29")]:"",remove:ms("0x17")==o?s.data:""});else if(this._schema[ms("0x3")](s)){if(r&&r[ms("0x1b")][ms("0x2f")](ms("0x1"))>-1&&t[ms("0x33")](),ms("0x6")==e[ms("0x1b")])continue;r&&r[ms("0x1b")]==o+ms("0x1c")&&r[ms("0x23")]==s[ms("0x23")]?r[ms("0x11")]++:t[ms("0x18")]({type:o+ms("0x1c"),name:s.name,quantity:1}),n.skip((t=>!("elementEnd"==t[ms("0x1b")]&&t[ms("0x2e")]==s)))}else if(this._schema.checkChild(s,ms("0x20"))||s.is("element",ms("0x2d"))){if(ms("0x16")==o&&ms("0x1a")==e.type||ms("0x17")==o&&"elementEnd"==e[ms("0x1b")])continue;if(r&&-1==r[ms("0x1b")].indexOf(ms("0x1"))){"text"==r.type&&(r[o]+="\n");continue}let n;if(n=ms("0x16")==o?s[ms("0x2")]&&!this[ms("0x12")].isObject(s[ms("0x2")])?s[ms("0x2")]:null:s[ms("0x10")]&&!this[ms("0x12")][ms("0x3")](s[ms("0x10")])?s[ms("0x10")]:null,s[ms("0x25")]||n&&n[ms("0x25")]){const e=n&&n.isEmpty?n[ms("0x23")]:s.name;r&&r[ms("0x1b")]==o+"EmptyContainer"&&r.name==e?r[ms("0x11")]++:t.push({type:o+"EmptyContainer",name:e,quantity:1})}else t[ms("0x18")]({type:o+ms("0x1"),name:s.name})}}}[ms("0x2a")](t){const e=this[ms("0x2c")],n=[];for(const o of t){switch(o[ms("0x1b")]){case"text":if(o.add=o[ms("0x16")][ms("0x1e")](/(\S)\u000A+(\S)/g,ms("0x14")).replace(/\u000A/g,""),o.remove=o[ms("0x17")][ms("0x1e")](/(\S)\u000A+(\S)/g,"$1 $2")[ms("0x1e")](/\u000A/g,""),""!=o[ms("0x16")]&&""!=o[ms("0x17")]){n[ms("0x18")]({type:ms("0x1e"),content:us(e,"REPLACE_TEXT",['"'+o[ms("0x17")]+'"','"'+o[ms("0x16")]+'"'])});continue}if(null!=o[ms("0x16")].match(/^ +$/)){n.push({type:"insertion",content:us(e,"*Insert:* %0",us(e,ms("0x4"),o[ms("0x16")][ms("0x7")]))});continue}if(null!=o[ms("0x17")][ms("0x13")](/^ +$/)){n[ms("0x18")]({type:"deletion",content:us(e,ms("0x2b"),us(e,ms("0x4"),o[ms("0x17")].length))});continue}if(""!=o[ms("0x16")]){n[ms("0x18")]({type:ms("0x27"),content:us(e,"*Insert:* %0",'"'+o[ms("0x16")]+'"')});continue}n[ms("0x18")]({type:ms("0x8"),content:us(e,ms("0x2b"),'"'+o[ms("0x17")]+'"')});continue;case ms("0x19"):case ms("0x31"):n[ms("0x18")]({type:"insertion",content:us(e,ms("0xd"),this[ms("0x26")](o.name,o[ms("0x11")]))});continue;case ms("0x0"):case ms("0x36"):n[ms("0x18")]({type:ms("0x8"),content:us(e,ms("0x2b"),this[ms("0x26")](o[ms("0x23")],o[ms("0x11")]))});continue;case ms("0x1f"):n[ms("0x18")]({type:ms("0x27"),content:us(e,ms("0x1d"),this[ms("0x26")](o[ms("0x23")],o[ms("0x11")]))});continue;case ms("0xa"):n[ms("0x18")]({type:ms("0x8"),content:us(e,"*Merge:* %0",this.getItemLabel(o[ms("0x23")],o.quantity))});continue}n[ms("0x18")](o)}return n}}const ps=["justify","schema","FORMAT_ALIGN_TO_CENTER","alignment","left","registerDescriptionCallback","right","plugins","afterInit","TrackChangesEditing","markBlockFormat","selection","FORMAT_ALIGN_TO_LEFT","_descriptionFactory","filter","editor","locale","ltr","commandName","has","value","document","model","change","from","center","get","format","enableCommand","getAttribute","FORMAT_JUSTIFY_TEXT"];var bs,Es;bs=ps,Es=283,function(t){for(;--t;)bs.push(bs.shift())}(++Es);const _s=function(t,e){return ps[t-=0]};class ys extends t.Plugin{[_s("0x4")](){const t=this.editor,e=t[_s("0xc")];if(!t[_s("0x3")][_s("0xf")]("AlignmentEditing"))return;const n=t[_s("0x3")][_s("0x16")](_s("0x5"));n[_s("0x18")](_s("0x1e"),((e,o={})=>{let s=o[_s("0x10")];o[_s("0x10")]||(s=_s("0xd")===t.locale.contentLanguageDirection?_s("0x0"):_s("0x2"));const r=Array[_s("0x14")](this.editor[_s("0x12")][_s("0x11")][_s("0x7")].getSelectedBlocks())[_s("0xa")]((t=>function(t,e,n){const o=t[_s("0x19")](_s("0x1e"))||null;return e.checkAttribute(t,_s("0x1e"))&&n!=o}(t,this[_s("0xb")].model[_s("0x1c")],s)));t[_s("0x12")][_s("0x13")]((()=>{for(const t of r)n[_s("0x6")](t,{commandName:_s("0x1e"),commandParams:[{value:s}]})}))})),n[_s("0x9")][_s("0x1")]((t=>{const{data:n}=t;if(n&&_s("0x1e")==n[_s("0xe")]){const t=n.commandParams[0][_s("0x10")];return{type:_s("0x17"),content:us(e,"*Format:* %0",function(t){switch(t){case _s("0x0"):return us(e,_s("0x8"));case"right":return us(e,"FORMAT_ALIGN_TO_RIGHT");case _s("0x15"):return us(e,_s("0x1d"));case _s("0x1b"):return us(e,_s("0x1a"))}}(t))}}}))}}const Ts=["elementEnd","writer","bindElementToMarker","markerName","createUIElement","hasAttribute","getItems","nextSibling","type","schema","createRangeOn","span","get","getCustomProperty","isContent","previousPosition","parent","isLimit","item","markerRange","plugins","mapper","element","start","getAttribute","ck-suggestion-marker--active","ck-suggestion-marker-","push","getWalker","listItem","name","activeMarkers"];var Cs,ks;Cs=Ts,ks=141,function(t){for(;--t;)Cs.push(Cs.shift())}(++ks);const vs=function(t,e){return Ts[t-=0]};function As(t,e,n){const o=[];for(const s of e[vs("0x19")]())s[vs("0x18")](t)&&o[vs("0xe")](n[vs("0x1d")](s));return o}function Rs(t){const e=[];if(t.is(vs("0x9"),vs("0x10"))){let n=t[vs("0x1a")];for(;n&&n.is(vs("0x9"),"listItem")&&n[vs("0xb")]("listIndent")>0;)e[vs("0xe")](n),n=n[vs("0x1a")]}return e}function Ss(t,e,{showActiveMarker:n=!0}={}){const o=t[vs("0x7")][vs("0x1f")]("TrackChangesEditing");return(s,r,i)=>{if(!i.consumable.test(r[vs("0x6")],s[vs("0x11")]))return;const x=r.markerRange[vs("0xf")](),a=r[vs("0x6")][vs("0xa")],c=t.model[vs("0x1c")];let l=null,u=null,d=!1,g=!1;for(const t of x){const e=t[vs("0x5")];d=d||c[vs("0x1")](e);const n=i[vs("0x8")].toViewElement(e);if(n&&n[vs("0x0")]("addHighlight"))return;vs("0x13")==t[vs("0x1b")]&&c.isBlock(e)&&!c[vs("0x4")](e)&&(e[vs("0x1a")]||a.isAtEnd?l&&l[vs("0x3")]==e||(l=e,f(t[vs("0x2")]),g=!0):u=u||t[vs("0x2")])}function f(t){const s=i[vs("0x14")][vs("0x17")](vs("0x1e"),{class:vs("0xd")+e}),x=i[vs("0x8")].toViewPosition(t);n&&o[vs("0x12")].includes(r.markerName)&&i[vs("0x14")].addClass(vs("0xc"),s),i[vs("0x14")].insert(x,s),i.mapper[vs("0x15")](s,r[vs("0x16")])}d||g||!u||f(u)}}const Is=["*Format:* %0","FORMAT_UNDERLINE","subscript","CodeEditing","change","commandParams","commands","SuperscriptEditing","_descriptionFactory","ItalicEditing","slice","BoldEditing","afterInit","isCollapsed","SubscriptEditing","superscript","format","model","code","StrikethroughEditing","selection","value","strikethrough","get","FORMAT_SUPERSCRIPT","enableCommand","UnderlineEditing","FORMAT_STRIKETHROUGH","from","markInlineFormat","forceValue","underline","locale","toLowerCase","commandName","FORMAT_SUBSCRIPT","FORMAT_BOLD","TrackChangesEditing"];var ws,Ms;ws=Is,Ms=294,function(t){for(;--t;)ws.push(ws.shift())}(++Ms);const Ns=function(t,e){return Is[t-=0]},Ls=[Ns("0x15"),Ns("0x13"),Ns("0x24"),Ns("0xd"),Ns("0x1d"),Ns("0x18"),Ns("0x11")];class Os extends t.Plugin{[Ns("0x16")](){const t=this.editor,e=t[Ns("0x1b")],n=t.plugins[Ns("0x21")](Ns("0x9")),o=t[Ns("0x4")];for(const o of Ls){if(!t.plugins.has(o))continue;const s=o[Ns("0x14")](0,-7)[Ns("0x5")](),r=t[Ns("0x10")][Ns("0x21")](s);n[Ns("0x23")](s,((t,o={})=>{const i=e.document[Ns("0x1e")];if(i[Ns("0x17")])return void t(o);const x=void 0!==o.forceValue?o[Ns("0x2")]:!r[Ns("0x1f")];e[Ns("0xe")]((()=>{const t=Array[Ns("0x0")](i.getRanges());for(const o of t){const t=x?[o]:As(s,o,e);for(const e of t)n[Ns("0x1")](e,{commandName:s,commandParams:[{forceValue:x}]})}}))}))}function s(t,e){n[Ns("0x12")].registerDescriptionCallback((n=>{const{data:s}=n;if(s&&s[Ns("0x6")]===t)return s[Ns("0xf")][0].forceValue?{type:Ns("0x1a"),content:us(o,Ns("0xa"),e)}:{type:Ns("0x1a"),content:us(o,"*Remove format:* %0",e)}}))}s("bold",us(o,Ns("0x8"))),s("italic",us(o,"FORMAT_ITALIC")),s(Ns("0x3"),us(o,Ns("0xb"))),s(Ns("0x1c"),us(o,"FORMAT_CODE")),s(Ns("0x20"),us(o,Ns("0x25"))),s(Ns("0xc"),us(o,Ns("0x7"))),s(Ns("0x19"),us(o,Ns("0x22")))}}const Fs=["end","length","createPositionAt","createPositionBefore","schema","createPositionAfter","push"];var Ds,Ps;Ds=Fs,Ps=369,function(t){for(;--t;)Ds.push(Ds.shift())}(++Ps);const Bs=function(t,e){return Fs[t-=0]};function js(t,e){let n,o=0;const s=[],r=e[Bs("0x6")];for(;o<t[Bs("0x3")];){const i=t[o],x=t[o+1];n||(n=e[Bs("0x5")](i)),Us(e,i,x)||(s[Bs("0x1")](e.createRange(n,r.isObject(i)?e.createPositionAfter(i):e[Bs("0x4")](i,Bs("0x2")))),n=null),o++}return s}function Us(t,e,n){if(!n)return!1;const o=t[Bs("0x0")](e),s=t[Bs("0x5")](n);return o.isTouching(s)}const Hs=["forceValue","getSelectedBlocks","ELEMENT_BLOCK_QUOTE","get","registerDescriptionCallback","*Format:* %0","model","plugins","markBlockFormat","document","_descriptionFactory","commands","schema","filter","commandName","BlockQuoteEditing","from","commandParams","*Remove format:* %0","blockQuote","value","locale","format","checkChild","TrackChangesEditing","editor","change","selection","has"];var Gs,Vs;Gs=Hs,Vs=134,function(t){for(;--t;)Gs.push(Gs.shift())}(++Vs);const zs=function(t,e){return Hs[t-=0]};class Ws extends t.Plugin{afterInit(){const t=this[zs("0x7")],e=t[zs("0x3")];if(!t[zs("0x12")][zs("0xa")](zs("0x1a")))return;const n=t[zs("0x12")][zs("0xe")](zs("0x6")),o=this[zs("0x7")][zs("0x16")].get("blockQuote");n.enableCommand(zs("0x1"),((e,s={})=>{const r=this[zs("0x7")][zs("0x11")][zs("0x14")][zs("0x9")],i=s&&void 0!==s.forceValue?s[zs("0xb")]:!o[zs("0x2")];let x=[];if(i){const e=Array[zs("0x1b")](r.getSelectedBlocks())[zs("0x18")]((t=>Ks(t)||function(t,e){const n=e.checkChild(t.parent,zs("0x1")),o=e[zs("0x5")](["$root",zs("0x1")],t);return n&&o}(t,this[zs("0x7")][zs("0x11")][zs("0x17")])));x=js(e,t.model)}else{const e=Array[zs("0x1b")](r[zs("0xc")]())[zs("0x18")]((t=>Ks(t)));x=js(e,t.model)}t[zs("0x11")][zs("0x8")]((()=>{for(const t of x)n[zs("0x13")](t,{commandName:zs("0x1"),commandParams:[{forceValue:i}]})}))})),n[zs("0x15")][zs("0xf")]((t=>{const{data:n}=t;if(n&&zs("0x1")==n[zs("0x19")]){const t=us(e,zs("0xd"));return n[zs("0x1c")][0][zs("0xb")]?{type:zs("0x4"),content:us(e,zs("0x10"),t)}:{type:zs("0x4"),content:us(e,zs("0x0"),t)}}}))}}function Ks(t){return"blockQuote"==t.parent.name}const qs=["enableCommand","get","editor","plugins","ckbox","TrackChangesEditing"];var $s,Xs;$s=qs,Xs=434,function(t){for(;--t;)$s.push($s.shift())}(++Xs);const Js=function(t,e){return qs[t-=0]};class Qs extends t.Plugin{afterInit(){const t=this[Js("0x0")];t.commands[Js("0x5")](Js("0x2"))&&t[Js("0x1")][Js("0x5")](Js("0x3"))[Js("0x4")](Js("0x2"))}}const Ys=["rootElement","getSelectedBlocks","_descriptionFactory","from","locale","plugins","ELEMENT_CODE_BLOCK","blockName","label","enableCommand","languages","codeBlock","markBlockFormat","checkChild","isLimit","name","schema","TrackChangesEditing","commands","format","has","commandName","find","parent","document","language","outdentCodeBlock","selection","change","*Format:* %0","afterInit","CodeBlock","get","forceValue","filter","*Remove format:* %0","commandParams","indentCodeBlock","editor"];var Zs,tr;Zs=Ys,tr=143,function(t){for(;--t;)Zs.push(Zs.shift())}(++tr);const er=function(t,e){return Ys[t-=0]};class nr extends t.Plugin{[er("0x4")](){const t=this[er("0xc")];if(!t.plugins[er("0x21")](er("0x5")))return;const e=t[er("0x12")].get(er("0x1e")),n=t[er("0x11")],o=t.config[er("0x6")](er("0x18"))[er("0x17")],s=t[er("0x1f")][er("0x6")](er("0x18"));e[er("0x16")](er("0xb")),e[er("0x16")](er("0x0")),e.enableCommand(er("0x18"),((n,r={})=>{const i=t.model,x=t.model[er("0x25")][er("0x1")],a=r&&void 0!==r.forceValue?r.forceValue:!s.value;let c;r[er("0x26")]||(r[er("0x26")]=o[0].language),c=a?Array.from(x.getSelectedBlocks())[er("0x8")]((t=>{return or(t)||(e=t,n=i[er("0x1d")],!e.is(er("0xd"))&&!n[er("0x1b")](e)&&n[er("0x1a")](e[er("0x24")],er("0x18")));var e,n})):Array[er("0x10")](x[er("0xe")]()).filter((t=>or(t)));const l=js(c,i);i[er("0x2")]((()=>{for(const t of l)e[er("0x19")](t,{commandName:er("0x18"),commandParams:[{...r,forceValue:a}],formatGroupId:er("0x14")})}))})),e._descriptionFactory.registerElementLabel(er("0x18"),(t=>us(n,er("0x13"),t))),e[er("0xf")].registerDescriptionCallback((t=>{const{type:e,data:s}=t;if("formatBlock"==e&&s&&er("0x18")==s[er("0x22")]){const t=s[er("0xa")][0][er("0x26")],e=o[er("0x23")]((e=>e[er("0x26")]===t))[er("0x15")],r=n._t(e);return s[er("0xa")][0][er("0x7")]?{type:er("0x20"),content:us(n,er("0x3"),us(n,er("0x13"),1)+" ("+r+")")}:{type:"format",content:us(n,er("0x9"),us(n,er("0x13"),1))}}}))}}function or(t){return er("0x18")==t[er("0x1c")]}const sr=["editor","CommentsEditing","enableCommand","afterInit","plugins","TrackChangesEditing","get"];var rr,ir;rr=sr,ir=265,function(t){for(;--t;)rr.push(rr.shift())}(++ir);const xr=function(t,e){return sr[t-=0]};class ar extends t.Plugin{[xr("0x4")](){const t=this[xr("0x1")];t[xr("0x5")].has(xr("0x2"))&&t[xr("0x5")][xr("0x0")](xr("0x6"))[xr("0x3")]("addCommentThread")}}var cr=n(181);const lr=["model","high","detach","requires","modifySelection","enqueueChange","data","TrackChangesEditing","deleteForward","end","root","editing","getFirstRange","forward","lock","plugins","isCollapsed","showSuggestionHighlights","createRange","buffer","selection","start","removeMarker:suggestion:deletion","addMarker:suggestion:deletion","unbindElementFromMarkerName","document","$graveyard","remove","get","editor","setSelection","init","markerNameToElements","writer","unit","downcastDispatcher","delete","enableCommand","merge","unlock"];var ur,dr;ur=lr,dr=402,function(t){for(;--t;)ur.push(ur.shift())}(++dr);const gr=function(t,e){return lr[t-=0]};class fr extends t.Plugin{static get[gr("0x1")](){return[cr.Delete]}[gr("0x1d")](){const t=this[gr("0x1b")],e=t[gr("0xd")][gr("0x1a")](gr("0x5"));e[gr("0x23")](gr("0x22"));const n=t.commands[gr("0x1a")](gr("0x6"));e[gr("0x23")](gr("0x6"),((e,o={})=>{const s=t[gr("0x26")].createSelection(t[gr("0x26")][gr("0x17")][gr("0x12")]);s[gr("0xe")]&&t[gr("0x26")][gr("0x2")](s,{direction:gr("0xb"),unit:o[gr("0x20")]});const r=s[gr("0xa")](),x=i.LiveRange.fromRange(r);let a;e(o),a=gr("0x18")==x[gr("0x8")].rootName?t[gr("0x26")][gr("0x10")](r[gr("0x13")]):t.model[gr("0x10")](x[gr("0x13")],x[gr("0x7")]),x[gr("0x0")](),t.model[gr("0x3")](n[gr("0x11")].batch,(t=>{n[gr("0x11")][gr("0xc")](),t[gr("0x1c")](t.createRange(a.end)),n.buffer[gr("0x25")]()}))})),t[gr("0x9")].downcastDispatcher.on("addMarker:suggestion:deletion",Ss(t,gr("0x24")),{priority:"high"}),t[gr("0x4")][gr("0x21")].on(gr("0x15"),((e,n,o)=>{o.options[gr("0xf")]&&Ss(t,gr("0x24"),{showActiveMarker:!1})(e,n,o)}),{priority:gr("0x27")}),t[gr("0x9")][gr("0x21")].on(gr("0x14"),((t,e,n)=>{const o=n.mapper[gr("0x1e")](e.markerName);if(o)for(const t of o)t.is("uiElement")&&(n.mapper[gr("0x16")](t,e.markerName),n[gr("0x1f")][gr("0x19")](t))}),{priority:gr("0x27")})}}var mr=n(331);const hr=["init","hasClass","downcastDispatcher","document","detach","model","setSelection","writer","createPositionAt","createRange","mapper","data","plugins","requires","high","parent","selection","showSuggestionHighlights","addMarker:suggestion:insertion","enableCommand","schema","ck-suggestion-marker-split","nextSibling","editor","TrackChangesEditing","isAtStart","start","getFirstRange","markerName","split","editing","isAtEnd","change","end","isLimit","isCollapsed"];var pr,br;pr=hr,br=470,function(t){for(;--t;)pr.push(pr.shift())}(++br);const Er=function(t,e){return hr[t-=0]};class _r extends t.Plugin{static get[Er("0xb")](){return[mr.Enter]}[Er("0x22")](){const t=this[Er("0x15")],e=t[Er("0xa")].get(Er("0x16"));e[Er("0x11")]("enter",(n=>{t.model[Er("0x1e")]((o=>{const s=t[Er("0x3")][Er("0x1")][Er("0xe")],r=s.getFirstPosition(),x=s[Er("0x21")],a=i.LiveRange.fromRange(s[Er("0x19")]()),c=a[Er("0x18")][Er("0xd")],l=a.end.parent,u=!(a[Er("0x18")][Er("0x17")]&&a[Er("0x1f")][Er("0x1d")]),d=c==l,g=!(t[Er("0x3")][Er("0x12")].isLimit(c)||t[Er("0x3")][Er("0x12")][Er("0x20")](l))&&(x||u&&d);if(n(),g){const n=t[Er("0x3")][Er("0x6")](r[Er("0xd")][Er("0x14")],0),s=o[Er("0x7")](r,n);e.markInsertion(s)}else o[Er("0x4")](o.createRange(a.end));a[Er("0x2")]()}))})),t.editing[Er("0x0")].on(Er("0x10"),Ss(t,Er("0x1b")),{priority:Er("0xc")}),t[Er("0x1c")].downcastDispatcher.on("removeMarker:suggestion:insertion",((t,e,n)=>{const o=n[Er("0x8")].markerNameToElements(e[Er("0x1a")]);if(o)for(const t of o)t[Er("0x23")](Er("0x13"))&&(n.mapper.unbindElementFromMarkerName(t,e[Er("0x1a")]),n[Er("0x5")].remove(t))}),{priority:Er("0xc")}),t[Er("0x9")][Er("0x0")].on(Er("0x10"),((e,n,o)=>{o.options[Er("0xf")]&&Ss(t,Er("0x1b"),{showActiveMarker:!1})(e,n,o)}),{priority:Er("0xc")})}}const yr=["registerDescriptionCallback","get","change","editor","trim","FontSizeEditing","enableCommand","*Reset font color*","markInlineFormat","plugins","normalizeSizeOptions","FontFamilyEditing","*Reset font background color*","getRanges","from","FontSize","_descriptionFactory","find","value","*Set font color:* %0","toLowerCase","fontSize.options","commandParams","isCollapsed","FontColorEditing","format","selection","FontBackgroundColorEditing","config","TrackChangesEditing","*Set font size:* %0","fontColor","_enableCommand","locale","*Set font family:* %0","*Set font background color:* %0","model","title","afterInit","has","commandName","fontFamily","fontSize","*Reset font size*","label"];var Tr,Cr;Tr=yr,Cr=277,function(t){for(;--t;)Tr.push(Tr.shift())}(++Cr);const kr=function(t,e){return yr[t-=0]},vr=[{pluginName:kr("0x2b"),commandName:kr("0x23")},{pluginName:kr("0x4"),commandName:"fontFamily"},{pluginName:kr("0x11"),commandName:kr("0x18")},{pluginName:kr("0x14"),commandName:"fontBackgroundColor"}];class Ar extends t.Plugin{[kr("0x1f")](){const t=this[kr("0x29")].locale;for(const{pluginName:t,commandName:e}of vr)this.editor.plugins[kr("0x20")](t)&&this._enableCommand(e);this[kr("0x29")][kr("0x2")].get(kr("0x16"))[kr("0x9")][kr("0x26")]((e=>{const{data:n}=e;if(null!=n){if(kr("0x23")==n[kr("0x21")]){const e=n.commandParams[0][kr("0xb")];if(e){const n=this[kr("0x29")][kr("0x2")][kr("0x27")](kr("0x8"))[kr("0x3")](this[kr("0x29")][kr("0x15")][kr("0x27")](kr("0xe")))[kr("0xa")]((t=>t[kr("0x1d")]==e))[kr("0x1e")],o=this[kr("0x29")][kr("0x1a")]._t(n).toLowerCase();return{type:kr("0x12"),content:us(t,kr("0x17"),o)}}return{type:kr("0x12"),content:us(t,kr("0x24"))}}if(kr("0x22")==n[kr("0x21")]){const e=n[kr("0xf")][0][kr("0xb")];return e?{type:kr("0x12"),content:us(t,kr("0x1b"),e)}:{type:kr("0x12"),content:us(t,"*Reset font family*")}}if(kr("0x18")==n.commandName){const e=n[kr("0xf")][0][kr("0xb")];if(e){const n=(0,s.normalizeColorOptions)(this[kr("0x29")][kr("0x15")][kr("0x27")]("fontColor.colors")).find((t=>t[kr("0x1d")]==e));let o=e,r="";return n&&(o=n.label,r=t._t(o).toLowerCase()),{type:"format",content:us(t,kr("0xc"),r)[kr("0x2a")](),color:{value:e,title:r||o}}}return{type:kr("0x12"),content:us(t,kr("0x0"))}}if("fontBackgroundColor"==n[kr("0x21")]){const e=n[kr("0xf")][0][kr("0xb")];if(e){const n=(0,s.normalizeColorOptions)(this.editor[kr("0x15")][kr("0x27")]("fontBackgroundColor.colors"))[kr("0xa")]((t=>t[kr("0x1d")]==e));let o=e,r="";return n&&(o=n[kr("0x25")],r=t._t(o)[kr("0xd")]()),{type:kr("0x12"),content:us(t,kr("0x1c"),r)[kr("0x2a")](),color:{value:e,title:r||o}}}return{type:"format",content:us(t,kr("0x5"))}}}}))}[kr("0x19")](t){const e=this.editor;e[kr("0x2")][kr("0x27")](kr("0x16"))[kr("0x2c")](t,((n,o={})=>{const s=e[kr("0x1d")].document[kr("0x13")],r=o.value;s[kr("0x10")]?n(o):e.model[kr("0x28")]((()=>{const n=Array[kr("0x7")](s[kr("0x6")]());for(const o of n){const n=r?[o]:As(t,o,e[kr("0x1d")]);for(const o of n)e[kr("0x2")][kr("0x27")](kr("0x16"))[kr("0x1")](o,{commandName:t,commandParams:[{value:r}]})}}))}))}}const Rr=["find","change","format","parent","selection","blockName","heading.options","getSelectedBlocks","name","*Change to:* %0","heading","isObject","commandName","document","get","HeadingEditing","editor","paragraph","match","checkChild","TrackChangesEditing","enableCommand","registerElementLabel","ELEMENT_HEADING","plugins","model","registerDescriptionCallback","markBlockFormat","locale","value","_descriptionFactory","afterInit","ELEMENT_HEADING_CUSTOM","schema","title"];var Sr,Ir;Sr=Rr,Ir=402,function(t){for(;--t;)Sr.push(Sr.shift())}(++Ir);const wr=function(t,e){return Rr[t-=0]};class Mr extends t.Plugin{[wr("0xe")](){const t=this[wr("0x22")],e=t[wr("0xb")],n=t.config[wr("0x20")](wr("0x18"));if(!t.plugins.has(wr("0x21")))return;const o=t[wr("0x7")][wr("0x20")](wr("0x3"));o[wr("0x4")](wr("0x1c"),((e,n)=>{const s=n[wr("0xc")],r=Array.from(this[wr("0x22")][wr("0x8")][wr("0x1f")][wr("0x16")][wr("0x19")]()).filter((t=>{return e=t,n=s,(o=this[wr("0x22")][wr("0x8")][wr("0x10")])[wr("0x2")](e[wr("0x15")],n)&&!o[wr("0x1d")](e)&&e[wr("0x1a")]!=n;var e,n,o}));t[wr("0x8")][wr("0x13")]((()=>{for(const t of r)o[wr("0xa")](t,{commandName:"heading",commandParams:[n],formatGroupId:wr("0x17")},Rs(t))}))}));for(const t of n)wr("0x0")!=t[wr("0x8")]&&o[wr("0xd")][wr("0x5")](t[wr("0x8")],(e=>{const n=Nr(t[wr("0x8")]);return null!==n?s(e,n):r(e,t[wr("0x11")])}));function s(t,n){return us(e,wr("0x6"),[t,n])}function r(t,n){return us(e,wr("0xf"),[t,n])}o[wr("0xd")][wr("0x9")]((t=>{const{type:o,data:i}=t;if("formatBlock"==o&&i&&wr("0x1c")==i[wr("0x1e")]){const t=i.commandParams[0][wr("0xc")],o=Nr(t);if(null!==o)return{type:wr("0x14"),content:us(e,wr("0x1b"),s(1,o))};const x=n[wr("0x12")]((e=>e[wr("0x8")]===t))[wr("0x11")];return{type:wr("0x14"),content:us(e,wr("0x1b"),r(1,x))}}}))}}function Nr(t){const e=t[wr("0x1")](/^heading(\d+)$/);return e?e[1]:null}const Lr=["item","commandParams","format","plugins","hasAttribute","afterInit","document","registerDescriptionCallback","getAttribute","find","selection","markInlineFormat","color","FORMAT_HIGHLIGHT","config","_descriptionFactory","value","toLowerCase","getFirstPosition","model","TrackChangesEditing","highlight","push","editor","enableCommand","title","has","HighlightEditing","getLastMatchingPosition","get","highlight.options","*Remove highlight*","commandName","formatInline","isCollapsed","*Set highlight:* %0","locale"];var Or,Fr;Or=Lr,Fr=384,function(t){for(;--t;)Or.push(Or.shift())}(++Fr);const Dr=function(t,e){return Lr[t-=0]};class Pr extends t.Plugin{[Dr("0x1c")](){const t=this[Dr("0x9")];if(!t[Dr("0x1a")][Dr("0xc")](Dr("0xd")))return;const e=t[Dr("0x1a")][Dr("0xf")](Dr("0x6"));e[Dr("0xa")](Dr("0x7"),((n,o={})=>{const s=t[Dr("0x5")][Dr("0x1d")][Dr("0x21")],r=s[Dr("0x1f")]("highlight");let i=o.value,x=[];if(s[Dr("0x14")]){const e=s[Dr("0x4")]();if(!s[Dr("0x1b")](Dr("0x7")))return void n(o);{const n=t=>t[Dr("0x17")][Dr("0x1f")]("highlight")===r,o=e[Dr("0xe")](n,{direction:"backward"}),s=e[Dr("0xe")](n);x=[t.model.createRange(o,s)],i==r&&(i=null)}}else for(const e of s.getRanges())i?x[Dr("0x8")](e):x[Dr("0x8")](...As(Dr("0x7"),e,t[Dr("0x5")]));t[Dr("0x5")].change((()=>{for(const t of x)e[Dr("0x22")](t,{commandName:Dr("0x7"),commandParams:[{value:i}]})}))}));const n=t[Dr("0x16")];e[Dr("0x1")][Dr("0x1e")]((e=>{const{type:o,data:s}=e;if(Dr("0x13")==o&&s&&Dr("0x7")==s[Dr("0x12")]){const e=s[Dr("0x18")][0][Dr("0x2")];if(e){const o=t[Dr("0x0")].get(Dr("0x10"))[Dr("0x20")]((t=>t[Dr("0x5")]==e)),s=n._t(o[Dr("0xb")])[Dr("0x3")]();return{type:Dr("0x19"),content:us(n,Dr("0x15"),s),color:{value:o[Dr("0x23")],title:o[Dr("0xb")]}}}return{type:"format",content:us(n,Dr("0x11"),us(n,Dr("0x24")))}}}))}}const Br=["editor","createEmptyElement","ELEMENT_HORIZONTAL_LINE","createPositionAt","get","createContainerElement","for","ck-horizontal-line","HorizontalLineEditing","elementToStructure","TrackChangesEditing","registerElementLabel","has","showSuggestionHighlights","horizontalLine","enableCommand","plugins","insert","locale","afterInit"];var jr,Ur;jr=Br,Ur=364,function(t){for(;--t;)jr.push(jr.shift())}(++Ur);const Hr=function(t,e){return Br[t-=0]};class Gr extends t.Plugin{[Hr("0xf")](){const t=this[Hr("0x10")];if(!t[Hr("0xc")][Hr("0x8")](Hr("0x4")))return;t[Hr("0xc")][Hr("0x0")](Hr("0x6"))[Hr("0xb")]("horizontalLine");const e=t[Hr("0xc")][Hr("0x0")](Hr("0x6")),n=t[Hr("0xe")];e._descriptionFactory[Hr("0x7")](Hr("0xa"),(t=>us(n,Hr("0x12"),t))),t.conversion[Hr("0x2")]("dataDowncast")[Hr("0x5")]({model:Hr("0xa"),view:(t,{writer:e,options:n})=>{if(!n[Hr("0x9")])return;const o=e[Hr("0x1")]("div"),s=e[Hr("0x11")]("hr");return e.addClass(Hr("0x3"),o),e[Hr("0xd")](e[Hr("0x13")](o,0),s),o},converterPriority:"high"})}}const Vr=["*Change %0 content*","get","format","getCustomProperty","ELEMENT_HTML_EMBED","enableCommand","plugins","_descriptionFactory","document","registerDescriptionCallback","editor","cancel","registerElementLabel","selection","value","getSelectedElement","commandName","view","TrackChangesEditing","rawHtml","getAttribute","htmlEmbed","rawHtmlApi"];var zr,Wr;zr=Vr,Wr=229,function(t){for(;--t;)zr.push(zr.shift())}(++Wr);const Kr=function(t,e){return Vr[t-=0]};class qr extends t.Plugin{afterInit(){const t=this[Kr("0xb")];if(!t[Kr("0x7")].has("HtmlEmbed"))return;const e=t[Kr("0x7")][Kr("0x2")](Kr("0x13")),n=t.locale,o=t.editing[Kr("0x12")][Kr("0x9")][Kr("0xe")];e[Kr("0x8")][Kr("0xd")](Kr("0x14"),(t=>us(n,Kr("0x5"),t))),t.plugins[Kr("0x2")](Kr("0x13"))[Kr("0x6")]("htmlEmbed",((n,s)=>{const r=t.model,i=r.document.selection;r.change((()=>{const t=function(t){const e=t[Kr("0x10")]();return e&&e.is("element",Kr("0x14"))?t.getSelectedElement():null}(i);if(!t)return void n(null);const r=t[Kr("0x15")](Kr("0xf"))||"";void 0!==s&&s!==r&&(e.markBlockFormat(t,{commandName:Kr("0x16"),commandParams:[s]}),o.getSelectedElement()[Kr("0x4")](Kr("0x0"))[Kr("0xc")]())}))})),e[Kr("0x8")][Kr("0xa")]((t=>{const{data:e}=t;if(e&&Kr("0x16")==e[Kr("0x11")]){const t=us(n,Kr("0x5"));return{type:Kr("0x3"),content:us(n,Kr("0x1"),t)}}}))}}const $r=["caption","getChangedMarkers","isCollapsed","element","format","locale","insertImage","shouldConvertImageType","convertBlockImageToInline","accept","find","isOwn","isEqual","imageTextAlternative","type","afterInit","toLowerCase","insertion","alt","ImageInlineEditing","registerElementLabel","toNext","model","getSuggestion","toggleImageCaption","_suggestionFactory","hasSuggestion","ELEMENT_CAPTION","ImageEditing","forceDefaultExecution","getSuggestions","nodeBefore","newValue","toPrevious","convertInlineImageToBlock","subType","next","plugins","getContainedElement","getClosestSelectedImageElement","differ","imageTypeInline","chain","ImageTextAlternativeEditing","TrackChangesEditing","normalizedStyles","imageStyle","hasAttribute","ImageCaptionUtils","discard","value","schema","change","formatInline","ImageResize","get","author","*Set image text alternative:* %0","removeObject","imageStylePreApply","filter","detach","FORMAT_SIDE_IMAGE","ImageCaptionEditing","registerDescriptionCallback","forward","resizeImage","formatBlock","selection","width","commandName","from","name","end","backward","markDeletion","enableCommand","start","isBlockImage","commandReversedParams","discardSuggestion","registerCustomCallback","isInlineImage","ELEMENT_INLINE_IMAGE","commands","title","ImageUploadEditing","getFirstRange","head","newRange","getCaptionFromImageModelElement","imageTypeBlock","*Set image width:* %0","findIndex","isIntersecting","isBefore","_descriptionFactory","getNearestSelectionRange","refresh","Block image to inline image","forEach","has","_splitMarkerName","deletion","ImageBlockEditing","markBlockFormat","markInsertion","length","*Remove image text alternative*","getAttribute","commandParams","document","createRange","getSuggestionCallback","uploadImage","fromPosition","imageCaption","imageStylePostApply","createRangeOn","*Format:* %0","join","editor","Users"];var Xr,Jr;Xr=$r,Jr=392,function(t){for(;--t;)Xr.push(Xr.shift())}(++Jr);const Qr=function(t,e){return $r[t-=0]};class Yr extends t.Plugin{[Qr("0x73")](){const t=this[Qr("0x62")];if(!t[Qr("0xe")][Qr("0x4e")](Qr("0x5")))return;const n=t[Qr("0xe")][Qr("0x20")](Qr("0x15")),o=t[Qr("0xe")][Qr("0x20")]("ImageUtils"),s={},r=t[Qr("0x69")];if(n.enableCommand(Qr("0x6a")),n[Qr("0x49")][Qr("0x78")]("imageBlock",(t=>us(r,"ELEMENT_IMAGE",t))),n[Qr("0x49")][Qr("0x78")]("imageInline",(t=>us(r,Qr("0x3c"),t))),n[Qr("0x49")][Qr("0x78")](Qr("0x64"),us(r,Qr("0x4"))),t[Qr("0xe")].has(Qr("0x3f"))&&n[Qr("0x35")](Qr("0x5b")),t[Qr("0xe")][Qr("0x4e")](Qr("0x51"))&&t[Qr("0xe")][Qr("0x4e")](Qr("0x77"))&&(n[Qr("0x35")](Qr("0x12"),((e,s)=>{const r=o.getClosestSelectedImageElement(t.model.document[Qr("0x2d")]);t[Qr("0x7a")][Qr("0x1d")]((()=>{n[Qr("0x52")](r,{commandName:Qr("0x12"),commandParams:[s]},[],Qr("0x6c"))}))})),n[Qr("0x35")](Qr("0x44"),((e,s)=>{t.model.change((r=>{let x=o[Qr("0x10")](t[Qr("0x7a")][Qr("0x58")].selection),a=r.createRangeOn(x);const c=i.LivePosition[Qr("0x5c")](a[Qr("0x36")],Qr("0xa")),l=i.LivePosition.fromPosition(a[Qr("0x32")],Qr("0x79"));n[Qr("0x6")]((()=>e(s))),x=o[Qr("0x10")](t[Qr("0x7a")][Qr("0x58")][Qr("0x2d")]),a=r.createRangeOn(x);const u=r.createRange(c,l);c[Qr("0x26")](),l.detach(),n[Qr("0x52")](x,{commandName:Qr("0x12")},[],Qr("0xb")),u[Qr("0x36")][Qr("0x48")](a.start)&&n[Qr("0x53")](r.createRange(u[Qr("0x36")],a[Qr("0x36")]),Qr("0xb")),a[Qr("0x32")][Qr("0x48")](u[Qr("0x32")])&&n[Qr("0x53")](r.createRange(a[Qr("0x32")],u[Qr("0x32")]),Qr("0xb"))}))})),n[Qr("0x2")][Qr("0x3a")](Qr("0x2c"),"convertInlineImageToBlock",Qr("0x61"),(()=>{})),n[Qr("0x2")][Qr("0x3a")](Qr("0x2c"),Qr("0xb"),Qr("0x6d"),(()=>{})),n[Qr("0x2")][Qr("0x3a")](Qr("0x2c"),"convertInlineImageToBlock",Qr("0x1a"),n._suggestionFactory[Qr("0x5a")](Qr("0x2c"),"","accept")),n[Qr("0x2")][Qr("0x3a")](Qr("0x75"),Qr("0xb"),"join",(()=>{})),n[Qr("0x2")][Qr("0x3a")]("insertion",Qr("0xb"),"discard",(([e])=>{const o=n[Qr("0x2")][Qr("0x5a")](Qr("0x75"),"","discard");let s=e.start,r=e[Qr("0x32")];const i=t[Qr("0x7a")][Qr("0x1c")].getNearestSelectionRange(s,Qr("0x33")),x=t.model[Qr("0x1c")][Qr("0x4a")](r,Qr("0x2a"));i[Qr("0x66")]&&(s=i.start),x[Qr("0x66")]&&(r=x[Qr("0x32")]),o([t[Qr("0x7a")][Qr("0x59")](s,r)])})),n[Qr("0x2")][Qr("0x3a")](Qr("0x2c"),Qr("0xb"),"chain",c),n[Qr("0x2")][Qr("0x3a")](Qr("0x75"),Qr("0xb"),Qr("0x13"),c)),t[Qr("0xe")][Qr("0x4e")](Qr("0x28"))&&(n[Qr("0x35")](Qr("0x1"),((e,s)=>{const r=t[Qr("0xe")][Qr("0x20")](Qr("0x19"));let i=o[Qr("0x10")](t[Qr("0x7a")][Qr("0x58")][Qr("0x2d")]),x=r[Qr("0x43")](i);t[Qr("0x7a")][Qr("0x1d")]((()=>{if(x)return void n[Qr("0x34")](t.model.createRangeOn(x));const a=o[Qr("0x37")](i);e(s),i=o[Qr("0x10")](t[Qr("0x7a")].document[Qr("0x2d")]),x=r[Qr("0x43")](i),n[Qr("0x53")](t[Qr("0x7a")][Qr("0x5f")](x),a?null:Qr("0x5d"))}))})),n[Qr("0x2")][Qr("0x3a")](Qr("0x75"),Qr("0x5d"),Qr("0x13"),c)),t[Qr("0xe")][Qr("0x4e")]("ImageStyleEditing")){n[Qr("0x35")](Qr("0x17"),((s,r)=>{const i=t[Qr("0xe")][Qr("0x20")](Qr("0x63")).me,x=t.commands[Qr("0x20")](Qr("0x17"));let a=o[Qr("0x10")](t[Qr("0x7a")][Qr("0x58")][Qr("0x2d")]),c=t[Qr("0x7a")].createRangeOn(a),l=x[Qr("0x1b")];if(l==r[Qr("0x1b")])return;const u={commandName:Qr("0x17"),commandParams:[r],formatGroupId:(0,e.uid)()};t[Qr("0x7a")][Qr("0x1d")]((()=>{if(n[Qr("0x7")]().filter((t=>t.isInContent&&i==t[Qr("0x21")]&&("formatBlock"==t[Qr("0x72")]||Qr("0x1e")==t[Qr("0x72")])&&(Qr("0x24")==t[Qr("0xc")]||Qr("0x5e")==t[Qr("0xc")])&&t[Qr("0x40")]()[Qr("0x70")](c)))[Qr("0x4d")]((t=>n[Qr("0x39")](t[Qr("0x41")]))),a=o[Qr("0x10")](t[Qr("0x7a")][Qr("0x58")][Qr("0x2d")]),c=t.model[Qr("0x5f")](a),x.refresh(),t[Qr("0x3d")][Qr("0x20")](Qr("0x12"))[Qr("0x4b")](),t[Qr("0x3d")][Qr("0x20")](Qr("0x44"))[Qr("0x4b")](),l=x[Qr("0x1b")],l!=r.value)return o[Qr("0x3b")](a)&&x[Qr("0x6b")](r.value,a)?(s(r),a=o[Qr("0x10")](t[Qr("0x7a")].document.selection),void n[Qr("0x52")](a,{...u,commandReversedParams:[{value:l||null}]},[],Qr("0x24"))):void(o[Qr("0x37")](a)?n[Qr("0x52")](a,u,[],Qr("0x5e")):n.markInlineFormat(c,u,"imageStylePostApply"))}))}));for(const e of t[Qr("0xe")][Qr("0x20")]("ImageStyleEditing")[Qr("0x16")])s[e[Qr("0x31")]]=e[Qr("0x3e")][Qr("0x74")]();n._suggestionFactory[Qr("0x3a")](Qr("0x2c"),"imageStylePreApply",Qr("0x61"),(()=>{})),n[Qr("0x2")].registerCustomCallback("formatBlock",Qr("0x5e"),Qr("0x61"),(()=>{})),n[Qr("0x2")][Qr("0x3a")](Qr("0x1e"),Qr("0x5e"),Qr("0x61"),(()=>{})),n[Qr("0x2")][Qr("0x3a")](Qr("0x2c"),Qr("0x24"),"accept",(()=>{})),n._suggestionFactory[Qr("0x3a")](Qr("0x2c"),Qr("0x24"),Qr("0x1a"),((t,e)=>{n._suggestionFactory[Qr("0x5a")](Qr("0x2c"),"",Qr("0x6d"))(t,{commandName:e.commandName,commandParams:e[Qr("0x38")]})})),n[Qr("0x2")][Qr("0x3a")]("formatBlock","imageStylePreApply",Qr("0x13"),c)}const x=[{type:Qr("0x2c"),subType:Qr("0x24")},{type:Qr("0x75"),subType:Qr("0x5d")},{type:"formatBlock",subType:Qr("0xb")},{type:Qr("0x75"),subType:Qr("0xb")}];function a(t,e){const s=x[Qr("0x46")]((({type:e,subType:n})=>t[Qr("0x72")]==e&&t[Qr("0xc")]==n)),r=x[Qr("0x46")]((({type:t,subType:n})=>e[Qr("0x72")]==t&&e[Qr("0xc")]==n));if(s<0||r<0)return!1;const i=t[Qr("0x40")](),a=e[Qr("0x40")]();if((0==s||1==s)&&2==r&&i[Qr("0x47")](a))return!0;if(2==s&&3==r){const t=n._findSuggestions(i,"insertion")[Qr("0x25")]((({suggestion:t,meta:e})=>e[Qr("0x6f")]&&"convertInlineImageToBlock"==t[Qr("0xc")]));if(t[Qr("0x54")]>1&&a[Qr("0x32")][Qr("0x70")](i[Qr("0x36")]))return!0;if(1==t[Qr("0x54")]&&(i[Qr("0x36")][Qr("0x70")](a[Qr("0x32")])||i[Qr("0x32")][Qr("0x70")](a[Qr("0x36")])))return!0}if(3==s&&3==r&&i[Qr("0x36")][Qr("0x48")](a[Qr("0x36")])){const t=i[Qr("0x32")].nodeAfter,e=a[Qr("0x36")][Qr("0x8")];return o[Qr("0x37")](t)&&t===e}return!1}function c(t,e){return a(t,e)?[t,e]:a(e,t)?[e,t]:null}t[Qr("0x7a")][Qr("0x58")].registerPostFixer((()=>{let e=!1;const s=Array[Qr("0x30")](t[Qr("0x7a")][Qr("0x58")][Qr("0x11")][Qr("0x65")]());for(const{name:t,data:r}of s){const{group:s,type:i,subType:x,id:a}=n[Qr("0x4f")](t);if("suggestion"==s&&n[Qr("0x3")](a)){if(Qr("0x2c")==i&&("imageStylePreApply"==x||Qr("0x5e")==x)){const t=n[Qr("0x0")](a);if(r.newRange){const s=t[Qr("0x40")]()[Qr("0xf")]();if(o[Qr("0x37")](s))continue;n.discardSuggestion(t),e=!0}}if(Qr("0x75")==i&&Qr("0x5d")==x&&!r[Qr("0x42")]){const t=n[Qr("0x0")](a);t[Qr("0xd")]&&t[Qr("0xd")].isInContent&&(n[Qr("0x39")](t[Qr("0xd")]),e=!0)}}}return e})),t[Qr("0xe")].has(Qr("0x1f"))&&n[Qr("0x35")](Qr("0x2b"),((e,s)=>{const r=o[Qr("0x10")](t[Qr("0x7a")][Qr("0x58")][Qr("0x2d")]);r[Qr("0x56")](Qr("0x2e"))!=s[Qr("0x2e")]&&t[Qr("0x7a")][Qr("0x1d")]((()=>{n[Qr("0x52")](r,{commandName:Qr("0x2b"),commandParams:[s]})}))})),t[Qr("0xe")][Qr("0x4e")](Qr("0x14"))&&n.enableCommand(Qr("0x71"),((e,s)=>{const r=o.getClosestSelectedImageElement(t[Qr("0x7a")].document[Qr("0x2d")]);(r[Qr("0x18")](Qr("0x76"))?r[Qr("0x56")](Qr("0x76")):"")!=s[Qr("0x9")]&&t[Qr("0x7a")][Qr("0x1d")]((()=>{n.markBlockFormat(r,{commandName:Qr("0x71"),commandParams:[s]})}))})),n._descriptionFactory[Qr("0x29")]((t=>{if(x[Qr("0x6e")]((({type:e,subType:n})=>t[Qr("0x72")]==e&&t[Qr("0xc")]==n)))return t.previous?{}:void 0})),n[Qr("0x49")][Qr("0x29")]((t=>{if("insertion"==t.type||Qr("0x50")==t.type){const e=t[Qr("0xf")]();if(e&&e.is(Qr("0x67"),"caption"))return{type:Qr("0x75")==t[Qr("0x72")]?"addObject":Qr("0x23"),name:e.name,quantity:1}}})),n._descriptionFactory[Qr("0x29")]((t=>"formatBlock"==t[Qr("0x72")]&&Qr("0xb")==t[Qr("0xc")]?{type:Qr("0x68"),content:"Inline image to block image"}:"formatBlock"==t[Qr("0x72")]&&Qr("0x6c")==t[Qr("0xc")]?{type:Qr("0x68"),content:Qr("0x4c")}:void 0)),n._descriptionFactory.registerDescriptionCallback((t=>{const{data:e}=t;if(e){if(Qr("0x17")==e[Qr("0x2f")]){const t=e[Qr("0x57")][0][Qr("0x1b")];return n="side"===t?us(r,Qr("0x27")):s[t]||t,{type:Qr("0x68"),content:us(r,Qr("0x60"),n)}}if(Qr("0x71")==e[Qr("0x2f")]){const t=e.commandParams[0].newValue;return t?{type:Qr("0x68"),content:us(r,Qr("0x22"),'"'+t+'"')}:{type:Qr("0x68"),content:us(r,Qr("0x55"))}}if("resizeImage"==e[Qr("0x2f")]){const t=e[Qr("0x57")][0][Qr("0x2e")];return t?{type:Qr("0x68"),content:us(r,Qr("0x45"),t)}:{type:Qr("0x68"),content:us(r,"*Reset image width*")}}}var n}))}}const Zr=["get","bind","editor","_trackChangesValueDuringImport","value","afterInit","plugins","dataInsert","listenTo","Users","importWord","_setSuggestionData","commands","forEach","high","trackChanges","_handleImportedData","collaboration_features","_trackChangesExecuted","execute","enableCommand","TrackChangesEditing"];var ti,ei;ti=Zr,ei=341,function(t){for(;--t;)ti.push(ti.shift())}(++ei);const ni=function(t,e){return Zr[t-=0]};class oi extends t.Plugin{constructor(t){super(t),this[ni("0xe")]=!1,this._trackChangesExecuted=!1}[ni("0x10")](){const t=this[ni("0xd")],e=t[ni("0x1")][ni("0xb")]("importWord"),n=t[ni("0x1")][ni("0xb")](ni("0x4"));e&&(e.on(ni("0x8"),((t,[,e])=>{this[ni("0xe")]=n[ni("0xf")],e[ni("0x6")].track_changes=!this[ni("0xe")]}),{priority:ni("0x3")}),this[ni("0x13")](e,ni("0x12"),this[ni("0x5")][ni("0xc")](this)),this.listenTo(e,ni("0x12"),(()=>{this[ni("0x7")]&&(n[ni("0x8")](),this._trackChangesExecuted=!1)}),{priority:"lowest"}),t[ni("0x11")][ni("0xb")](ni("0xa"))[ni("0x9")](ni("0x15")))}[ni("0x5")](t,e){const{suggestions:n}=e,o=this.editor[ni("0x1")].get(ni("0x4")),s=o.value;this[ni("0xe")]!==s&&(o.execute(),this._trackChangesExecuted=!0),n&&n[ni("0x2")]((({id:t,type:e,author:n,created_at:o})=>{const s={id:t,type:e,authorId:this.editor.plugins[ni("0xb")](ni("0x14")).me.id,createdAt:new Date,data:{},hasComments:!1,attributes:{"@external":{authorName:n,createdAt:o?new Date(o):new Date}}};this[ni("0xd")][ni("0x11")][ni("0xb")](fa)[ni("0x0")](s)}))}}const si=["from","selection","getItemLabel","registerDescriptionCallback","filter","IndentBlock","*Outdent:* %0","commandName","schema","indent","TrackChangesEditing","enableCommand","*Indent:* %0","document","indentBlock","get","plugins","checkAttribute","has","markBlockFormat","name","getSelectedBlocks","model","editor","outdentBlock"];var ri,ii;ri=si,ii=349,function(t){for(;--t;)ri.push(ri.shift())}(++ii);const xi=function(t,e){return si[t-=0]};class ai extends t.Plugin{afterInit(){const t=this[xi("0x18")],e=t[xi("0x11")][xi("0x10")](xi("0xb"));t[xi("0x11")][xi("0x13")]("IndentEditing")&&(e.enableCommand(xi("0xa")),e[xi("0xc")]("outdent"));const n=t.locale;if(t[xi("0x11")][xi("0x13")](xi("0x6"))){for(const n of[xi("0xf"),"outdentBlock"])e[xi("0xc")](n,(()=>{const o=Array[xi("0x1")](this[xi("0x18")][xi("0x17")][xi("0xe")][xi("0x2")][xi("0x16")]())[xi("0x5")]((t=>this[xi("0x18")][xi("0x17")][xi("0x9")][xi("0x12")](t,"blockIndent")));t[xi("0x17")].change((()=>{for(const t of o)e[xi("0x14")](t,{commandName:n,commandParams:[{value:""}],formatGroupId:xi("0xf")})}))}));e._descriptionFactory[xi("0x4")]((t=>{const{data:o}=t;if(!o)return;if(xi("0xf")!=o[xi("0x8")]&&xi("0x0")!=o.commandName)return;const s=t.getItems()[0],r=e._descriptionFactory[xi("0x3")](s[xi("0x15")]);return xi("0xf")==o[xi("0x8")]?{type:"format",content:us(n,xi("0xd"),r)}:"outdentBlock"==o[xi("0x8")]?{type:"format",content:us(n,xi("0x7"),r)}:void 0}))}}}var ci,li,ui=["get","enableCommand","plugins","requires","init","TrackChangesEditing","editor"];ci=ui,li=199,function(t){for(;--t;)ci.push(ci.shift())}(++li);var di=function(t,e){return ui[t-=0]};class gi extends t.Plugin{static get[di("0x0")](){return[cr.Input]}[di("0x1")](){this[di("0x3")][di("0x6")][di("0x4")](di("0x2"))[di("0x5")]("input")}}const fi=["_descriptionFactory","getFirstRange","commandParams","commandName","has","markInlineFormat","getRanges","enableCommand","hasAttribute","linkHref","getFirstPosition","TrackChangesEditing","getAttribute","unlink","get","link","selection","model","format","*Set link:* %0","locale","isCollapsed","LinkEditing","change","from"];var mi,hi;mi=fi,hi=172,function(t){for(;--t;)mi.push(mi.shift())}(++hi);const pi=function(t,e){return fi[t-=0]};class bi extends t.Plugin{afterInit(){const t=this.editor;if(!t.plugins[pi("0x7")](pi("0x0")))return;const e=t.plugins[pi("0x11")](pi("0xe"));e.enableCommand("link",((n,o)=>{const s=t[pi("0x14")].document[pi("0x13")];let r=[];if(s.isCollapsed){if(!s[pi("0xb")]("linkHref"))return void n(o);{const e=(0,cr.findAttributeRange)(s[pi("0xd")](),pi("0xc"),s[pi("0xf")](pi("0xc")),t[pi("0x14")]);r=[e]}}else r=Array[pi("0x2")](s[pi("0x9")]());t[pi("0x14")][pi("0x1")]((()=>{for(const t of r)e[pi("0x8")](t,{commandName:"link",commandParams:[o]})}))})),e[pi("0xa")](pi("0x10"),(()=>{const n=this.editor[pi("0x14")],o=n.document[pi("0x13")];n[pi("0x1")]((()=>{let n=[];n=o[pi("0x18")]?[(0,cr.findAttributeRange)(o[pi("0xd")](),pi("0xc"),o[pi("0xf")](pi("0xc")),t[pi("0x14")])]:As(pi("0xc"),o[pi("0x4")](),t.model);for(const t of n)e[pi("0x8")](t,{commandName:pi("0x10"),commandParams:[]})}))})),e[pi("0x3")].registerDescriptionCallback((e=>{const{data:n}=e,o=t[pi("0x17")];if(n){if(pi("0x12")==n[pi("0x6")]){const t=n[pi("0x5")][0];return{type:"format",content:us(o,pi("0x16"),'"'+t+'"')}}return"unlink"==n[pi("0x6")]?{type:pi("0x15"),content:us(o,"*Remove link*")}:void 0}}))}}const Ei=["afterInit","List","push","findIndex","execute","*Indent:* %0","model","enableCommand","before","locale","listItem","add","*Check item*","checkChild","getAttribute","commands","outdentList","checkTodoList","listIndent","ELEMENT_LIST_ITEM","registerElementLabel","ELEMENT_TODO_LIST","nextSibling","indentList","slice","TodoListEditing","numbered","previousSibling","todoList","from","plugins","*Outdent:* %0","*Change to:* %0","length","numberedList","end","createPositionAt","markBlockFormat","ELEMENT_BULLETED_LIST","schema","document","element","filter","parent","commandName","ELEMENT_NUMBERED_LIST","createRange","isObject","selection","TrackChangesEditing","bulletedList","has","value","name","*Uncheck item*","editor","change","getSelectedBlocks","get","replace","_descriptionFactory","listType","format","todo","bulleted"];var _i,yi;_i=Ei,yi=457,function(t){for(;--t;)_i.push(_i.shift())}(++yi);const Ti=function(t,e){return Ei[t-=0]};class Ci extends t.Plugin{[Ti("0x3f")](){const t=this[Ti("0x35")],e=t[Ti("0x7")];if(!t.plugins[Ti("0x31")]("ListEditing"))return;const n=t[Ti("0x1c")][Ti("0x38")](Ti("0x2f")),o=t[Ti("0x1c")][Ti("0x31")](Ti("0x17"));function s(e){return()=>{const o=t[Ti("0x4")][Ti("0x26")][Ti("0x2e")],s=t[Ti("0xd")][Ti("0x38")](e);if(s.value)return void t[Ti("0x2")]("paragraph",{});const r=e[Ti("0x16")](0,-4),i=function(t,e,n){let o=Array[Ti("0x1b")](t).filter((t=>{return e=t,(o=n)[Ti("0xb")](e[Ti("0x29")],Ti("0x8"))&&!o[Ti("0x2d")](e);var e,o}));o=o.filter((t=>!t.is(Ti("0x27"),"listItem")||t[Ti("0xc")](Ti("0x3b"))!=e));const s=new Set;for(const t of o)t.is("element",Ti("0x8"))?s[Ti("0x9")](ki(t)):s[Ti("0x9")](t);return Array[Ti("0x1b")](s)}(o[Ti("0x37")](),r,t.model[Ti("0x25")]);t[Ti("0x4")].change((()=>{for(const t of i)n[Ti("0x23")](t,{commandName:e,commandParams:[{forceValue:!s[Ti("0x32")]}],formatGroupId:"blockName"},vi(t))}))}}function r(e){return()=>{const o=function(t){const e=(t=Array[Ti("0x1b")](t))[Ti("0x1")]((t=>"listItem"!=t[Ti("0x33")]));return e>-1&&(t=t[Ti("0x16")](0,e)),t}(t[Ti("0x4")].document.selection[Ti("0x37")]()),s=t[Ti("0x4")][Ti("0x2c")](t[Ti("0x4")][Ti("0x22")](o[0],Ti("0x6")),t[Ti("0x4")][Ti("0x22")](o[o[Ti("0x1f")]-1],Ti("0x21")));t[Ti("0x4")][Ti("0x36")]((()=>{n[Ti("0x23")](s,{commandName:e,commandParams:[],formatGroupId:Ti("0x10")},function(t){const e=new Set;for(const n of t){let t=n[Ti("0x14")];for(;t&&t[Ti("0xc")]("listIndent")>n.getAttribute(Ti("0x10"));)e[Ti("0x9")](t),t=t[Ti("0x14")]}return Array[Ti("0x1b")](e)}(o))}))}}n[Ti("0x5")]("numberedList",s(Ti("0x20"))),n[Ti("0x5")](Ti("0x30"),s(Ti("0x30"))),o&&n[Ti("0x5")](Ti("0x1a"),s(Ti("0x1a"))),n[Ti("0x5")]("indentList",r(Ti("0x15"))),n.enableCommand(Ti("0xe"),r("outdentList")),o&&n[Ti("0x5")](Ti("0xf"),(()=>{const e=t[Ti("0xd")].get(Ti("0xf")),o=Array[Ti("0x1b")](e._selectedElements);o[Ti("0x28")]((t=>t[Ti("0xc")]("todoListChecked")!=e.value)),t[Ti("0x4")].change((()=>{for(const t of o)n[Ti("0x23")](t,{commandName:"checkTodoList",commandParams:[{forceValue:!e[Ti("0x32")]}]})}))})),n[Ti("0x3a")][Ti("0x12")](Ti("0x8"),(t=>us(e,Ti("0x11"),t))),n[Ti("0x3a")].registerDescriptionCallback((t=>{const{data:n}=t;if(n){if("numberedList"==n[Ti("0x2a")]||Ti("0x30")==n[Ti("0x2a")]||Ti("0x1a")==n[Ti("0x2a")])switch(n[Ti("0x2a")][Ti("0x39")](Ti("0x40"),"")){case Ti("0x3e"):return o(us(e,Ti("0x24")));case Ti("0x18"):return o(us(e,Ti("0x2b")));case Ti("0x3d"):return o(us(e,Ti("0x13")))}if(Ti("0x15")==n.commandName)return{type:"format",content:us(e,Ti("0x3"),us(e,Ti("0x11")))};if("outdentList"==n[Ti("0x2a")])return{type:Ti("0x3c"),content:us(e,Ti("0x1d"),us(e,"ELEMENT_LIST_ITEM"))};if(Ti("0xf")==n[Ti("0x2a")])return n.commandParams[0].forceValue?{type:"format",content:us(e,Ti("0xa"))}:{type:"format",content:us(e,Ti("0x34"))}}function o(t){return{type:"format",content:us(e,Ti("0x1e"),t)}}}))}}function ki(t){const e=t[Ti("0xc")](Ti("0x10"));if(0==e)return t;let n=t;for(;t[Ti("0x19")]&&t[Ti("0x19")].is(Ti("0x27"),Ti("0x8"));){const o=t.previousSibling[Ti("0xc")](Ti("0x10"));if(o==e)n=t[Ti("0x19")];else if(o<e)break;t=t[Ti("0x19")]}return n}function vi(t){const e=[];if(t.is("element","listItem")&&t[Ti("0xc")](Ti("0x10"))>0){let n=t[Ti("0x14")];for(;n&&Ti("0x8")==n[Ti("0x33")]&&n.getAttribute(Ti("0x10"))==t[Ti("0xc")](Ti("0x10"));)e[Ti("0x0")](n),n=n[Ti("0x14")]}return e}const Ai=["showSuggestionHighlights","high","locale","ELEMENT_MEDIA","enableCommand","stop","createEmptyElement","get","downcastDispatcher","div","_descriptionFactory","editor","elementToElement","media","data","MediaEmbedEditing","attribute:url:media","options","has","TrackChangesEditing","plugins","conversion","mediaEmbed"];var Ri,Si;Ri=Ai,Si=155,function(t){for(;--t;)Ri.push(Ri.shift())}(++Si);const Ii=function(t,e){return Ai[t-=0]};class wi extends t.Plugin{afterInit(){const t=this[Ii("0x11")];if(!t[Ii("0x3")][Ii("0x1")](Ii("0x15")))return;const e=t[Ii("0x3")][Ii("0xd")](Ii("0x2")),n=t[Ii("0x8")];e[Ii("0xa")](Ii("0x5")),e[Ii("0x10")].registerElementLabel(Ii("0x13"),(t=>us(n,Ii("0x9"),t))),t[Ii("0x4")].for("dataDowncast")[Ii("0x12")]({model:Ii("0x13"),view:(t,{writer:e,options:n})=>{if(n[Ii("0x6")])return e[Ii("0xc")](Ii("0xf"))},converterPriority:Ii("0x7")}),t[Ii("0x14")][Ii("0xe")].on(Ii("0x16"),((t,e,n)=>{n[Ii("0x0")][Ii("0x6")]&&t[Ii("0xb")]()}),{priority:"high"})}}const Mi=["plugins","TrackChangesEditing","get","editor","enableCommand","mention","afterInit"];var Ni,Li;Ni=Mi,Li=265,function(t){for(;--t;)Ni.push(Ni.shift())}(++Li);const Oi=function(t,e){return Mi[t-=0]};class Fi extends t.Plugin{[Oi("0x0")](){const t=this[Oi("0x4")];t[Oi("0x1")].has("MentionEditing")&&t.plugins[Oi("0x3")](Oi("0x2"))[Oi("0x5")](Oi("0x6"))}}const Di=["locale","editor","PageBreakEditing","ELEMENT_PAGE_BREAK","registerElementLabel","get","afterInit","has","pageBreak","TrackChangesEditing","plugins"];var Pi,Bi;Pi=Di,Bi=241,function(t){for(;--t;)Pi.push(Pi.shift())}(++Bi);const ji=function(t,e){return Di[t-=0]};class Ui extends t.Plugin{[ji("0x7")](){const t=this[ji("0x2")];if(!t[ji("0x0")][ji("0x8")](ji("0x3")))return;t[ji("0x0")][ji("0x6")](ji("0xa")).enableCommand("pageBreak");const e=t.plugins[ji("0x6")](ji("0xa")),n=t[ji("0x1")];e._descriptionFactory[ji("0x5")](ji("0x9"),(t=>us(n,ji("0x4"),t)))}}const Hi=["end","checkChild","*Change to:* %0","commandName","consume","locale","span","filter","start","getItemLabel","model","ELEMENT_PARAGRAPH","mapper","parent","get","document","ck-suggestion-marker-split","consumable","insert","highest","markBlockFormat","insertion","afterInit","enableCommand","getSelectedBlocks","type","includes","selection","*Insert:* %0","markerRange","nodeAfter","_descriptionFactory","createUIElement","ck-suggestion-marker--active","schema","isBlock","getFirstRange","has","isTouching","activeMarkers","addMarker:suggestion:insertion","bindElementToMarker","editor","name","markerName","showSuggestionHighlights","$text","editing","Paragraph","writer","blockName","insertParagraph","paragraph","isLimit","plugins","registerDescriptionCallback","from","change","TrackChangesEditing"];var Gi,Vi;Gi=Hi,Vi=230,function(t){for(;--t;)Gi.push(Gi.shift())}(++Vi);const zi=function(t,e){return Hi[t-=0]};class Wi extends t.Plugin{[zi("0x1c")](){const t=this[zi("0x30")];if(!t[zi("0x1")][zi("0x2b")](zi("0x36")))return;const e=t[zi("0xb")],n=t[zi("0x1")].get(zi("0x5"));n[zi("0x25")].registerElementLabel("paragraph",(t=>us(e,zi("0x11"),t))),n[zi("0x1d")](zi("0x3a"),((e,o={})=>{const s=t[zi("0x10")][zi("0x15")],r=o[zi("0x21")]||s.selection,i=Array[zi("0x3")](r[zi("0x1e")]())[zi("0xd")]((t=>{return e=t,(n=this[zi("0x30")][zi("0x10")][zi("0x28")])[zi("0x7")](e[zi("0x13")],zi("0x3a"))&&!n.isObject(e)&&"paragraph"!=e[zi("0x31")];var e,n}));t[zi("0x10")][zi("0x4")]((()=>{for(const t of i)n[zi("0x1a")](t,{commandName:zi("0x3a"),commandParams:[],formatGroupId:zi("0x38")},Rs(t))}))})),n[zi("0x25")][zi("0x2")]((t=>{const{data:n}=t;if(n&&zi("0x3a")==n[zi("0x9")])return{type:"format",content:us(e,zi("0x8"),us(e,zi("0x11")))}})),n[zi("0x1d")](zi("0x39")),t[zi("0x35")].downcastDispatcher.on(zi("0x2e"),Ki(t),{priority:zi("0x19")}),t.data.downcastDispatcher.on(zi("0x2e"),((e,n,o)=>{o.options[zi("0x33")]&&Ki(t,{showActiveMarker:!1})(e,n,o)}),{priority:"highest"});const o=n._descriptionFactory;o.registerDescriptionCallback((n=>{if(zi("0x1b")!==n[zi("0x1f")])return;const{start:s,end:r}=n[zi("0x2a")]();if(!s[zi("0x2c")](r)||!s[zi("0x24")])return;const i=t[zi("0x10")][zi("0x28")],x=s[zi("0x24")];return i[zi("0x29")](x)&&!i[zi("0x0")](x)&&i[zi("0x7")](x,zi("0x34"))?{type:zi("0x1b"),content:us(e,zi("0x22"),o[zi("0xf")](x.name,1))}:void 0}))}}function Ki(t,{showActiveMarker:e=!0}={}){return(n,o,s)=>{const r=t[zi("0x1")][zi("0x14")]("TrackChangesEditing"),i=o.markerRange[zi("0xe")],x=o[zi("0x23")][zi("0x6")],a=t[zi("0x10")].schema;if(!i.isTouching(x)||!i[zi("0x24")])return;const c=i[zi("0x24")];if(a[zi("0x29")](c)&&!a[zi("0x0")](c)&&a[zi("0x7")](c,zi("0x34"))){if(!s[zi("0x17")][zi("0xa")](o[zi("0x23")],n.name))return;const t=s.writer[zi("0x26")](zi("0xc"),{class:zi("0x16")}),i=s[zi("0x12")].toViewPosition(x);e&&r[zi("0x2d")][zi("0x20")](o[zi("0x32")])&&s[zi("0x37")].addClass(zi("0x27"),t),s[zi("0x37")][zi("0x18")](i,t),s[zi("0x12")][zi("0x2f")](t,o[zi("0x32")])}}}const qi=["selection","RemoveFormatEditing","get","format","*Remove all formatting*","removeFormat","getAttributes","registerDescriptionCallback","model","isFormatting","getRanges","isCollapsed","getItems","plugins","enableCommand","from","_descriptionFactory","schema","locale","change","has"];var $i,Xi;$i=qi,Xi=488,function(t){for(;--t;)$i.push($i.shift())}(++Xi);const Ji=function(t,e){return qi[t-=0]};class Qi extends t.Plugin{afterInit(){const t=this.editor;if(!t[Ji("0x8")][Ji("0xf")](Ji("0x11")))return;const e=t[Ji("0x8")][Ji("0x12")]("TrackChangesEditing");e[Ji("0x9")](Ji("0x0"),(n=>{const o=t[Ji("0x3")].document[Ji("0x10")];o[Ji("0x6")]?n():t[Ji("0x3")][Ji("0xe")]((()=>{const n=Array[Ji("0xa")](o[Ji("0x5")]());for(const o of n)for(const n of o[Ji("0x7")]())Yi(n,t.model[Ji("0xc")])&&e.markInlineFormat(t[Ji("0x3")].createRangeOn(n),{commandName:"removeFormat",commandParams:[]})}))})),e[Ji("0xb")][Ji("0x2")]((e=>{const{data:n}=e;if(n&&"removeFormat"==n.commandName)return{type:Ji("0x13"),content:us(t[Ji("0xd")],Ji("0x14"))}}))}}function Yi(t,e){for(const[n]of t[Ji("0x1")]()){const t=e.getAttributeProperties(n);if(t&&t[Ji("0x4")])return!0}return!1}const Zi=["TrackChangesEditing","discardSelectedSuggestions","discardAllSuggestions","goToNextRestrictedEditingException","goToPreviousRestrictedEditingException","has","acceptSelectedSuggestions","acceptAllSuggestions","afterInit","acceptSuggestion","discardSuggestion","plugins","RestrictedEditingModeEditing","enableCommand"];var tx,ex;tx=Zi,ex=409,function(t){for(;--t;)tx.push(tx.shift())}(++ex);const nx=function(t,e){return Zi[t-=0]};class ox extends t.Plugin{[nx("0x5")](){const t=this.editor;if(!t[nx("0x8")][nx("0x2")](nx("0x9")))return;const e=t.plugins.get(nx("0xb"));e[nx("0xa")](nx("0x1")),e[nx("0xa")](nx("0x0"));const n=t[nx("0x8")].get("RestrictedEditingModeEditing");n[nx("0xa")]("trackChanges"),n[nx("0xa")](nx("0x6")),n.enableCommand(nx("0x7")),n[nx("0xa")](nx("0x4")),n[nx("0xa")](nx("0xd")),n[nx("0xa")](nx("0x3")),n[nx("0xa")](nx("0xc"))}}const sx=["createUIElement","addMarker:suggestion:deletion","activeMarkers","createPositionBefore","editor","locale","toViewPosition","downcastDispatcher","high","ck-suggestion-marker-","showSuggestionHighlights","merge","TrackChangesEditing","options","init","name","model","registerElementLabel","softBreak","get","mapper","writer","markerName","bindElementToMarker","insert","enableCommand","addMarker:suggestion","editing","addClass","span","_descriptionFactory","markerRange","element","includes","deletion","requires","getItems","plugins","addMarker:suggestion:insertion","split"];var rx,ix;rx=sx,ix=241,function(t){for(;--t;)rx.push(rx.shift())}(++ix);const xx=function(t,e){return sx[t-=0]};class ax extends t.Plugin{static get[xx("0x22")](){return[mr.ShiftEnter]}[xx("0xd")](){const t=this[xx("0x3")],e=t[xx("0x24")][xx("0x12")](xx("0xb"));e[xx("0x18")]("shiftEnter"),t.editing[xx("0x6")].on(xx("0x25"),cx(t),{priority:"high"}),t[xx("0x1a")][xx("0x6")].on(xx("0x0"),cx(t),{priority:xx("0x7")}),t.data[xx("0x6")].on(xx("0x19"),((e,n,o)=>{o[xx("0xc")][xx("0x9")]&&cx(t,{showActiveMarker:!1})(e,n,o)})),e[xx("0x1d")][xx("0x10")]("softBreak",(e=>us(t[xx("0x4")],"ELEMENT_LINE_BREAK",e)))}}function cx(t,{showActiveMarker:e=!0}={}){return(n,o,s)=>{const r=t[xx("0x24")].get(xx("0xb"));if(!s.consumable.test(o.markerRange,n[xx("0xe")]))return;const i=t[xx("0xf")];for(const t of o[xx("0x1e")][xx("0x23")]()){if(!t.is(xx("0x1f"),xx("0x11")))continue;const n=xx("0x21")==o[xx("0x15")][xx("0x26")](":")[1]?xx("0xa"):"split",x=s[xx("0x14")][xx("0x27")](xx("0x1c"),{class:xx("0x8")+n}),a=s[xx("0x13")][xx("0x5")](i[xx("0x2")](t));e&&r[xx("0x1")][xx("0x20")](o[xx("0x15")])&&s[xx("0x14")][xx("0x1b")]("ck-suggestion-marker--active",x),s[xx("0x14")][xx("0x17")](a,x),s[xx("0x13")][xx("0x16")](x,o[xx("0x15")])}}}const lx=["_descriptionFactory","restrictedEditingException","has","forceValue","plugins","value","FORMAT_RESTRICTED_DISABLED","TrackChangesEditing","commandName","selection","StandardEditingModeEditing","markInlineFormat","getRanges","from","get","enableCommand","format","registerDescriptionCallback","isCollapsed","commands","change"];var ux,dx;ux=lx,dx=391,function(t){for(;--t;)ux.push(ux.shift())}(++dx);const gx=function(t,e){return lx[t-=0]};class fx extends t.Plugin{afterInit(){const t=this.editor,e=t.model,n=t.locale;if(!t[gx("0xc")][gx("0xa")](gx("0x12")))return;const o=t.plugins.get(gx("0xf")),s=gx("0x9"),r=t[gx("0x6")][gx("0x1")](s);o[gx("0x2")](s,((t,n={})=>{const i=e.document[gx("0x11")];if(i[gx("0x5")])return void t(n);const x=void 0!==n[gx("0xb")]?n[gx("0xb")]:!r[gx("0xd")];e[gx("0x7")]((()=>{const t=Array[gx("0x0")](i[gx("0x14")]());for(const n of t){const t=x?[n]:As(s,n,e);for(const e of t)o[gx("0x13")](e,{commandName:s,commandParams:[{forceValue:x}]})}}))})),o[gx("0x8")][gx("0x4")]((t=>{const{data:e}=t;if(e&&e[gx("0x10")]==s)return e.commandParams[0][gx("0xb")]?{type:gx("0x3"),content:us(n,"FORMAT_RESTRICTED_ENABLED")}:{type:gx("0x3"),content:us(n,gx("0xe"))}}))}}const mx=["plugins","name","enableCommand","editor","change","element","createRangeOn","markBlockFormat","model","toLowerCase","config","includes","has","value","selection","styleName","inline","enabledStyles","block","add","*Format:* %0","forceValue","locale","getStyleDefinition","style.definitions","modelElements","afterInit","every","*Remove format:* %0","style","getItems","push","commandName","_descriptionFactory","from","isBlock","find","getRangesWithClasses","get","Style","classes","registerDescriptionCallback","getDefinitionsForView","getRanges","format","commandParams","style:"];var hx,px;hx=mx,px=404,function(t){for(;--t;)hx.push(hx.shift())}(++px);const bx=function(t,e){return mx[t-=0]};class Ex extends t.Plugin{[bx("0x2d")](){const t=this[bx("0x16")];if(!t[bx("0x13")][bx("0x1f")](bx("0xb")))return;const e=t.commands[bx("0xa")](bx("0x1")),n=t.plugins.get("TrackChangesEditing"),o=t[bx("0x29")],s=t[bx("0x13")][bx("0xa")]("DataSchema"),r=function(t,e=[]){const n={block:[],inline:[]};for(const o of e){const e=[],s=[];for(const n of t.getDefinitionsForView(o.element))n.isBlock?e.push(n.model):s.push(n.model);e.length?n.block.push({...o,modelElements:e,isBlock:!0}):n.inline.push({...o,ghsAttributes:s})}return n}(s,t[bx("0x1d")][bx("0xa")](bx("0x2b")));n[bx("0x15")](bx("0x1"),((o,{styleName:i})=>{const x=t.model.document[bx("0x21")],a=this.getStyleDefinition(i,r);if(!a)return;if(!e[bx("0x24")].includes(i))return;if(x.isCollapsed&&!a.isBlock)return void o({styleName:i});const c=!e[bx("0x20")][bx("0x1e")](a[bx("0x14")]);if(a[bx("0x7")]){const e=function(t,e){const n=new Set;for(const o of t){const t=o.getAncestors({includeSelf:!0,parentFirst:!0});for(const o of t)if(e[bx("0x1e")](o.name)){n[bx("0x26")](o);break}}return n}(x.getSelectedBlocks(),a[bx("0x2c")]);t[bx("0x1b")][bx("0x17")]((()=>{for(const t of e)n[bx("0x1a")](t,{commandName:bx("0x1"),commandParams:[{styleName:i,forceValue:c}],formatGroupId:bx("0x12")+i})}))}else{let e=Array[bx("0x6")](x[bx("0xf")]());if(!c){const n=Array[bx("0x6")](s[bx("0xe")](a[bx("0x18")],!1))[0][bx("0x1b")],o=[];for(const s of e){const e=this[bx("0x9")](t[bx("0x1b")],s,a[bx("0xc")],n);o[bx("0x3")](...e)}e=o}t.model[bx("0x17")]((()=>{for(const t of e)n.markInlineFormat(t,{commandName:bx("0x1"),commandParams:[{styleName:i,forceValue:c}]})}))}})),n[bx("0x5")][bx("0xd")]((t=>{const{data:e}=t;if(e&&bx("0x1")===e[bx("0x4")])return e[bx("0x11")][0][bx("0x28")]?{type:bx("0x10"),content:us(o,bx("0x27"),e[bx("0x11")][0][bx("0x22")][bx("0x1c")]())}:{type:bx("0x10"),content:us(o,bx("0x0"),e[bx("0x11")][0][bx("0x22")][bx("0x1c")]())}}))}[bx("0x2a")](t,e){let n=e[bx("0x25")].find((e=>e[bx("0x14")]===t));return n||(n=e[bx("0x23")][bx("0x8")]((e=>e.name===t))),n}getRangesWithClasses(t,e,n,o){const s=[];for(const r of e[bx("0x2")]()){const e=r.getAttribute(o);e&&n[bx("0x2e")]((t=>e.classes.includes(t)))&&s[bx("0x3")](t[bx("0x19")](r))}return s}}const _x=["commands","highest","nodeAfter","afterInit","table","position","end","selectTableColumn","from","data","name","root","*Remove:* %0","options","hasAttribute","getRowIndexes","*Insert:* %0","insertion","_descriptionFactory","findAncestor","some","getCellLocation","tableRow","differ","cell","enableCommand","_suggestionFactory","rowspan","toViewElement","type","getSelectionAffectedTableCells","detach","downcastDispatcher","batch","editor","left","MIN_SAFE_INTEGER","colspan","getItems","$graveyard","showSuggestionHighlights","nodeBefore","tablePaste","tableCell","plugins","filter","isArray","setSelection","markMultiRangeDeletion","span","accept","has","getRanges","suggestion","insertTableColumnRight","insertTableRowAbove","above","execute","start","min","_tablePostFixingSubtypes","map","toLowerCase","ELEMENT_TABLE_ROW","document","createPositionAt","oldRange","TableEditing","_getCoordsForCells","TrackChangesEditing","max","minRow","change","push","registerElementLabel","insertTable","ELEMENT_TABLE_WITH_TEXT","deletion","length","getChangedMarkers","get","selectTableRow","_acceptFormatSuggestionCallbackFactory","registerDescriptionCallback","removeTableColumn","startsWith","forceValue","substr","tableColumn","registerCustomCallback","refresh","includes","subType","mapper","isIntersectingWithRange","insert","order","insertTableColumnLeft","getColumnIndexes","writer","minColumn","MAX_SAFE_INTEGER","getContainedElement","low","getAttribute","isEqual","addRange","every","createRangeIn","fromRange","last","selection","_setupColumnsRowsFixing","join","first","classes","locale","TableUtils","_getSuggestionCoords","add","discard","model","removeTableRow","enqueueChange","rootName","createRangeOn","getFirstRange","addMarker:suggestion","maxColumn","_tableSuggestions","ELEMENT_TABLE","ELEMENT_TABLE_COLUMN_WITH_TEXT","ELEMENT_TABLE_ROW_WITH_TEXT","isInContent","textProxy","removeClass"];var yx,Tx;yx=_x,Tx=419,function(t){for(;--t;)yx.push(yx.shift())}(++Tx);const Cx=function(t,e){return _x[t-=0]};class kx extends t.Plugin{constructor(t){super(t),this[Cx("0x31")]=[Cx("0xb"),Cx("0x4d")]}[Cx("0x80")](){const t=this[Cx("0x17")],e=t[Cx("0x6e")].document[Cx("0x64")];if(!t.plugins[Cx("0x28")](Cx("0x38")))return;const n=t[Cx("0x69")],o=t[Cx("0x21")][Cx("0x45")](Cx("0x3a")),s=t[Cx("0x21")][Cx("0x45")]("TableUtils");o._descriptionFactory[Cx("0x3f")]("table",(t=>us(n,Cx("0x77"),t))),this[Cx("0x65")](),o[Cx("0xe")](Cx("0x40")),o[Cx("0xe")](Cx("0x46")),o[Cx("0xe")](Cx("0x84"));for(const n of[Cx("0x2c"),"insertTableRowBelow"]){const r=t[Cx("0x7d")].get(n);o[Cx("0xe")](n,(n=>{t[Cx("0x6e")].change((t=>{n();const i=Cx("0x2d")===r[Cx("0x55")],x=s.getSelectionAffectedTableCells(e),a=s.getRowIndexes(x),c=i?a[Cx("0x67")]-1:a[Cx("0x63")]+1,l=x[0].findAncestor(Cx("0x81")),u=s.createTableWalker(l,{startRow:c,endRow:c}),d=Array[Cx("0x85")](u).map((e=>t[Cx("0x72")](e.cell)));o.markMultiRangeInsertion(d,Cx("0xb"))}))}))}for(const n of[Cx("0x56"),Cx("0x2b")]){const r=t[Cx("0x7d")][Cx("0x45")](n);o[Cx("0xe")](n,(n=>{t.model[Cx("0x3d")]((t=>{n();const i=Cx("0x18")===r[Cx("0x55")],x=s[Cx("0x13")](e),a=s[Cx("0x57")](x),c=i?a[Cx("0x67")]-1:a[Cx("0x63")]+1,l=x[0][Cx("0x8")](Cx("0x81")),u=s.createTableWalker(l,{startRow:0,column:c,includeAllSlots:!1}),d=Array[Cx("0x85")](u)[Cx("0x32")]((e=>t[Cx("0x72")](e[Cx("0xd")])));o.markMultiRangeInsertion(d,Cx("0x4d"))}))}))}for(const n of[Cx("0x6f"),Cx("0x49")]){const r=n[Cx("0x4c")](11),i=r[Cx("0x33")](),x=i[Cx("0x4c")](0,3)+Cx("0x26"),a=Cx("0x81")+r,c=Cx("0x30")+r,l=Cx("0x3b")+r;o[Cx("0xe")](n,(()=>{t[Cx("0x6e")][Cx("0x3d")]((t=>{const r=s[Cx("0x13")](e),u=r[0].findAncestor(Cx("0x81"));let d;if(Cx("0x6f")==n){const t=s[Cx("0x4")](r);d={startRow:t[Cx("0x67")],endRow:t.last,includeAllSlots:!0}}else{const t=s[Cx("0x57")](r);d={startColumn:t[Cx("0x67")],endColumn:t[Cx("0x63")],includeAllSlots:!0}}const g=s.createTableWalker(u,d),f=Array[Cx("0x85")](g).map((({cell:t})=>t)),m=vx(f[Cx("0x22")]((t=>t.hasAttribute(x)))),h=vx(f[Cx("0x22")]((t=>!t[Cx("0x3")](x))))[Cx("0x32")]((e=>t[Cx("0x72")](e))),p=o[Cx("0x25")](h,a);if(p&&(Cx("0xb")==p[Cx("0x51")]||"tableColumn"==p[Cx("0x51")])){const e=this._getSuggestionCoords(p);for(const n of m){const o=t[Cx("0x72")](n),r=s[Cx("0xa")](n),a=n[Cx("0x5d")](x)-1,u=e[c],d=e[l];u<=r[i]&&r[i]+a<=d&&p[Cx("0x5f")](o)}}}))}))}function r(n){const o=Array[Cx("0x85")](e[Cx("0x29")]())[Cx("0x32")]((t=>i.LiveRange[Cx("0x62")](t)));t[Cx("0x6e")].change((e=>{const s=e[Cx("0x16")];n=n.filter((t=>Cx("0x1c")!=t[Cx("0x0")][Cx("0x71")])),e[Cx("0x24")](n),t[Cx("0x7d")][Cx("0x45")](Cx("0x6f"))[Cx("0x4f")](),t[Cx("0x2e")]("removeTableRow",{forceDefaultExecution:!0}),t[Cx("0x6e")].enqueueChange((()=>{t.model[Cx("0x70")](s,(t=>{const e=o[Cx("0x22")]((t=>Cx("0x1c")!=t[Cx("0x0")].rootName));e.length>0&&t.setSelection(e);for(const t of o)t[Cx("0x14")]()}))}))}))}function a(n){t[Cx("0x6e")].change((o=>{const s=Array[Cx("0x85")](e[Cx("0x29")]())[Cx("0x32")]((t=>i.LiveRange.fromRange(t))),r=[];for(const t of n)for(const e of t[Cx("0x1b")]({shallow:!0}))r[Cx("0x3e")](e);for(const e of r)Cx("0x1c")!=e[Cx("0x0")].rootName&&(o[Cx("0x24")](o[Cx("0x36")](e,0)),t.commands[Cx("0x45")](Cx("0x49"))[Cx("0x4f")](),t[Cx("0x2e")](Cx("0x49"),{forceDefaultExecution:!0}));const x=s[Cx("0x22")]((t=>Cx("0x1c")!=t[Cx("0x0")][Cx("0x71")]));x[Cx("0x43")]>0&&o[Cx("0x24")](x);for(const t of s)t[Cx("0x14")]()}))}function c(t,e){return e[Cx("0x60")]((e=>t[Cx("0x9")]((t=>t[Cx("0x83")][Cx("0x5e")](e.start)||e[Cx("0x83")][Cx("0x5e")](t[Cx("0x2f")])))))}function l(t,e){return t.some((t=>e[Cx("0x9")]((e=>t.end.isTouching(e[Cx("0x2f")])))))}t[Cx("0x86")][Cx("0x15")].on(Cx("0x74"),((t,e,n)=>{if(!n[Cx("0x2")][Cx("0x1d")])return;const o=e.item;if(!o)return;const s=n[Cx("0x52")][Cx("0x11")](o);function r(t){return Array[Cx("0x23")](t)?t:[t]}s&&"tableCell"===o[Cx("0x87")]&&(0,x.setHighlightHandling)(s,n[Cx("0x58")],((t,e,n)=>n.addClass(r(e.classes),t)),((t,e,n)=>n[Cx("0x7c")](r(e[Cx("0x68")]),t)))}),{priority:Cx("0x7e")}),o[Cx("0x7")][Cx("0x48")]((t=>{if("insertion"!=t[Cx("0x12")]&&Cx("0x42")!=t.type)return;const e=t[Cx("0x5b")]();if(null!=e&&e.is("element",Cx("0x81"))){if(Cx("0x6")==t[Cx("0x12")]){const e=t.getItems().filter((t=>t.is(Cx("0x7b"))))[Cx("0x32")]((t=>t[Cx("0x86")]));if(e.length)return{type:Cx("0x6"),content:us(n,Cx("0x5"),us(n,Cx("0x41"),'"'+e[Cx("0x66")](" ")+'"'))}}if("deletion"==t.type){const e=t[Cx("0x1b")]().filter((t=>t.is(Cx("0x7b"))))[Cx("0x32")]((t=>t[Cx("0x86")]));if(e[Cx("0x43")])return{type:Cx("0x42"),content:us(n,Cx("0x1"),us(n,Cx("0x41"),'"'+e[Cx("0x66")](" ")+'"'))}}}})),o[Cx("0x7")][Cx("0x48")]((t=>{if(Cx("0xb")==t[Cx("0x51")]){const e=t[Cx("0x1b")]()[Cx("0x22")]((t=>t.is(Cx("0x7b")))).map((t=>t.data)),o=this._getSuggestionCoords(t),s=o.maxRow-o[Cx("0x3c")]+1;if(Cx("0x6")==t[Cx("0x12")])return e[Cx("0x43")]?{type:Cx("0x6"),content:us(n,Cx("0x5"),us(n,Cx("0x79"),[s,'"'+e[Cx("0x66")](" ")+'"']))}:{type:Cx("0x6"),content:us(n,Cx("0x5"),us(n,"ELEMENT_TABLE_ROW",s))};if("deletion"==t.type)return e[Cx("0x43")]?{type:Cx("0x42"),content:us(n,Cx("0x1"),us(n,Cx("0x79"),[s,'"'+e[Cx("0x66")](" ")+'"']))}:{type:"deletion",content:us(n,Cx("0x1"),us(n,Cx("0x34"),s))}}if(Cx("0x4d")==t.subType){const e=t[Cx("0x1b")]()[Cx("0x22")]((t=>t.is("textProxy")))[Cx("0x32")]((t=>t[Cx("0x86")])),o=this[Cx("0x6b")](t),s=o[Cx("0x75")]-o[Cx("0x59")]+1;if(Cx("0x6")==t[Cx("0x12")])return e[Cx("0x43")]?{type:"insertion",content:us(n,Cx("0x5"),us(n,Cx("0x78"),[s,'"'+e[Cx("0x66")](" ")+'"']))}:{type:Cx("0x6"),content:us(n,Cx("0x5"),us(n,"ELEMENT_TABLE_COLUMN",s))};if(Cx("0x42")==t.type)return e[Cx("0x43")]?{type:"deletion",content:us(n,"*Remove:* %0",us(n,"ELEMENT_TABLE_COLUMN_WITH_TEXT",[s,'"'+e[Cx("0x66")](" ")+'"']))}:{type:"deletion",content:us(n,Cx("0x1"),us(n,"ELEMENT_TABLE_COLUMN",s))}}})),o[Cx("0xf")][Cx("0x4e")]("insertion",Cx("0xb"),Cx("0x6d"),r),o[Cx("0xf")][Cx("0x4e")](Cx("0x42"),Cx("0xb"),Cx("0x27"),r),o[Cx("0xf")][Cx("0x4e")]("insertion",Cx("0x4d"),Cx("0x6d"),a),o._suggestionFactory[Cx("0x4e")]("deletion",Cx("0x4d"),"accept",a),o[Cx("0xf")][Cx("0x4e")](Cx("0x6"),Cx("0x4d"),"join",c),o[Cx("0xf")][Cx("0x4e")](Cx("0x42"),Cx("0x4d"),Cx("0x66"),c),o._suggestionFactory[Cx("0x4e")]("insertion",Cx("0xb"),Cx("0x66"),l),o[Cx("0xf")][Cx("0x4e")]("deletion",Cx("0xb"),Cx("0x66"),l)}[Cx("0x47")](){const t=this[Cx("0x17")],e=t[Cx("0x6e")][Cx("0x35")][Cx("0x64")];return(n,o)=>{t[Cx("0x6e")][Cx("0x3d")]((s=>{const{commandName:r,commandParams:x}=o;let a=n[0][Cx("0x83")][Cx("0x1e")];x&&x[0]&&!1===x[0][Cx("0x4b")]&&(a=n[0][Cx("0x2f")][Cx("0x7f")]);const c=s[Cx("0x61")](a);if(Cx("0x1c")==c[Cx("0x0")][Cx("0x71")])return;const l=Array[Cx("0x85")](e[Cx("0x29")]())[Cx("0x32")]((t=>i.LiveRange[Cx("0x62")](t)));s[Cx("0x24")](c),t[Cx("0x7d")][Cx("0x45")](r)[Cx("0x4f")](),x[Cx("0x3e")]({forceDefaultExecution:!0}),t.execute(r,...x);const u=l[Cx("0x22")]((t=>"$graveyard"!=t[Cx("0x0")][Cx("0x71")]));u[Cx("0x43")]>0&&s[Cx("0x24")](u);for(const t of l)t[Cx("0x14")]()}))}}[Cx("0x39")](t){const e=this[Cx("0x17")].plugins[Cx("0x45")](Cx("0x6a"));let n=Number[Cx("0x5a")],o=Number[Cx("0x19")],s=Number[Cx("0x5a")],r=Number.MIN_SAFE_INTEGER;for(const i of t){if(Cx("0x1c")==i[Cx("0x0")][Cx("0x71")])continue;const{row:t,column:x}=e[Cx("0xa")](i),a=i[Cx("0x3")]("rowspan")?i.getAttribute(Cx("0x10"))-1:0,c=i.hasAttribute(Cx("0x1a"))?i[Cx("0x5d")]("colspan")-1:0;n=t<n?t:n,o=t+a>o?t+a:o,s=x<s?x:s,r=x+c>r?x+c:r}return{minRow:n,maxRow:o,minColumn:s,maxColumn:r}}_setupColumnsRowsFixing(){const t=this[Cx("0x17")],e=t[Cx("0x21")][Cx("0x45")](Cx("0x3a")),n=t[Cx("0x21")].get(Cx("0x6a"));this[Cx("0x76")]=new Set,t[Cx("0x6e")].document.on("change:data",(()=>{const n=Array[Cx("0x85")](t[Cx("0x6e")][Cx("0x35")][Cx("0xc")][Cx("0x44")]());for(const{name:t,data:o}of n){const{group:n,id:s,subType:r}=e._splitMarkerName(t);if(Cx("0x2a")!=n)continue;if(null!=o[Cx("0x37")])continue;const i=e.getSuggestion(s);this[Cx("0x31")][Cx("0x50")](r)&&this[Cx("0x76")][Cx("0x6c")](i)}}),{priority:Cx("0x5c")});const o=(t,e)=>{let o=!1;const s=e.createRangeOn(t),r=t.findAncestor(Cx("0x81")),i=n[Cx("0xa")](t);for(const e of this[Cx("0x76")]){const n=e[Cx("0x51")],x=n[Cx("0x4a")](Cx("0x1f")),a=n[Cx("0x4c")](x?10:5),c=a[Cx("0x33")](),l=c[Cx("0x4c")](0,3)+Cx("0x26"),u=Cx("0x30")+a,d=Cx("0x3b")+a;if(!e[Cx("0x7a")])continue;if(r!=e[Cx("0x73")]()[Cx("0x2f")][Cx("0x8")](Cx("0x81")))continue;if(e[Cx("0x53")](s))continue;const g=t.hasAttribute(l)?t.getAttribute(l)-1:0,f=this[Cx("0x6b")](e),m=f[u],h=f[d];m<=i[c]&&i[c]+g<=h&&(e[Cx("0x5f")](s),o=!0)}return o};t.model[Cx("0x35")].registerPostFixer((e=>{let n=!1;for(const s of t[Cx("0x6e")][Cx("0x35")][Cx("0xc")].getChanges())if(Cx("0x54")==s.type)if(Cx("0xb")==s[Cx("0x87")])for(const t of s[Cx("0x82")][Cx("0x7f")].getChildren())n=n||o(t,e);else Cx("0x20")==s[Cx("0x87")]&&(n=n||o(s[Cx("0x82")][Cx("0x7f")],e));return n}))}[Cx("0x6b")](t){return this._getCoordsForCells(t[Cx("0x29")]()[Cx("0x32")]((t=>t[Cx("0x2f")][Cx("0x7f")])))}}function vx(t){return Array.from(new Set(t).values())}const Ax=["forceDefaultExecution","add","size","mergeTableCellLeft","cell","direction","getRanges","type","document","TableEditing","editor","_areMergableCells","afterInit","*Split cell:* horizontally","_isForcedDefaultExecutionBlock","$graveyard","*Merge cells*","stop","return","filter","mergeTableCellUp","findAncestor","_tablePostFixingSubtypes","getSelectionAffectedTableCells","_suggestionFactory","from","mergeTableCellDown","formatBlock","change","containsRange","length","enableCommand","locale","author","plugins","rootName","createTableWalker","highest","TableUtils","_descriptionFactory","mergeTableCellRight","find","getFirstPosition","mergeTableCells","map","commands","root","execute","registerCustomCallback","trackChanges","selection","markBlockFormat","getAncestors","splitTableCellVertically","horizontally","subType","tableCell","createRangeOn","value","element","getCellLocation","refresh","format","commandName","detach","has","requires","fromRange","registerDescriptionCallback","push","low","deletion","markMultiRangeBlockFormat","model","setSelection","accept","_areSelectedCellsMergable","splitTableCellHorizontally","isEnabled","set:isEnabled","get"];var Rx,Sx;Rx=Ax,Sx=483,function(t){for(;--t;)Rx.push(Rx.shift())}(++Sx);const Ix=function(t,e){return Ax[t-=0]};class wx extends t.Plugin{static get[Ix("0x45")](){return[kx]}[Ix("0xf")](){const t=this[Ix("0xd")],e=t[Ix("0x4c")][Ix("0xb")].selection,n=t[Ix("0x23")];if(!t.plugins[Ix("0x44")](Ix("0xc")))return;const o=t[Ix("0x25")][Ix("0x2")]("TrackChangesEditing"),s=t[Ix("0x25")][Ix("0x2")](Ix("0x29")),r=t.plugins[Ix("0x2")](kx);r[Ix("0x19")][Ix("0x48")]("mergeTableCells"),o.enableCommand(Ix("0x2e"),(()=>{const e=s[Ix("0x1a")](t.model[Ix("0xb")].selection);t.model.change((()=>{o[Ix("0x4b")](e,{commandName:Ix("0x2e"),commandParams:[]},[],Ix("0x2e"))}))})),t[Ix("0x30")][Ix("0x2")](Ix("0x2e")).on(Ix("0x32"),((e,n)=>{t.commands[Ix("0x2")](Ix("0x34"))[Ix("0x3d")]&&(n[Ix("0x21")]>0&&n[n[Ix("0x21")]-1]&&n[n[Ix("0x21")]-1][Ix("0x3")]||o[Ix("0x11")]||this[Ix("0x4f")]()||e[Ix("0x14")]())}),{priority:Ix("0x28")});for(const e of[Ix("0x17"),Ix("0x2b"),Ix("0x1d"),Ix("0x6")]){const n=t.commands[Ix("0x2")](e);o[Ix("0x22")](e,(()=>{const e=t.model[Ix("0xb")][Ix("0x35")][Ix("0x2d")]()[Ix("0x37")]()[Ix("0x2c")]((t=>t.is(Ix("0x3e"),"tableCell"))),s=n[Ix("0x3d")];t.model[Ix("0x1f")]((()=>{o[Ix("0x4b")]([e,s],{commandName:Ix("0x2e"),commandParams:[]},[],Ix("0x2e"))}))}))}for(const e of[Ix("0x38"),"splitTableCellHorizontally"]){const n=t[Ix("0x30")][Ix("0x2")](e);o[Ix("0x22")](e,(()=>{const r=s[Ix("0x1a")](t.model[Ix("0xb")].selection)[0],i=r[Ix("0x18")]("table"),{column:x,row:a}=s[Ix("0x3f")](r);let c=[];if(Ix("0x39")==n[Ix("0x8")]){const t=s[Ix("0x27")](i,{startRow:a,endRow:a,includeAllSlots:!0});c=Array[Ix("0x1c")](t)[Ix("0x2f")]((t=>t[Ix("0x7")]))}else{const t=s[Ix("0x27")](i,{column:x,includeAllSlots:!0});c=Array[Ix("0x1c")](t)[Ix("0x2f")]((t=>t[Ix("0x7")]))}t[Ix("0x4c")].change((t=>{o[Ix("0x36")](t[Ix("0x3c")](r),{commandName:e,commandParams:[]},c,e)}))}))}o[Ix("0x2a")][Ix("0x47")]((t=>{const{data:e}=t;if(e)return Ix("0x2e")==e[Ix("0x42")]?{type:Ix("0x41"),content:us(n,Ix("0x13"))}:void 0})),o[Ix("0x2a")].registerDescriptionCallback((t=>{const{data:e}=t;if(e)return Ix("0x38")==e[Ix("0x42")]?{type:Ix("0x41"),content:us(n,"*Split cell:* vertically")}:Ix("0x50")==e[Ix("0x42")]?{type:"format",content:us(n,Ix("0x10"))}:void 0}));const x=r._acceptFormatSuggestionCallbackFactory();for(const t of[Ix("0x17"),Ix("0x2b"),Ix("0x1d"),Ix("0x6")])o._suggestionFactory[Ix("0x33")](Ix("0x1e"),t,"accept",x);for(const t of[Ix("0x38"),Ix("0x50")])o[Ix("0x1b")][Ix("0x33")](Ix("0x1e"),t,Ix("0x4e"),x);o._suggestionFactory[Ix("0x33")](Ix("0x1e"),Ix("0x2e"),Ix("0x4e"),(n=>{t[Ix("0x4c")][Ix("0x1f")]((o=>{const s=Array[Ix("0x1c")](e[Ix("0x9")]())[Ix("0x2f")]((t=>i.LiveRange[Ix("0x46")](t)));o[Ix("0x4d")](n),t[Ix("0x30")][Ix("0x2")](Ix("0x2e"))[Ix("0x40")](),t[Ix("0x32")]("mergeTableCells",{forceDefaultExecution:!0});const r=s[Ix("0x16")]((t=>Ix("0x12")!=t[Ix("0x31")][Ix("0x26")]));r[Ix("0x21")]>0&&o[Ix("0x4d")](r);for(const t of s)t[Ix("0x43")]()}))}));for(const e of[Ix("0x17"),Ix("0x1d"),Ix("0x6"),Ix("0x2b")]){const n=t.commands[Ix("0x2")](e);n.on(Ix("0x1"),((e,o,s)=>{if(s){const o=t.model[Ix("0xb")][Ix("0x35")][Ix("0x2d")]()[Ix("0x37")]()[Ix("0x2c")]((t=>t.is(Ix("0x3e"),Ix("0x3b"))));this[Ix("0xe")](n[Ix("0x3d")],o)||(e[Ix("0x15")]=!1,e[Ix("0x14")]())}}),{priority:Ix("0x49")})}}[Ix("0x4f")](){const t=this[Ix("0xd")][Ix("0x30")].get(Ix("0x2e")),e=this[Ix("0xd")][Ix("0x25")][Ix("0x2")](Ix("0x29"));if(!t[Ix("0x0")])return!1;const n=e.getSelectionAffectedTableCells(this[Ix("0xd")][Ix("0x4c")][Ix("0xb")].selection);for(const t of n)for(const e of n)if(t!=e&&!this[Ix("0xe")](t,e))return!1;return!0}[Ix("0xe")](t,e){const n=this[Ix("0xd")][Ix("0x25")].get("TrackChangesEditing"),o=this.editor.model.createRangeOn(t),s=this[Ix("0xd")][Ix("0x4c")].createRangeOn(e),r=new Set,i=new Set;for(const t of n.getSuggestions())if(("insertion"==t[Ix("0xa")]||Ix("0x4a")==t[Ix("0xa")]||Ix("0x2e")==t[Ix("0x3a")])&&t.isInContent)for(const e of t[Ix("0x9")]())e.containsRange(o,!0)&&r[Ix("0x4")](t[Ix("0xa")]+":"+t[Ix("0x24")].id),e[Ix("0x20")](s,!0)&&i.add(t.type+":"+t[Ix("0x24")].id);if(r.size!=i[Ix("0x5")])return!1;for(const t of r)if(!i[Ix("0x44")](t))return!1;return!0}}const Mx=["highest","_acceptFormatSuggestionCallbackFactory","name","registerCustomCallback","commands","removeMarker:suggestion","setTableColumnHeader","TableUtils","options","get","addMarker:suggestion","_splitMarkerName","createPositionBefore","parent","consumable","removeAttribute","markBlockFormat","FORMAT_HEADER_COLUMN","findAncestor","includes","formatBlock","data-suggestion","markerName","TableEditing","start","addClass","createPositionAfter","markerNameToElements","last","_descriptionFactory","locale","from","createRange","FORMAT_HEADER_ROW","*Format:* %0","TrackChangesEditing","plugins","isBefore","writer","getAttribute","enableCommand","model","getCellLocation","nodeAfter","commandName","table","change","has","toViewElement","getChild","first","value","FORMAT_REGULAR_ROW","markerRange","createTableWalker","setTableRowHeader","getColumnIndexes","getSuggestion","bindElementToMarker","mapper","ck-suggestion-marker-","ck-suggestion-marker--active","forceValue","stop","getRowIndexes","getSelectionAffectedTableCells","data","commandParams","index","activeMarkers","headingColumns","removeClass","registerDescriptionCallback","_suggestionFactory","unbindElementFromMarkerName","accept","downcastDispatcher","afterInit","FORMAT_REGULAR_COLUMN","consume","cell","document","childCount","editing"];var Nx,Lx;Nx=Mx,Lx=342,function(t){for(;--t;)Nx.push(Nx.shift())}(++Lx);const Ox=function(t,e){return Mx[t-=0]};class Fx extends t.Plugin{static get requires(){return[kx]}[Ox("0x47")](){const t=this.editor;if(!t[Ox("0x1e")][Ox("0x29")](Ox("0x11")))return;const e=t[Ox("0x18")],n=t.plugins[Ox("0x3")](Ox("0x1d")),o=t[Ox("0x1e")][Ox("0x3")](Ox("0x1")),s=t[Ox("0x1e")][Ox("0x3")](kx);function r({showActiveMarker:t=!0,setDataAttribute:e=!0}={}){return(s,r,i)=>{const{type:x,id:a}=n[Ox("0x5")](r[Ox("0x10")]),c=n[Ox("0x33")](a);if(!c[Ox("0x3c")]||Ox("0x0")!=c[Ox("0x3c")].commandName)return;if(r.item)return void s[Ox("0x39")]();if(!i[Ox("0x8")][Ox("0x49")](r.markerRange,s[Ox("0x50")]))return;const l=r[Ox("0x2f")][Ox("0x12")][Ox("0x25")],u=r[Ox("0x2f")].end.nodeBefore,d=l[Ox("0x7")][Ox("0x7")],{column:g}=o.getCellLocation(l),{column:f}=o[Ox("0x24")](u);for(let s=g;s<=f;s++){const c=o[Ox("0x30")](d,{column:s,includeAllSlots:!1});for(const o of c){const s=o.cell,c=i[Ox("0x35")][Ox("0x2a")](s);i.writer.addClass(Ox("0x36")+x,c),e&&i[Ox("0x20")].setAttribute(Ox("0xf"),a,c),i[Ox("0x35")][Ox("0x34")](c,r.markerName),t&&(n[Ox("0x3f")][Ox("0xd")](r[Ox("0x10")])?i[Ox("0x20")][Ox("0x13")](Ox("0x37"),c):i[Ox("0x20")][Ox("0x41")](Ox("0x37"),c))}}}}n[Ox("0x22")]("setTableRowHeader",((e,s)=>{const r=o[Ox("0x3b")](t[Ox("0x23")][Ox("0x4b")].selection),i=o[Ox("0x3a")](r),x=r[0][Ox("0xc")](Ox("0x27")),a=x[Ox("0x21")]("headingRows")||0,c=s&&null!==s.forceValue?s[Ox("0x38")]:!t[Ox("0x52")].get(Ox("0x31"))[Ox("0x2d")],l=c?i.last:i[Ox("0x2c")],u=x[Ox("0x2b")](l);let d;if(c){const e=x.getChild(a);if(u[Ox("0x3e")]<e[Ox("0x3e")])return;d=t[Ox("0x23")][Ox("0x1a")](t[Ox("0x23")][Ox("0x6")](e.getChild(0)),t[Ox("0x23")][Ox("0x14")](u[Ox("0x2b")](u[Ox("0x4c")]-1)))}else{const e=x[Ox("0x2b")](a-1);if(!e)return;d=t[Ox("0x23")][Ox("0x1a")](t[Ox("0x23")][Ox("0x6")](u[Ox("0x2b")](0)),t[Ox("0x23")][Ox("0x14")](e[Ox("0x2b")](e.childCount-1)))}t[Ox("0x23")][Ox("0x28")]((()=>{n[Ox("0xa")](d,{commandName:Ox("0x31"),commandParams:[{forceValue:c}]},[],Ox("0x31"))}))})),n[Ox("0x22")](Ox("0x0"),((e,o)=>{const s=t[Ox("0x1e")][Ox("0x3")]("TableUtils"),r=s[Ox("0x3b")](t.model.document.selection),i=s[Ox("0x32")](r),x=r[0][Ox("0xc")](Ox("0x27")),a=x[Ox("0x21")](Ox("0x40"))||0,c=o&&null!==o[Ox("0x38")]?o.forceValue:!t.commands.get(Ox("0x0"))[Ox("0x2d")];let l;const u=x[Ox("0x2b")](0),d=c?i[Ox("0x16")]:i[Ox("0x2c")],g=s.createTableWalker(x,{startRow:0,column:d,includeAllSlots:!1}),f=Array[Ox("0x19")](g)[0][Ox("0x4a")];if(c){const e=u[Ox("0x2b")](a);if(f[Ox("0x1f")](e))return;l=t[Ox("0x23")][Ox("0x1a")](t[Ox("0x23")][Ox("0x6")](e),t[Ox("0x23")][Ox("0x14")](f))}else{const e=u[Ox("0x2b")](a-1);if(!e)return;l=t[Ox("0x23")][Ox("0x1a")](t.model[Ox("0x6")](f),t[Ox("0x23")][Ox("0x14")](e))}t[Ox("0x23")][Ox("0x28")]((()=>{n[Ox("0xa")](l,{commandName:Ox("0x0"),commandParams:[{forceValue:c}]},[],Ox("0x0"))}))})),t[Ox("0x4d")].downcastDispatcher.on("addMarker:suggestion",r(),{priority:Ox("0x4e")}),t[Ox("0x3c")].downcastDispatcher.on(Ox("0x4"),((t,e,n)=>{n[Ox("0x2")].showSuggestionHighlights&&r({showActiveMarker:!1,setDataAttribute:!1})(t,e,n)}),{priority:Ox("0x4e")}),t[Ox("0x4d")][Ox("0x46")].on(Ox("0x53"),((t,e,o)=>{const{type:s,id:r}=n[Ox("0x5")](e[Ox("0x10")]),i=n[Ox("0x33")](r);if(!i.data||Ox("0x0")!=i[Ox("0x3c")][Ox("0x26")])return;const x=o[Ox("0x35")][Ox("0x15")](e.markerName);if(x)for(const t of x)o[Ox("0x20")][Ox("0x41")]("ck-suggestion-marker-"+s,t),o[Ox("0x20")][Ox("0x41")](Ox("0x37"),t),o[Ox("0x20")][Ox("0x9")]("data-suggestion",t),o[Ox("0x35")][Ox("0x44")](t,e[Ox("0x10")])}),{priority:Ox("0x4e")}),n[Ox("0x17")][Ox("0x42")]((t=>{const{data:n}=t;if(n){if(Ox("0x31")==n.commandName){const t=n[Ox("0x3d")][0][Ox("0x38")];return o(us(e,Ox(t?"0x1b":"0x2e")))}if(Ox("0x0")==n[Ox("0x26")]){const t=n.commandParams[0][Ox("0x38")];return o(us(e,Ox(t?"0xb":"0x48")))}}function o(t){return{type:"format",content:us(e,Ox("0x1c"),t)}}}));const i=s[Ox("0x4f")]();n[Ox("0x43")][Ox("0x51")](Ox("0xe"),Ox("0x31"),Ox("0x45"),i),n[Ox("0x43")][Ox("0x51")](Ox("0xe"),Ox("0x0"),Ox("0x45"),i)}}const Dx=["removeMarkers","differ","TrackChangesEditing","unwrap","_isForcedDefaultExecutionBlock","paragraph","return","_descriptionFactory","removeColumns","map","discard","isEmpty","isEqual","name","newRange","plugins","nodeAfter","move","registerPostFixer","createElement","suggestion-td","updateMarker","start","deletion","commands","locale","stop","includes","documentSelection","*Replace table cells*","formatBlock","last","attributes","model","tablePasteChainId","_suggestionFactory","isInContent","markerName","oldRange","editor","fromEntries","from","elementToElement","$graveyard","suggestionLoaded","trackChanges","every","table","insertion","suggestion","suggestionUnloaded","TableClipboard","rows","getChangedMarkers","tablePaste","editing","suggestion:formatBlock:tablePasteCell","endRow","element","_getCoordsForCells","change","columnInsertionRanges","markerToHighlight","wrap","filter","options","clipboardOutput","tablePasteCell","createRangeOn","tableCell","remove","setAttribute","getSuggestion","removeRows","rowInsertionRanges","row","getRowIndexes","getChildren","getAllAdjacentSuggestions","tableCellBorderStyle","author","_createdBatches","accept","first","getSuggestionCallback","_tablePostFixingSubtypes","tableCellSuggestion","registerCustomCallback","ck-suggestion-marker--active","schema","getRanges","length","markerAttributes","ck-suggestion-marker","get","getTableIfOnlyTableInContent","markMultiRangeBlockFormat","register","findAncestor","insert","setAttributes","previousSibling","push","markMultiRangeInsertion","add","getSuggestions","fill","removeMarker","getAttributes","tableCellBorderWidth","low","document","insertColumns","position","subType","createRangeIn","selection","rowInsertionIndexes","batch","afterInit","value","createPositionBefore","createTableWalker","editingDowncast","getMarkers","getShiftedBy","high","tableCellVerticalAlignment","join","tableCellPadding","cell","ck-suggestion-marker-insertion","column","redo","getColumnIndexes","for","endColumn","find","cells","has","insertionRanges","getChild","nextSibling","set","keys","getColumns","containsRange","tablePasteColumn","tableCellBackgroundColor","reduce","_splitMarkerName","previous","_replaceTableSlotCell","startsWith","insertContent","getItems","type","getContainedElement","some","tableCellHorizontalAlignment","getRange","getChanges","tablePasteRow"];var Px,Bx;Px=Dx,Bx=354,function(t){for(;--t;)Px.push(Px.shift())}(++Bx);const jx=function(t,e){return Dx[t-=0]},Ux=[jx("0x51"),"tableCellBorderColor",jx("0x33"),jx("0x83"),jx("0x63"),jx("0x78"),jx("0x65")],Hx=Object[jx("0xc")](Ux[jx("0x90")]((t=>[t,null])));class Gx extends t.Plugin{static get requires(){return[kx]}[jx("0x5b")](){const t=this[jx("0xb")];if(!t[jx("0x96")].has("TableClipboard"))return;const n=t.plugins.get(jx("0x89")),o=t[jx("0x96")][jx("0x42")]("TableUtils"),s=t[jx("0x96")].get(kx),r=t[jx("0x96")].get(jx("0x17"));s[jx("0x39")][jx("0x4a")](jx("0x86"),jx("0x77")),t[jx("0x5")][jx("0x3d")][jx("0x45")](jx("0x3a"),{allowIn:jx("0x29"),allowContentOf:jx("0x29"),isLimit:!0}),t.conversion[jx("0xe")]({model:jx("0x3a"),view:jx("0x9b")});let i=null;t[jx("0x5")].on("insertContent",((s,x)=>{const[a,c]=x,l=x[x.length-1];l&&l.forceDefaultExecution||n[jx("0x8b")]||this[jx("0xb")][jx("0x9f")][jx("0x42")](jx("0x11"))[jx("0x5c")]&&function(t,e,n,o,s){if(e&&!e.is(jx("0x0")))return!1;const r=s[jx("0x43")](t,n);if(!r||!zx(r,null,o))return!1;const i=o.getSelectionAffectedTableCells(n[jx("0x53")][jx("0x58")]);if(!i[jx("0x3f")])return!1;const x=i[0][jx("0x46")](jx("0x13")),a=o[jx("0x30")](i),c=o[jx("0x6a")](i),l={startRow:a[jx("0x37")],endRow:a[jx("0x3")],startColumn:c[jx("0x37")],endColumn:c[jx("0x3")]};return 1==i[jx("0x3f")]&&(l[jx("0x1d")]+=o.getRows(r)-1,l[jx("0x6c")]+=o[jx("0x75")](r)-1),zx(x,l,o)}(a,c,t[jx("0x5")],o,r)&&(s[jx("0xa1")](),i={cells:[],insertionRanges:[],deletionRanges:[],rowInsertionRanges:[],rowInsertionIndexes:[],columnInsertionRanges:[],columnInsertionIndexes:[]},t[jx("0x5")][jx("0x20")]((()=>{t[jx("0x5")][jx("0x7e")](x[0],x[1],x[2],x[3],{forceDefaultExecution:!0});const o=(0,e.uid)(),{rowInsertionRanges:s,columnInsertionRanges:r,insertionRanges:a,deletionRanges:c,cells:l}=i;s.length&&n[jx("0x4b")](s,"tablePasteRow",{tablePasteChainId:o}),r[jx("0x3f")]&&n.markMultiRangeInsertion(r,jx("0x77"),{tablePasteChainId:o}),a[jx("0x3f")]&&n[jx("0x4b")](a,jx("0x1a"),{tablePasteChainId:o,skipNestingCheck:!0}),c.length&&n.markMultiRangeDeletion(c,jx("0x1a"),{tablePasteChainId:o,skipNestingCheck:!0});const u=n[jx("0x44")](l[jx("0x90")]((({element:t})=>t)),{formatGroupId:(0,e.uid)()},[],jx("0x27"),{tablePasteChainId:o});if(u){const e=u[jx("0x60")](),n=[];for(const{element:o,attributes:s}of l){if(!s)continue;const r=t.model[jx("0x28")](o),i=e[jx("0x6d")]((t=>t[jx("0x84")]()[jx("0x93")](r)));i&&n[jx("0x4a")]([i.name,s])}n.length&&u[jx("0x2b")](jx("0x40"),Object[jx("0xc")](n))}i=null})))}),{priority:e.priorities[jx("0x62")]+10}),t[jx("0x96")][jx("0x42")]("TableClipboard").on(jx("0x7c"),((t,e)=>{const[n,o,,s]=e;if(!i)return;t[jx("0xa1")]();const r=n[jx("0x66")],x=o,a=Vx(r),c=Vx(x);t[jx("0x8d")]=r;let l=null,u=null;if(c||a)if(a&&!c){s[jx("0x2a")](r[jx("0x71")](0));for(const t of Array[jx("0xd")](x[jx("0x31")]()))s.insert(t,r,"end");const t=i[jx("0x59")][jx("0xa2")](n[jx("0x2f")]),e=i.columnInsertionIndexes[jx("0xa2")](n[jx("0x68")]);t||e||(l=s[jx("0x57")](r))}else c&&!a&&(u=s[jx("0x57")](r));else{const t=s[jx("0x9a")]("tableCellSuggestion"),e=s[jx("0x9a")](jx("0x3a"));s[jx("0x23")](s[jx("0x57")](r),e),s[jx("0x47")](t,r,0);for(const e of Array[jx("0xd")](x[jx("0x31")]()))s[jx("0x47")](e,t,"end");l=s.createRangeOn(t),u=s[jx("0x28")](e)}const d=Array.from(x[jx("0x50")]())[jx("0x24")]((([t])=>Ux.includes(t)));i[jx("0x6e")][jx("0x4a")]({element:r,attributes:d[jx("0x3f")]?Object.fromEntries(d):null}),l&&i[jx("0x70")][jx("0x4a")](l),u&&i.deletionRanges[jx("0x4a")](u)}),{priority:"high"}),o.on(jx("0x54"),((e,n)=>{const[s,r={}]=n;if(!i)return;const x=r.at||0,a=r.columns||1;i.columnInsertionIndexes=new Array(a)[jx("0x4e")](x)[jx("0x90")](((t,e)=>t+e));for(const{cell:e}of o[jx("0x5e")](s,{startColumn:x,endColumn:x+a-1}))i[jx("0x21")][jx("0x4a")](t.model[jx("0x28")](e))}),{priority:jx("0x52")}),o.on("insertRows",((e,n)=>{const[s,r={}]=n;if(!i)return;const x=r.at||0,a=r[jx("0x18")]||1;i.rowInsertionIndexes=new Array(a)[jx("0x4e")](x)[jx("0x90")](((t,e)=>t+e));for(const{cell:e}of o[jx("0x5e")](s,{startRow:x,endRow:x+a-1}))i[jx("0x2e")].push(t[jx("0x5")][jx("0x28")](e))}),{priority:jx("0x52")}),n[jx("0x8e")].registerDescriptionCallback((e=>{if(e[jx("0x56")]&&e[jx("0x56")][jx("0x7d")](jx("0x1a")))return e[jx("0x7b")]?{}:{type:jx("0x14"),content:us(t[jx("0xa0")],jx("0x1"))}}));const x=()=>{};for(const t of[jx("0x1a"),jx("0x77"),jx("0x86"),jx("0x27")])n[jx("0x7")][jx("0x3b")](jx("0x14"),t,jx("0x64"),x),n[jx("0x7")][jx("0x3b")](jx("0x9e"),t,"join",x);n[jx("0x7")][jx("0x3b")](jx("0x2"),jx("0x27"),jx("0x91"),x),n[jx("0x7")].registerCustomCallback(jx("0x2"),jx("0x27"),"accept",((e,n,o)=>{const s=e[jx("0x90")]((t=>t[jx("0x81")]()))[jx("0x24")]((t=>t)),r=new Map(s[jx("0x90")]((t=>[t,null])));if(i)for(const{element:t,attributes:e}of i.cells)e&&r[jx("0x73")](t,e);else if(o&&o[jx("0x40")])for(const[e,n]of Object.entries(o[jx("0x40")])){const o=t[jx("0x5")].markers[jx("0x42")](e),s=o?o[jx("0x84")]()[jx("0x81")]():null;s&&r[jx("0x73")](s,n)}t[jx("0x5")][jx("0x20")]((t=>{for(const[e,n]of r)t[jx("0x48")]({...Hx,...n},e)}))}));const a=(e,o)=>{n[jx("0x7")][jx("0x3b")](e,jx("0x1a"),o,((s,r,i)=>{t[jx("0x5")][jx("0x20")]((t=>{const x=[];for(const t of s){const e=t[jx("0x9d")][jx("0x97")];e.is(jx("0x1e"),jx("0x3a"))&&x.push(e)}n[jx("0x7")][jx("0x38")](e,null,o)(s,r,i);for(const e of x)jx("0xf")!=e.root.rootName&&t[jx("0x8a")](e)}))}))};a(jx("0x14"),jx("0x36")),a(jx("0x14"),"discard"),a(jx("0x9e"),jx("0x36")),a(jx("0x9e"),jx("0x91")),n[jx("0x7")][jx("0x3b")](jx("0x14"),"tablePasteRow",jx("0x91"),(t=>{const e=t[jx("0x90")]((t=>t[jx("0x81")]())),n=e[0].findAncestor(jx("0x13")),{minRow:r,maxRow:i}=s[jx("0x1f")](e);o[jx("0x2d")](n,{at:r,rows:i-r+1})})),n._suggestionFactory[jx("0x3b")]("insertion",jx("0x77"),jx("0x91"),(t=>{const e=t[jx("0x90")]((t=>t[jx("0x81")]())),n=e[0][jx("0x46")]("table"),{minColumn:r,maxColumn:i}=s[jx("0x1f")](e);o[jx("0x8f")](n,{at:r,columns:i-r+1})}));const c=(t,e)=>{if(!e.subType||!e[jx("0x56")][jx("0x7d")](jx("0x1a")))return;const o=e[jx("0x4")][jx("0x6")],s=n.getSuggestions()[jx("0x24")]((t=>t[jx("0x8")]&&t.attributes&&t[jx("0x4")][jx("0x6")]==o));s.length&&e.getAllAdjacentSuggestions().length!=s.length&&s[jx("0x79")](((t,e)=>(t.next=e,e[jx("0x7b")]=t,e)))};function l(t,{showActiveMarker:e=!0}={}){const{id:o}=n[jx("0x7a")](t[jx("0x9")]),s=[jx("0x41"),jx("0x67")],r=n.activeMarkers[jx("0xa2")](t[jx("0x9")]);return r&&s.push(jx("0x3c")),{classes:s,attributes:{"data-suggestion":o},priority:r&&e?3010:3e3}}n.on(jx("0x10"),c,{priority:"high"}),n.on(jx("0x16"),c,{priority:"high"}),t[jx("0x5")].document[jx("0x99")]((()=>{let e=!1;const o=Array.from(t[jx("0x5")][jx("0x53")][jx("0x88")][jx("0x19")]());for(const{name:s,data:r}of o){const{group:o,type:i,id:x}=n._splitMarkerName(s);if(jx("0x15")!=o||"deletion"!=i||r[jx("0xa")])continue;if(!n.hasSuggestion(x))continue;const a=n[jx("0x2c")](x)[jx("0x3e")](),c=t[jx("0x96")][jx("0x42")]("Users").me;for(const t of n[jx("0x4d")]())if(t.isInContent&&t[jx("0x34")]==c&&jx("0x2")==t.type&&jx("0x27")==t.subType&&t[jx("0x3e")]()[jx("0x12")]((t=>a[jx("0x82")]((e=>e[jx("0x76")](t,!0))))))for(const n of t[jx("0x32")]())n[jx("0x8")]&&(n.discard(),e=!0)}return e})),t[jx("0x5")][jx("0x53")][jx("0x99")]((e=>{const o=t[jx("0x9f")].get(jx("0x69"));if(!o||!o[jx("0x35")].has(e[jx("0x5a")]))return!1;let s=!1;const r=t[jx("0x96")].get("Users").me,i=t.model[jx("0x53")][jx("0x88")][jx("0x85")](),x=Array[jx("0xd")](t[jx("0x5")][jx("0x53")].differ[jx("0x19")]())[jx("0x24")]((({name:t,data:e})=>{const{group:o,subType:s,authorId:i}=n[jx("0x7a")](t);return"suggestion"==o&&jx("0x1a")==s&&i==r.id&&!e[jx("0xa")]}));for(const t of i){if(jx("0x47")!=t[jx("0x80")]||jx("0x3a")!=t[jx("0x94")]||1!=t[jx("0x3f")])continue;const n=e.createRange(t[jx("0x55")],t[jx("0x55")][jx("0x61")](1));if(!x[jx("0x6d")]((({data:t})=>t[jx("0x95")].isEqual(n))))for(const{name:t,data:o}of x)if(n[jx("0x76")](o[jx("0x95")])){e[jx("0x9c")](t,{range:n}),s=!0;break}}return s})),t[jx("0x5")][jx("0x53")][jx("0x99")]((e=>{let o=!1;const s=t[jx("0x96")][jx("0x42")]("Users").me,r=n[jx("0x4d")]()[jx("0x24")]((t=>t[jx("0x8")]&&t[jx("0x34")]==s)),i=new Set,x=new Set;for(const t of r)if(jx("0x1a")==t[jx("0x56")])for(const e of t[jx("0x60")]()){const n=e[jx("0x84")]().getContainedElement();if(n)if(n.is(jx("0x1e"),jx("0x3a"))&&Vx(n)){t[jx("0x4f")](e[jx("0x94")]),i[jx("0x4c")](n),o=!0;const s=n[jx("0x72")],r=n[jx("0x49")],a=s&&s.is(jx("0x1e"),jx("0x3a")),c=r&&r.is(jx("0x1e"),jx("0x3a"));a&&!i[jx("0x6f")](s)&&x.add(s),c&&!i[jx("0x6f")](r)&&x[jx("0x4c")](r)}else n.is(jx("0x1e"),jx("0x8c"))&&n[jx("0x92")]&&(t.removeMarker(e[jx("0x94")]),o=!0)}else if(jx("0x27")==t[jx("0x56")]){if(!t[jx("0x4")]||!t[jx("0x4")][jx("0x6")])continue;const e=t.attributes[jx("0x40")];if(e&&Object[jx("0x74")](e)[jx("0x3f")])continue;const n=t[jx("0x4")][jx("0x6")];let s=!0,i=!0;for(const e of r)if(e[jx("0x56")]&&e.subType[jx("0x7d")](jx("0x1a"))){if(!e[jx("0x4")][jx("0x6")]){i=!1;break}if(e.id!=t.id&&e[jx("0x4")][jx("0x6")]==n){s=!1;break}}i&&s&&(t[jx("0x87")](),o=!0)}for(const t of i)e[jx("0x2a")](t);for(const t of x)e.unwrap(t);return o})),t.conversion[jx("0x6b")](jx("0x5f")).markerToHighlight({model:jx("0x1c"),view:l,converterPriority:jx("0x62")}),t.conversion.for("dataDowncast")[jx("0x22")]({model:"suggestion:formatBlock:tablePasteCell",view:(t,e)=>{if(e[jx("0x25")].showSuggestionHighlights)return l(t,{showActiveMarker:!1})},converterPriority:"high"});const u=t[jx("0x1b")].view;this.listenTo(u[jx("0x53")],jx("0x26"),((t,e)=>{const n=[];for(const t of u.createRangeIn(e.content)[jx("0x7f")]())t.is(jx("0x1e"),jx("0x9b"))&&n[jx("0x4a")](t);u[jx("0x20")]((t=>{for(const e of n)t[jx("0x98")](t[jx("0x57")](e),t[jx("0x5d")](e)),t[jx("0x2a")](e)}))}))}}function Vx(t){if(t[jx("0x92")])return!0;const e=t.getChild(0);return e.is(jx("0x1e"),jx("0x8c"))&&e[jx("0x92")]}function zx(t,e={},n){for(const{isAnchor:o,cellHeight:s,cellWidth:r}of n[jx("0x5e")](t,{includeAllSlots:!0,...e}))if(!o||1!=s||1!=r)return!1;return!0}const Wx=["locale","document","forward","registerPostFixer","model","isTouching","element","newRange","ELEMENT_TITLE","createRange","isCollapsed","editor","end","registerElementLabel","plugins","afterInit","has","title-content","removeMarker","start","isEqual","get","_descriptionFactory","updateMarker","schema"];var Kx,qx;Kx=Wx,qx=140,function(t){for(;--t;)Kx.push(Kx.shift())}(++qx);const $x=function(t,e){return Wx[t-=0]};class Xx extends t.Plugin{[$x("0x0")](){const t=this[$x("0x15")];if(!t[$x("0x18")][$x("0x1")]("Title"))return;const e=t[$x("0x18")][$x("0x6")]("TrackChangesEditing");e[$x("0x7")][$x("0x17")]("title-content",(()=>us(t[$x("0xa")],$x("0x12")))),t[$x("0xe")][$x("0xb")][$x("0xd")]((n=>{let o=!1;const s=Array.from(t[$x("0xe")][$x("0xb")].differ.getChangedMarkers());for(const{name:r,data:i}of s){const{group:s}=e._splitMarkerName(r);if("suggestion"!==s||!i[$x("0x11")])continue;const x=i[$x("0x11")],a=x[$x("0x16")].nodeBefore;if(!a||!a.is($x("0x10"),$x("0x2")))continue;if(!x[$x("0x4")][$x("0xf")](x[$x("0x16")]))continue;const c=t[$x("0xe")][$x("0x9")].getNearestSelectionRange(x.end,$x("0xc"));if(c&&c[$x("0x14")]){const t=n[$x("0x13")](x[$x("0x4")],c[$x("0x4")]);t[$x("0x5")](x)||(n[$x("0x8")](r,{range:t}),o=!0)}o||(n[$x("0x3")](r),o=!0)}return o}))}}const Jx=["afterInit","plugins","undo","redo","enableCommand","editor","get","TrackChangesEditing"];var Qx,Yx;Qx=Jx,Yx=270,function(t){for(;--t;)Qx.push(Qx.shift())}(++Yx);const Zx=function(t,e){return Jx[t-=0]};class ta extends t.Plugin{[Zx("0x2")](){const t=this[Zx("0x7")],e=t[Zx("0x3")][Zx("0x0")](Zx("0x1"));t[Zx("0x3")].has("UndoEditing")&&(e[Zx("0x6")](Zx("0x4")),e[Zx("0x6")](Zx("0x5")))}}const ea=["object","keys","boolean","isArray","charCodeAt","number","string","toString","sort"];var na,oa;na=ea,oa=467,function(t){for(;--t;)na.push(na.shift())}(++oa);const sa=function(t,e){return ea[t-=0]};function*ra(t){t?sa("0x3")==typeof t?yield 1:Array[sa("0x4")](t)?yield*function*(t){for(const e of t)yield*ra(e)}(t):sa("0x1")==typeof t?yield*ia(t):sa("0x7")==typeof t?yield*xa(t):sa("0x6")==typeof t&&(yield t):yield 0}function*ia(t){if(yield aa("{"),t){const e=Object[sa("0x2")](t)[sa("0x0")]();for(const n of e){yield*xa(n),yield aa(":");const e=t[n];yield*ra(e)}}yield aa("}")}function*xa(t){yield aa('"');for(const e of t)yield aa(e);yield aa('"')}function aa(t){return t[sa("0x5")](0)}function ca(t){return(t*=Math.sign(t))[sa("0x8")](36)}const la=["_getExternalAuthor","start","_cutOutSuggestionMarker","_addThreadToSuggestion","getWalker","move","_defaultCallbacks","resolve","getLastMatchingPosition","formatBlock:chain","track-changes-command-not-found","insertion:discard","for","from","addMarker","_joinSuggestions","addHighlight","_adapter","showSuggestionHighlights","splice","conversion","addClass","mapper","setTo","markMultiRangeInsertion","element","suggestion","formatBlock:discard","addUser","length","name","clear","containerElement","markDeletion","removeComment","catch","commands","remove","_findSuggestions","_registerDefaultCallbacks","_addSuggestionMarker","formatBlock","accept","batch","fire","rethrowUnexpectedError","@external","listenTo","high","getMultiRangeId","highest","map","insertion:","oldRange","updateMarker","acceptAllSuggestions","ready","isRemovable","writer","isMultiRange","dataDowncast","$graveyard","PENDING_ACTION_SUGGESTION","options","suggestionUnloaded","rejected","deletion:join","deleteContent","attributes","change:data","addComment","formatInline:","plugins","getSuggestionCallback","data","add","formatInline:chain","createPositionBefore","open","buildSuggestion","elementToElement","upcast","getShiftedBy","formatInline:discard","discardAllSuggestions","backward","_isForcedDefaultExecutionBlock","getRanges","createdAt","formatBlock:accept","getAttribute","suggestionChanged","range","getUser","acceptSuggestion","then","set","editor","_commentsRepository","markers","_suggestions","isAtEnd","removeMarker","refresh","model","hasSuggestion","activeMarkers","Users","fromCharCode","hasComments","selection","_editor","_enabledCommands","adapter","isInContent","createPositionAt","type","detach","_updateSuggestionData","elementStart","removed","forceDefaultExecution","insertContent","sort","commentThread","ck-suggestion-marker","fetchCommentThread","isNextTo","isEqual","getSuggestions","_splitMarkerName","originalSuggestionId","notReady","CommentsRepository","splitPosition","subType","dataToMarker","differ","enqueueChange","formatInline","hasCommentThread","marker-count","consumable","_getSuggestionData","unbind","_setSuggestionData","every","forward","chain","newRange","containsRangeInObject","isSelectable","author","getItems","group","skipNestingCheck","has","removeMarker:suggestion:formatBlock","insertion","previous","isTouching","includes","error-saving-suggestion-data-suggestion-discarded","_customCallbacks","getAllAdjacentSuggestions","addMarkerName","markMultiRangeBlockFormat","enableCommand","locale","execute","isLimit","getDifference","removeAttribute","_descriptionFactory","updateSuggestion","stopListening","deletion:","multipleBlocks","_setSuggestionRange","multi","createRangeIn","track-changes-suggestion-data-mismatch","markBlockFormat","setSelection","init","fromRange","ck-suggestion-marker-","discardSuggestion","isInsideObject","markerToHighlight","containsPosition","markerReady","toViewElement","isAtStart","getRange","_handleNewSuggestionMarker","createRange","accepted","authorName","isBefore","getFirstRange","nodeAfter","_checkSuggestionCorrectness","addMarker:suggestion:formatBlock","addMarker:suggestion","registerCustomCallback","targetPosition","_suggestionState","stop","return","getSuggestion","document","registerPostFixer","getAncestors","isIntersectingWithRange","size","some","consume","deletion:discard","_suggestionFactory","parent","nodeBefore","_joinWithAdjacentSuggestions","dataReady","bindElementToMarker","PendingActions","data-suggestion","suggestionLoaded","addCommentThread","deletion:chain","isOwn","markInlineFormat","insertion:chain","markerToData","isUndo","formatBlock:join","formatGroupId","formatInline:join","values","setAttribute","_model","isCollapsed","change","_saved","ck-suggestion-marker--active","createSelection","isObject","ck-suggestion-marker-formatBlock","insertion:accept","delete","getChangedMarkers","root","addSuggestion","isAfter","schema","clone","filter","markInsertion","trackChangesCommand","trackChanges","join","markerName","substr","markMultiRangeDeletion","isDocumentOperation","editingDowncast","split","suggestion:","getIntersection","before","createElement","push","acceptSelectedSuggestions","insertion:join","isBlock","deletion:accept","addSuggestionData","discard","item","getCustomProperty","howMany","TrackChangesEditing","discardSelectedSuggestions","get","change:_saved","deletion","_refreshSuggestionsChain","track-changes-user-not-found","_rangeIsInLocalUserInsertion","after","getNearestSelectionRange","end","removeMarkers","commandName","rootName","next","getFirstMarker","insert","config","formatInline:accept","addRange","containsRange","_getAuthorFromId","removeClass"];var ua,da;ua=la,da=131,function(t){for(;--t;)ua.push(ua.shift())}(++da);const ga=function(t,e){return la[t-=0]};class fa extends t.Plugin{static get requires(){return[ga("0x2"),r.Users,t.PendingActions,ys,Os,Ws,Qs,nr,ar,fr,_r,Ar,Mr,Pr,Gr,qr,Yr,oi,ai,gi,bi,Ci,wi,Fi,Ui,Wi,Qi,ox,ax,fx,Ex,kx,wx,Fx,Gx,Xx,ta]}static get pluginName(){return ga("0x96")}constructor(t){function e(t){return t[ga("0xe0")]((t=>String[ga("0x119")](t)))[ga("0x81")]("")}super(t),this[ga("0x10d")](ga("0x117"),[]),this.on("change:activeMarkers",((e,n,o,s)=>{this._model.change((()=>{for(const e of[...s,...o])this._model[ga("0x110")].has(e)&&t.editing.reconvertMarker(e)}))})),this[ga("0x2a")]=new hs(this[ga("0x10e")][ga("0x115")].schema,this[ga("0x10e")][ga("0x25")]),this._adapter=null,this._suggestionFactory=new ma(this.editor),this[ga("0x111")]=new Map,this[ga("0x10f")]=t.plugins[ga("0x98")](ga("0x2")),this._enabledCommands=new Set,this._model=this[ga("0x10e")].model,this._suggestionState=new WeakMap,this[ga("0x103")]=!1,this[e([95,101,120,101,99,117,116,101,83,117,103,103,101,115,116,105,111,110])]=e([52,48,52,52,50,48,50,50])}[ga("0x35")](){const t=this.editor;t[ga("0xc1")][ga("0xb9")](ga("0x86"))[ga("0x3a")]({model:ga("0xc7"),view:t=>{const{id:e,type:n}=this._splitMarkerName(t.markerName),o=[ga("0x12a"),"ck-suggestion-marker-"+n];let s=3e3;return this[ga("0x117")].includes(t[ga("0x82")])&&(o[ga("0x8c")](ga("0x71")),s=3010),ga("0x9a")==n&&(s+=5),{classes:o,attributes:{"data-suggestion":e},priority:s}}}),t[ga("0xc1")][ga("0xb9")](ga("0xe9"))[ga("0xf8")]((e=>{e.on(ga("0x49"),((e,n,o)=>{if(!o[ga("0xec")][ga("0xbf")])return;const s=n.item;if(!s)return;const r=o[ga("0xc3")][ga("0x3d")](s);t[ga("0x115")].schema.isObject(s)&&r&&!r[ga("0x94")]("widget")&&r.is(ga("0xcd"))&&(0,x.toWidget)(r,o.writer)}),{priority:ga("0xdd")})})),t[ga("0xc1")][ga("0xb9")](ga("0xe9"))[ga("0x3a")]({model:ga("0xc7"),view:(t,e)=>{if(!e[ga("0xec")].showSuggestionHighlights)return null;const{type:n}=this[ga("0x12f")](t[ga("0x82")]);return{classes:["ck-suggestion-marker",ga("0x37")+n],priority:3e3}}});const n=({showActiveMarkers:e=!0}={})=>(n,o,s)=>{if(!o[ga("0x93")])return;if(o[ga("0x93")].is(ga("0x11b")))return void s[ga("0xb")][ga("0x56")](o[ga("0x93")],n[ga("0xcb")]);const r=s[ga("0xc3")][ga("0x3d")](o[ga("0x93")]);if(!o.item.is("element")||!t[ga("0x115")].schema[ga("0x8f")](o[ga("0x93")])||r.getCustomProperty(ga("0xbd")))return;const{id:i}=this[ga("0x12f")](o.markerName);s.writer[ga("0xc2")]([ga("0x12a"),ga("0x74")],r),s[ga("0xe7")][ga("0x6c")]("data-suggestion",i,r),s[ga("0xc3")][ga("0x5d")](r,o.markerName),e&&(this[ga("0x117")].includes(o[ga("0x82")])?s.writer[ga("0xc2")](ga("0x71"),r):s[ga("0xe7")][ga("0xac")](ga("0x71"),r));for(const e of t[ga("0x115")][ga("0x31")](o.item)[ga("0x16")]())s[ga("0xb")].consume(e,n[ga("0xcb")]);s.consumable[ga("0x56")](o.item,n.name)};t[ga("0xc1")][ga("0xb9")](ga("0xe9"))[ga("0xf8")]((t=>{t.on(ga("0x48"),((t,e,o)=>{o.options.showSuggestionHighlights&&n({showActiveMarkers:!1})(t,e,o)}),{priority:ga("0xdf")})})),t[ga("0xc1")][ga("0xb9")](ga("0xe9"))[ga("0x66")]({model:ga("0xc7"),view:(t,e)=>e[ga("0xec")][ga("0xbf")]?null:{group:ga("0xc7"),name:t[ga("0x83")](ga("0xc7")[ga("0xca")]+1)}}),t.conversion[ga("0xb9")](ga("0xfe"))[ga("0xfd")]({view:{name:"suggestion",attribute:{id:/^\w/,suggestionType:/^\w/}},model:(t,{writer:e})=>{let n=ga("0x88")+t[ga("0x107")]("suggestion-type")+":"+t.getAttribute("id");return t[ga("0x107")](ga("0xa"))&&(n+=":"+t.getAttribute(ga("0xa"))),e[ga("0x8b")]("$marker",{"data-name":n})}}),t[ga("0xc1")][ga("0xb9")](ga("0xfe"))[ga("0x5")]({view:ga("0xc7")}),t.conversion[ga("0xb9")](ga("0x86")).add((t=>{t.on(ga("0x48"),n(),{priority:ga("0xdd")})})),t.conversion[ga("0xb9")](ga("0x86"))[ga("0xf8")]((t=>{t.on(ga("0x1a"),((t,e,n)=>{const o=n[ga("0xc3")].markerNameToElements(e[ga("0x82")]);if(o)for(const t of o)t.getCustomProperty(ga("0xbd"))||(n[ga("0xe7")].removeClass([ga("0x12a"),ga("0x74"),ga("0x71")],t),n.writer[ga("0x29")](ga("0x5f"),t),n[ga("0xc3")].unbindElementFromMarkerName(t,e[ga("0x82")]))}),{priority:ga("0xdd")})})),t[ga("0x115")].document[ga("0x51")]((e=>{let n=!1;const o=Array.from(t[ga("0x115")][ga("0x50")][ga("0x6")][ga("0x77")]()),s=new Set;for(const{name:x,data:a}of o){const{group:o,type:c,id:l}=this._splitMarkerName(x);if(ga("0xc7")!==o)continue;const u=this._suggestions[ga("0x98")](l);if(null!=a[ga("0x12")])if(ga("0x8")==c&&(n=n||ba(a[ga("0x12")],x,e,t[ga("0x115")].schema)),a[ga("0x12")][ga("0x6e")]||ga("0xea")==a.newRange.root.rootName||"formatBlock"==c&&!_a(a.newRange)||ga("0x9a")==c&&(pa(i=a[ga("0x12")])||(r=i)[ga("0xae")][ga("0x59")]==r[ga("0xa0")][ga("0x5a")]&&r[ga("0xae")][ga("0x112")]))e[ga("0x113")](x),n=!0;else{if(!u||!u[ga("0x11f")])continue;s.add(u)}}var r,i;return s[ga("0x54")]>0&&(n=!!this._joinWithAdjacentSuggestions(s)||n),n})),t[ga("0x115")][ga("0x50")].registerPostFixer((e=>{let n=!1;for(const o of t.model[ga("0x50")][ga("0x6")].getChanges()){if(ga("0xa6")!=o[ga("0x121")])continue;const s=o.position[ga("0xff")](o[ga("0xca")]);if(s[ga("0x112")])for(const r of this[ga("0x111")][ga("0x6b")]()){if(r[ga("0xe8")]||!r.isInContent)continue;if(ga("0xd6")!=r.type)continue;const i=r[ga("0x45")]();if(i[ga("0xae")][ga("0x59")]!=i[ga("0xa0")][ga("0x59")]&&i[ga("0xa0")][ga("0x12d")](o.position)){const o=t[ga("0x115")].createRange(i[ga("0xae")],s);e[ga("0xe3")](r[ga("0xa5")](),{range:o}),n=!0}}}return n})),t[ga("0x115")][ga("0x110")].on("update:suggestion",((t,e,n)=>{if(null==n){const{id:t}=this[ga("0x12f")](e.name),n=this[ga("0x111")][ga("0x98")](t);n&&n[ga("0x22")](e[ga("0xcb")])}})),t[ga("0x115")][ga("0x50")].on(ga("0xf2"),(()=>{const e=Array.from(t[ga("0x115")][ga("0x50")][ga("0x6")][ga("0x77")]())[ga("0x7d")]((t=>ga("0xc7")===this[ga("0x12f")](t[ga("0xcb")])[ga("0x17")]));if(0===e[ga("0xca")])return;e[ga("0x128")](((t,e)=>{const n=t[ga("0xf7")][ga("0xe2")],o=e[ga("0xf7")].oldRange;return null===n&&null===o?0:null===n&&null!==o?-1:null!==n&&null===o?1:n[ga("0xae")][ga("0x44")](o[ga("0xae")])?-1:1}));const n=new Set,o=new Set;for(const{name:t,data:s}of e){const{id:e}=this._splitMarkerName(t);if(null===s[ga("0xe2")]){const e=this[ga("0x40")](t);o[ga("0xf8")](e)}else{const t=this._suggestions[ga("0x98")](e);null!==s[ga("0x12")]||t[ga("0x11f")]?(n[ga("0xf8")](t.head),o[ga("0xf8")](t)):this._removeSuggestion(t)}}o.size>0&&this._refreshSuggestionsChain(o);for(const t of n)this[ga("0xd9")](ga("0x108"),t)})),t[ga("0x115")].on("applyOperation",((e,n)=>{const o=n[0];if(!this[ga("0x111")][ga("0x54")])return;if(!o[ga("0x85")])return;if(o.batch[ga("0x67")]||!o[ga("0xd8")].isLocal)return;let s,r;switch(o[ga("0x121")]){case ga("0xa6"):s=t[ga("0x115")][ga("0x120")](o.position),r=s[ga("0xff")](o.howMany);break;case"split":s=t.model[ga("0x120")](o[ga("0x3")]),r=t.model[ga("0x120")](o.moveTargetPosition);break;case ga("0xb2"):s=t.model[ga("0x120")](o[ga("0x4b")]),r=s[ga("0xff")](o[ga("0x95")]);break;default:return}const i=t.model.createRange(s,r);t[ga("0x115")][ga("0x6f")]((()=>{for(const{suggestion:t,meta:e}of this[ga("0xd3")](i)){if(t[ga("0xe8")])continue;if("formatInline"==t[ga("0x121")])continue;const n=t[ga("0xf7")]&&t[ga("0xf7")][ga("0x2e")];(ga("0xd6")!=t[ga("0x121")]||ga("0x87")==o[ga("0x121")]&&!n)&&(e[ga("0x13")]||ga("0x1b")==t[ga("0x121")]&&e.isOwn||t[ga("0x45")]()[ga("0xaa")](i)&&this._breakSuggestionMarker(t,s,r))}}))}),{priority:"lowest"}),t[ga("0x115")].on(ga("0xf0"),((e,n)=>{const o=n[0],s=n[1];if(s&&s.forceDefaultExecution)return;if(this[ga("0x103")])return;if(!this[ga("0x7f")].value)return;if(o.isCollapsed)return;const r=t[ga("0x115")][ga("0x7b")],{start:i,end:x}=o[ga("0x45")](),a=i.nodeAfter&&r[ga("0x73")](i.nodeAfter)?null:r[ga("0x9f")](i,ga("0x10")),c=x[ga("0x5a")]&&r[ga("0x73")](x[ga("0x5a")])?null:r.getNearestSelectionRange(x,ga("0x102")),l=t[ga("0x115")].createRange(a?a.start:i,c?c.end:x);t.model[ga("0x6f")]((e=>{this[ga("0xce")](l);const n=t[ga("0x115")].schema[ga("0x9f")](l[ga("0xae")]);o.is("documentSelection")?e.setSelection(n):o[ga("0xc4")](n)})),e[ga("0x4d")]()}),{priority:e.priorities.normal+10}),t[ga("0x115")].on(ga("0x127"),((e,n)=>{const o=n[n.length-1];o&&o[ga("0x126")]||this[ga("0x103")]||this[ga("0x7f")].value&&(t[ga("0x115")][ga("0x6f")]((()=>{let o=t[ga("0x115")][ga("0x127")](n[0],n[1],n[2],n[3],{forceDefaultExecution:!0});if(!o)return;e[ga("0x4e")]=o[ga("0x7c")]();const s=o[ga("0xa0")][ga("0x5a")],r=t.model.schema;s&&r.isBlock(s)&&!r[ga("0x73")](s)&&(o=t.model[ga("0x41")](o[ga("0xae")],t[ga("0x115")][ga("0x120")](s,"end"))),this[ga("0x7e")](o)})),e[ga("0x4d")]())}),{priority:ga("0xdd")}),this[ga("0x7f")]=new d(t,this._enabledCommands),this[ga("0x10e")].commands[ga("0xf8")](ga("0x80"),this.trackChangesCommand),this[ga("0x24")](ga("0x80"));const o=new p(t,this._suggestions);t[ga("0xd1")][ga("0xf8")](ga("0x10b"),o),this[ga("0x24")](ga("0x10b"));const s=new T(t,this[ga("0x111")]);t[ga("0xd1")][ga("0xf8")](ga("0x38"),s),this.enableCommand(ga("0x38")),t[ga("0xd1")][ga("0xf8")](ga("0xe4"),new N(t,o,this[ga("0x111")])),this[ga("0x24")](ga("0xe4")),t[ga("0xd1")][ga("0xf8")](ga("0x101"),new q(t,s,this[ga("0x111")])),this[ga("0x24")]("discardAllSuggestions"),t.commands[ga("0xf8")](ga("0x8d"),new G(t,o,this[ga("0x111")])),this.enableCommand(ga("0x8d")),t[ga("0xd1")][ga("0xf8")]("discardSelectedSuggestions",new Y(t,s,this[ga("0x111")])),this[ga("0x24")](ga("0x97"));const r=t[ga("0xf5")][ga("0x98")](ga("0x2"));this.listenTo(r,ga("0xf3"),((t,{threadId:e})=>{const n=this[ga("0x111")].get(e);n&&n[ga("0x129")]&&1===n[ga("0x129")].length&&this._updateSuggestionData(e,{hasComments:!0})}),{priority:"low"}),this[ga("0xdc")](r,ga("0xcf"),((t,{threadId:e})=>{const n=this._suggestions[ga("0x98")](e);n&&n.commentThread&&!n[ga("0x129")][ga("0xca")]&&this[ga("0x123")](e,{hasComments:!1})}),{priority:"low"})}set[ga("0x11e")](t){if(this[ga("0xbe")])throw new e.CKEditorError("track-changes-adapter-already-set",this);this[ga("0xbe")]=t}get[ga("0x11e")](){return this[ga("0xbe")]}[ga("0x12e")]({skipNotAttached:t=!1,toJSON:e=!1}={}){const n=[];for(const e of this._suggestions[ga("0x6b")]())t&&!e.isInContent||n[ga("0x8c")](e);return e?n[ga("0xe0")]((t=>t.toJSON())):n}[ga("0x4f")](t){const n=this[ga("0x111")][ga("0x98")](t);if(!n)throw new e.CKEditorError("track-changes-suggestion-not-found",this);return n}[ga("0x116")](t){return this._suggestions[ga("0x19")](t)}addSuggestionData(t){const{id:e,authorId:n,attributes:o}=t,[s,r]=t[ga("0x121")][ga("0x87")](":"),i=this[ga("0x111")][ga("0x98")](e)||this._createSuggestion(s,r,e,n,o);switch(this[ga("0xb0")](i),this[ga("0x47")](i,s,r||null,n),i[ga("0x105")]=t.createdAt,t.data&&(i[ga("0xf7")]=t[ga("0xf7")]),t[ga("0xf1")]&&(i[ga("0xf1")]=t[ga("0xf1")]),this[ga("0xbe")]&&this[ga("0xbe")][ga("0x79")]||(i[ga("0x70")]=!0),this[ga("0x4c")].get(i)){case"notReady":this._suggestionState[ga("0x10d")](i,ga("0x5c"));break;case ga("0x3c"):i[ga("0x11f")]?(this[ga("0x4c")][ga("0x10d")](i,"ready"),this[ga("0xd9")](ga("0x60"),i)):this._suggestionState[ga("0x10d")](i,ga("0x125"))}return i}[ga("0x10b")](t){this[ga("0x126")]((()=>{this.editor[ga("0x115")][ga("0x6f")]((()=>{for(const e of t[ga("0x21")]())e[ga("0xd7")]()}))}))}[ga("0x38")](t){this[ga("0x126")]((()=>{this[ga("0x10e")][ga("0x115")][ga("0x6f")]((()=>{for(const e of t[ga("0x21")]())e[ga("0x92")]()}))}))}[ga("0x24")](t,n){const o=this[ga("0x10e")][ga("0xd1")][ga("0x98")](t);if(!o)throw new e.CKEditorError(ga("0xb7"),this,{commandName:t});this[ga("0x11d")][ga("0xf8")](o),n&&o.on(ga("0x26"),((t,e)=>{this[ga("0x7f")].value&&(this[ga("0x103")]||e[ga("0xca")]>0&&e[e.length-1]&&e[e.length-1][ga("0x126")]||(n(((...t)=>o[ga("0x26")](...t,{forceDefaultExecution:!0})),...e),t[ga("0x4d")]()))}),{priority:ga("0xdd")})}[ga("0x126")](t){let n,o;const s=this[ga("0x103")];this[ga("0x103")]=!0;try{n=t()}catch(t){o=t}return s||(this[ga("0x103")]=!1),o&&e.CKEditorError[ga("0xda")](o,this),n}[ga("0x7e")](t,n=null,o={}){if(t.isCollapsed)return null;const s=this[ga("0x10e")].plugins.get("Users").me;for(const{suggestion:e,meta:o}of this._findSuggestions(t,ga("0x1b")))if(o.isOwn){if(!o[ga("0x12c")])return e;if(n==e.subType){const n=e[ga("0x45")]();return n[ga("0xae")][ga("0x12d")](t[ga("0xa0")])?this[ga("0x2f")](e,this[ga("0x6d")][ga("0x41")](t[ga("0xae")],n[ga("0xa0")])):this._setSuggestionRange(e,this[ga("0x6d")][ga("0x41")](n[ga("0xae")],t[ga("0xa0")])),e}}const r=(0,e.uid)(),i=s.id,x=n?"insertion:"+n:"insertion",a=this[ga("0xe")]({id:r,type:x,createdAt:new Date,authorId:i,attributes:o});return this._addSuggestionMarker(x,r,i,t),a}[ga("0xc5")](t,n=ga("0x30"),o={}){const s=this[ga("0x10e")][ga("0xf5")].get(ga("0x118")).me,r=this._suggestionFactory[ga("0xf6")](ga("0x1b"),n,ga("0x81"));for(const e of this[ga("0x12e")]())if(e[ga("0x15")].id==s.id&&ga("0x1b")==e.type&&e[ga("0x4")]==n&&(r(e[ga("0x104")](),t)||r(t,e[ga("0x104")]()))){for(const n of t)e[ga("0xa9")](n);return e}for(const e of t)for(const{suggestion:n,meta:o}of this[ga("0xd3")](e,ga("0x1b"))){if(!o[ga("0x63")])continue;let e=!0;for(const o of n[ga("0x104")]())for(const n of t)if(!o[ga("0xaa")](n)){e=!1;break}if(e)return n}const i=(0,e.uid)(),x=s.id,a=ga("0xe1")+n,c=this[ga("0xe")]({id:i,type:a,createdAt:new Date,authorId:x,attributes:o});for(const e of t)this[ga("0xd5")](a,i,x,e,ls[ga("0xde")]());return c}[ga("0x64")](t,n,o=null,s={}){if(o=o||Ea(n),t.isCollapsed)return;const r=this.editor[ga("0xf5")][ga("0x98")]("Users").me,i=[];for(const{suggestion:e,meta:n}of this[ga("0xd3")](t,ga("0x1b")))n[ga("0x63")]&&!n[ga("0x39")]&&i.push(...e[ga("0x104")]());const x=function(t,e){const n=[];for(const o of e){const e=t[ga("0x89")](o);e&&n[ga("0x8c")](e)}return n}(t,i),a=function(t,e){const n=[t];for(const t of e){let e=0;for(;e<n[ga("0xca")];){const o=n[e][ga("0x28")](t);n[ga("0xc0")](e,1,...o),e+=o.length}}return n}(t,i);x[ga("0xca")]&&this[ga("0x6d")][ga("0x6f")]((()=>{for(const t of x){const e=this[ga("0x58")][ga("0xf6")]("formatInline",o,"accept");this[ga("0x126")]((()=>e([t],n,s)))}}));for(const t of a){let i=null,x=t.start,a=t[ga("0xa0")];for(const{suggestion:e,meta:n}of this[ga("0xd3")](t,ga("0x8"))){if(!n.isOwn)continue;if(e.subType!=o)continue;const s=e[ga("0x45")]();if(s[ga("0xaa")](t,!0))return;x=x[ga("0x44")](s[ga("0xae")])?x:s.start,a=a[ga("0x7a")](s.end)?a:s.end,i?s[ga("0xae")][ga("0x44")](i[ga("0x45")]()[ga("0xae")])?(i[ga("0xa1")](),i=e):e[ga("0xa1")]():i=e}const c=this[ga("0x6d")].createRange(x,a);if(i)this[ga("0x2f")](i,c);else{const t=(0,e.uid)(),i=r.id;this._setSuggestionData({id:t,type:"formatInline:"+o,data:n,createdAt:new Date,authorId:i,attributes:s}),this[ga("0xd5")](ga("0xf4")+o,t,i,c)}}}[ga("0x33")](t,n,o=[],s=null,r={}){n.formatGroupId||(n.formatGroupId=n[ga("0xa2")]),n[ga("0x2e")]=t.is("range"),s=s||Ea(n);const i=o[ga("0xe0")]((t=>ya(t,this._model))),x=t.is(ga("0x109"))?t:ya(t,this[ga("0x6d")]);i[ga("0x8c")](x);let a=!0;for(const t of i)if(!this[ga("0x9d")](t)){a=!1;break}if(a){const t=this[ga("0x58")].getSuggestionCallback("formatBlock",s,ga("0xd7"));return void this[ga("0x126")]((()=>t([x],n,r)))}let c=null,l=x.start,u=x.end;for(const{suggestion:t,meta:e}of this._findSuggestions(x,ga("0xd6"))){if(!e.isOwn||e[ga("0x12c")]||e[ga("0x13")]||e[ga("0x39")])continue;if(t[ga("0xf7")].formatGroupId!=n[ga("0x69")])continue;const o=t[ga("0x45")]();if(t[ga("0x4")]==s){if(o.containsRange(x,!0))return;l=l[ga("0x44")](o.start)?l:o[ga("0xae")],u=u[ga("0x7a")](o[ga("0xa0")])?u:o.end,c?o[ga("0xae")][ga("0x44")](c[ga("0x45")]()[ga("0xae")])?(c[ga("0xa1")](),c=t):t[ga("0xa1")]():c=t}else{const e=x[ga("0x89")](o);this[ga("0xaf")](t,e)}}const d=this[ga("0x10e")][ga("0xf5")].get(ga("0x118")).me,g=(0,e.uid)(),f=d.id;c?this[ga("0x2f")](c,this._model.createRange(l,u)):(this._setSuggestionData({id:g,type:"formatBlock:"+s,data:n,createdAt:new Date,authorId:f,attributes:r}),this[ga("0xd5")]("formatBlock:"+s,g,f,this[ga("0x6d")][ga("0x41")](l,u)))}[ga("0x23")](t,n,o=[],s=null,r={}){n[ga("0x69")]||(n[ga("0x69")]=n.commandName),n.multipleBlocks=!1,s=s||Ea(n);const i=o[ga("0xe0")]((t=>ya(t,this[ga("0x6d")]))),x=t[ga("0xe0")]((t=>ya(t,this[ga("0x6d")])));i[ga("0x8c")](...x);let a=!0;for(const t of i)if(!this[ga("0x9d")](t)){a=!1;break}if(a){const t=this[ga("0x58")][ga("0xf6")](ga("0xd6"),s,ga("0xd7"));return void this.forceDefaultExecution((()=>t(x,n,r)))}const c=this[ga("0x10e")][ga("0xf5")][ga("0x98")](ga("0x118")).me;for(const t of this[ga("0x12e")]()){if(t[ga("0x15")].id!=c.id)continue;if(ga("0xd6")!=t.type||t[ga("0xf7")].formatGroupId!=n[ga("0x69")])continue;const e=t[ga("0x4")]==s;for(let n=0;n<x[ga("0xca")];n++){const o=x[n];for(const s of t.getMarkers()){const r=s[ga("0x3f")]();if(o[ga("0x12d")](r)){e?(x.splice(n,1),n--):t.removeMarker(s.name);break}}}}if(0==x[ga("0xca")])return;const l=this[ga("0x58")][ga("0xf6")](ga("0xd6"),s,"join");for(const t of this[ga("0x12e")]())if(t.author.id==c.id&&"formatBlock"==t.type&&t[ga("0xf7")].formatGroupId==n.formatGroupId&&t.subType==s&&(l(t.getRanges(),x)||l(x,t[ga("0x104")]()))){for(const e of x)t.addRange(e);return t}const u=(0,e.uid)(),d=c.id,g="formatBlock:"+s,f=this[ga("0xe")]({id:u,type:g,data:n,createdAt:new Date,authorId:d,attributes:r});for(const t of x)this[ga("0xd5")](g,u,d,t,ls[ga("0xde")]());return f}markDeletion(t,n=null,o={}){if(t[ga("0x6e")])return null;const s=this.editor[ga("0xf5")][ga("0x98")](ga("0x118")).me,r=new i.LiveRange(t.start,t[ga("0xa0")]);for(const{suggestion:t,meta:e}of this._findSuggestions(r,ga("0x1b")))if(e[ga("0x63")]&&!e[ga("0x12c")])if(t[ga("0xe8")]){const e=t[ga("0x104")]()[ga("0x7d")]((t=>ga("0xea")!=t[ga("0x78")].rootName));if(e.every((t=>r[ga("0xaa")](t,!0)))&&t.discard(),e[ga("0x55")]((t=>t[ga("0xaa")](r,!0)))){const t=this[ga("0x58")][ga("0xf6")](ga("0x9a"),n,"accept");return this[ga("0x126")]((()=>t([r],null,o))),null}}else{const e=r[ga("0x89")](t.getFirstRange());t._onDiscard([e],null,o)}if(r[ga("0x122")](),r[ga("0x6e")]||ga("0xea")==r[ga("0x78")][ga("0xa3")])return null;let x=null,a=r.start,c=r[ga("0xa0")];for(const{suggestion:t,meta:e}of this[ga("0xd3")](r,"deletion"))if(e[ga("0x63")])if(t[ga("0xe8")]){let e=!0;for(const n of t[ga("0x104")]()){if(n[ga("0xaa")](r,!0))return t;r[ga("0xaa")](n)||(e=!1)}e&&t.discard()}else{const e=t.getFirstRange();if(e[ga("0xaa")](r,!0))return t;a=a.isBefore(e[ga("0xae")])?a:e[ga("0xae")],c=c[ga("0x7a")](e.end)?c:e[ga("0xa0")],x?e[ga("0xae")][ga("0x44")](x.getFirstRange()[ga("0xae")])?(x.removeMarkers(),x=t):t[ga("0xa1")]():x=t}if(x)return this._setSuggestionRange(x,this[ga("0x6d")][ga("0x41")](a,c)),x;{const t=(0,e.uid)(),r=this[ga("0x6d")][ga("0x41")](a,c),i=s.id,x=n?ga("0x2d")+n:ga("0x9a"),l=this._setSuggestionData({id:t,type:x,createdAt:new Date,authorId:i,attributes:o});return this[ga("0xd5")](x,t,i,r),l}}[ga("0x84")](t,n=ga("0x30"),o={}){const s=this.editor[ga("0xf5")].get(ga("0x118")).me,r=t[ga("0xe0")]((t=>new i.LiveRange(t[ga("0xae")],t.end))),x=new Set;for(const t of r)for(const{suggestion:e,meta:n}of this[ga("0xd3")](t,"insertion"))n[ga("0x63")]&&!n[ga("0x12c")]&&x.add(e);for(const e of x)if(e[ga("0xe8")]){const s=e[ga("0x104")]();if((!e.attributes||!e[ga("0xf1")][ga("0x18")])&&s[ga("0xf")]((t=>r[ga("0x55")]((e=>e[ga("0xaa")](t,!0)))))&&e.discard(),r[ga("0xf")]((t=>s.some((e=>e[ga("0xaa")](t,!0)))))){const e=this[ga("0x58")][ga("0xf6")](ga("0x9a"),n,"accept");return this[ga("0x126")]((()=>e(t,null,o))),null}}else{const t=e[ga("0x45")]();if(r.some((e=>e[ga("0xaa")](t,!0)))&&e[ga("0x92")](),r[ga("0xf")]((e=>t[ga("0xaa")](e,!0)))){const t=this[ga("0x58")].getSuggestionCallback(ga("0x9a"),n,ga("0xd7"));return this[ga("0x126")]((()=>t(r,null,o))),null}}const a=this[ga("0x58")].getSuggestionCallback("deletion",n,ga("0x81"));let c=null;for(const t of this[ga("0x12e")]())if(t[ga("0x15")].id==s.id&&t[ga("0x11f")]&&ga("0x9a")==t.type&&t.subType==n&&(a(t[ga("0x104")](),r)||a(r,t[ga("0x104")]())))if(c){if(t[ga("0x129")]&&t[ga("0x129")][ga("0xca")])continue;for(const e of t[ga("0x104")]())c[ga("0x53")](e)||c[ga("0xa9")](e);t.removeMarkers()}else{c=t;for(const e of r)t[ga("0x53")](e)||t.addRange(e)}if(c)return c;x[ga("0xcc")]();for(const t of r)for(const{suggestion:e,meta:n}of this[ga("0xd3")](t,ga("0x9a")))n[ga("0x63")]&&x.add(e);for(const t of x){const e=t.getRanges();if((!o||!o[ga("0x18")])&&r.every((t=>e[ga("0x55")]((e=>e[ga("0xaa")](t,!0))))))return t;(!t[ga("0xf1")]||!t[ga("0xf1")][ga("0x18")])&&e[ga("0xf")]((t=>r[ga("0x55")]((e=>e[ga("0xaa")](t,!0)))))&&t[ga("0x92")]()}const l=(0,e.uid)(),u=s.id,d=ga("0x2d")+n,g=this[ga("0xe")]({id:l,type:d,createdAt:new Date,authorId:u,attributes:o});for(const t of r)t.detach(),t[ga("0x6e")]||ga("0xea")==t[ga("0x78")][ga("0xa3")]||this[ga("0xd5")](d,l,u,t,ls[ga("0xde")]());return g}_setSuggestionRange(t,e){const n=t[ga("0xa5")]();this[ga("0x6d")][ga("0x6f")]((t=>{t[ga("0xe3")](n,{range:e})}))}_addThreadToSuggestion(t){const e=t.id,n=this[ga("0x10e")].config[ga("0x98")]("collaboration.channelId");this[ga("0x10f")][ga("0x9")](e)||this[ga("0x10f")][ga("0x61")]({channelId:n,threadId:e});const o=this[ga("0x10f")].getCommentThread(e);o[ga("0xd")](ga("0xe6")),o[ga("0xe6")]=!1,t[ga("0x129")]=o}[ga("0x47")](t,n,o,s){if(t[ga("0x121")]!=n||t[ga("0x4")]!=o||t.author.id!=s)throw this.editor.enableReadOnlyMode(ga("0x32")),new e.CKEditorError(ga("0x32"),this)}_cutOutSuggestionMarker(t,n){const o=t[ga("0x45")]();if(n[ga("0x12d")](o))t[ga("0xa1")]();else if(o.containsRange(n)){const s=this[ga("0x6d")][ga("0x120")](n.start.nodeBefore,ga("0xa0"));this._setSuggestionRange(t,this[ga("0x6d")].createRange(o[ga("0xae")],s));const r=(0,e.uid)(),i=t.author.id,x=t[ga("0x121")]+":"+t[ga("0x4")];this._setSuggestionData({id:r,type:x,createdAt:new Date,authorId:i,data:t[ga("0xf7")],attributes:t[ga("0xf1")]});const a=this[ga("0x6d")][ga("0x120")](n[ga("0xa0")].parent,ga("0x9e")),c=this[ga("0x6d")][ga("0x41")](a,o[ga("0xa0")]);this[ga("0xd5")](x,r,i,c)}else if(o[ga("0x3b")](n.start)){const e=this[ga("0x6d")][ga("0x120")](n[ga("0xae")][ga("0x5a")],ga("0xa0"));this[ga("0x2f")](t,this._model[ga("0x41")](o.start,e))}else{const e=this[ga("0x6d")].createPositionAt(n[ga("0xa0")][ga("0x59")],ga("0x9e"));this[ga("0x2f")](t,this[ga("0x6d")][ga("0x41")](e,o[ga("0xa0")]))}}[ga("0x9d")](t){for(const{suggestion:e,meta:n}of this._findSuggestions(t,ga("0x1b"))){if(!n[ga("0x63")])continue;const o=e.getRanges();for(const e of o)if(!t.getDifference(e)[ga("0xca")])return!0}return!1}[ga("0xab")](t){const n=this.editor.plugins[ga("0x98")](ga("0x118")).getUser(t);if(!n)throw new e.CKEditorError(ga("0x9c"),this);return n}[ga("0xad")](t){const e=this[ga("0x10e")][ga("0xf5")][ga("0x98")]("Users"),n="external:"+t;return e[ga("0x10a")](n)||e[ga("0xc9")]({id:n,name:t})}_createSuggestion(t,e,n,o,s){const r=this[ga("0xab")](o);let i=null;s&&s[ga("0xdb")]&&(i=this[ga("0xad")](s[ga("0xdb")][ga("0x43")]));const x=this[ga("0x58")][ga("0xfc")](t,e,n,r,i,(t=>this[ga("0x123")](n,{attributes:t})));return this[ga("0xdc")](x,ga("0xd7"),(()=>{this[ga("0x123")](n,{state:ga("0x42")})}),{priority:"high"}),this[ga("0xdc")](x,"discard",(()=>{this._updateSuggestionData(n,{state:ga("0xee")})}),{priority:ga("0xdd")}),this._suggestions.set(n,x),this[ga("0x4c")][ga("0x10d")](x,ga("0x1")),x}[ga("0x12f")](t){const e=t[ga("0x87")](":");return{group:e[0],type:e[1],subType:e[ga("0xca")]>=5?e[2]:null,id:e[ga("0xca")]<5?e[2]:e[3],authorId:e[ga("0xca")]<5?e[3]:e[4],markerCount:6==e[ga("0xca")]?e[5]:null}}_breakSuggestionMarker(t,n,o){const s=t[ga("0x45")](),r=s[ga("0xae")],i=s[ga("0xa0")];this._setSuggestionRange(t,this[ga("0x6d")][ga("0x41")](r,n));const x=(0,e.uid)(),a=t[ga("0x15")].id,c=t[ga("0x121")]+(t.subType?":"+t[ga("0x4")]:"");this[ga("0xe")]({id:x,type:c,createdAt:new Date,authorId:a,originalSuggestionId:t.id,attributes:t[ga("0xf1")],data:t[ga("0xf7")]}),ga("0xd6")==t[ga("0x121")]&&(o=this._model[ga("0xfa")](o[ga("0x59")])),this[ga("0xd5")](c,x,a,this._model.createRange(o,i))}[ga("0xd3")](t,e=null){const n=[],o=this[ga("0x6d")][ga("0x7b")],s=this.editor[ga("0xf5")][ga("0x98")]("Users").me;for(const r of this[ga("0x12e")]())if(r[ga("0x11f")]&&(!e||r[ga("0x121")]==e))for(const e of r[ga("0x104")]()){const i=t[ga("0xae")][ga("0x12d")](e[ga("0xa0")])||t.end.isEqual(e[ga("0xae")]);if(i||t.getIntersection(e)){const x=t[ga("0xaa")](e)&&ha(o,e[ga("0xae")],t),a=e.containsRange(t)&&ha(o,t[ga("0xae")],e);n.push({suggestion:r,meta:{isOwn:s==r[ga("0x15")],isNextTo:i,isInsideObject:x,containsRangeInObject:a}});break}}return n}[ga("0xd5")](t,e,n,o,s=null){this[ga("0x6d")].change((r=>{let i=ga("0x88")+t+":"+e+":"+n;s&&(i=i+":"+s),r[ga("0xbb")](i,{range:o,usingOperation:!0,affectsData:!0})}))}_removeSuggestion(t){const e=t[ga("0x1c")],n=t[ga("0xa4")];t[ga("0x1c")]=null,null!=e&&(e.next=null),t.next=null,null!=n&&(n[ga("0x1c")]=null),ga("0xe5")==this[ga("0x4c")][ga("0x98")](t)&&(this[ga("0x4c")][ga("0x10d")](t,ga("0x125")),this[ga("0xd9")](ga("0xed"),t,e,n))}[ga("0xe")](t){const n=t.id,o=this.addSuggestionData(t);if(this._adapter&&this[ga("0xbe")][ga("0x79")]){const s=this[ga("0x10e")].plugins[ga("0x98")]("PendingActions"),r=o[ga("0x11a")],i=o[ga("0x4")]?o.type+":"+o[ga("0x4")]:o[ga("0x121")],x=this[ga("0x10e")].locale,a=s[ga("0xf8")](us(x,ga("0xeb"))),c={id:n,type:i,hasComments:r,data:t[ga("0xf7")]||null,originalSuggestionId:t[ga("0x0")]||null,attributes:o[ga("0xf1")]};this[ga("0xbe")][ga("0x79")](c)[ga("0x10c")]((t=>{o[ga("0x70")]=!0,s[ga("0xd2")](a),t&&t[ga("0x105")]&&(this[ga("0x111")][ga("0x98")](n)[ga("0x105")]=t[ga("0x105")])}))[ga("0xd0")]((t=>{throw(0,e.logWarning)(ga("0x1f")),this[ga("0x10e")][ga("0x115")][ga("0x7")]({isUndoable:!1},(()=>{o[ga("0x92")]()})),o[ga("0x2c")](),this[ga("0x111")][ga("0x76")](o.id),this._suggestionState[ga("0x76")](o),t}))}return o}[ga("0x123")](t,e){const n=this.editor[ga("0xf5")][ga("0x98")](ga("0x5e")),o=this[ga("0x111")][ga("0x98")](t);if(this._adapter&&this[ga("0xbe")][ga("0x2b")])if(o[ga("0x70")]){const o=n[ga("0xf8")](us(this[ga("0x10e")][ga("0x25")],"PENDING_ACTION_SUGGESTION"));this[ga("0xbe")][ga("0x2b")](t,e).then((()=>{n.remove(o)}))}else o.on(ga("0x99"),(()=>{this._updateSuggestionData(t,e)}))}[ga("0xc")](t){if(!this[ga("0xbe")]||!this[ga("0xbe")][ga("0x4f")])throw new e.CKEditorError("track-changes-adapter-missing-getsuggestion",this);return this._adapter.getSuggestion(t)}[ga("0x40")](t){const{id:e,type:n,subType:o,authorId:s}=this[ga("0x12f")](t),r=this[ga("0x111")][ga("0x98")](e)||this._createSuggestion(n,o,e,s);switch(this[ga("0x47")](r,n,o,s),this[ga("0x4c")][ga("0x98")](r)){case ga("0x1"):this[ga("0xc")](e)[ga("0x10c")]((t=>{let n=Promise[ga("0xb4")]();t[ga("0x11a")]&&(n=this[ga("0x10f")][ga("0x12b")]({channelId:this[ga("0x10e")][ga("0xa7")][ga("0x98")]("collaboration.channelId"),threadId:e})),n[ga("0x10c")]((()=>{this[ga("0x91")](t)._saved=!0}))})),this._suggestionState[ga("0x10d")](r,ga("0x3c"));break;case ga("0x125"):this[ga("0x123")](e,{state:ga("0xfb")});case ga("0x5c"):this._suggestionState[ga("0x10d")](r,ga("0xe5")),this[ga("0xd9")](ga("0x60"),r);break;case"ready":this[ga("0xd9")](ga("0x108"),r)}return r.addMarkerName(t),r}[ga("0x9b")](t){const e=Array.from(t)[ga("0x7d")]((t=>!t[ga("0xe8")])),n=this.getSuggestions({skipNotAttached:!0}).filter((t=>!t[ga("0xe8")])),o=n.filter((e=>!t[ga("0x19")](e))),s=new Map(n.map((t=>[t,this._suggestionFactory.getSuggestionCallback(t[ga("0x121")],t.subType,ga("0x11"))]))),r=new Map(n.map((t=>[t,t[ga("0x45")]()]))),i=new Set,x=new Set;for(let t=0;t<e[ga("0xca")];t++)a(e[t],e,t+1);for(let t=0;t<e[ga("0xca")];t++)a(e[t],o,0);for(let t=0;t<e[ga("0xca")];t++){const n=e[t];!x[ga("0x19")](n)&&n[ga("0x1c")]&&(n[ga("0x1c")].next===n&&(n[ga("0x1c")][ga("0xa4")]=null),n[ga("0x1c")]=null),!i[ga("0x19")](n)&&n[ga("0xa4")]&&(n[ga("0xa4")][ga("0x1c")]===n&&(n[ga("0xa4")][ga("0x1c")]=null),n[ga("0xa4")]=null)}function a(t,e,n){for(let o=n;o<e[ga("0xca")];o++){const n=c(t,e[o]);n&&(n[0].next=n[1],n[1].previous=n[0],i[ga("0xf8")](n[0]),x[ga("0xf8")](n[1]))}}function c(t,e){if(t[ga("0x15")].id!==e.author.id)return null;const n=s[ga("0x98")](t)(t,e,r[ga("0x98")](t),r[ga("0x98")](e));return n&&s[ga("0x98")](e)(t,e,r[ga("0x98")](t),r[ga("0x98")](e))?n[1].commentThread&&n[1][ga("0x129")][ga("0xca")]?null:n:null}}[ga("0x5b")](t){const e=Array[ga("0xba")](t),n=this.getSuggestions({skipNotAttached:!0}),o=n[ga("0x7d")]((e=>!t[ga("0x19")](e))),s=new Map(e[ga("0xe0")]((t=>[t,this[ga("0x58")][ga("0xf6")](t[ga("0x121")],t.subType,ga("0x81"))]))),r=new Map(n[ga("0xe0")]((t=>[t,t.getRanges()])));for(let t=0;t<e[ga("0xca")];t++)if(i(this,e[t],e,t+1))return!0;for(let t=0;t<e.length;t++)if(i(this,e[t],o,0))return!0;return!1;function i(t,e,n,o){for(let i=o;i<n[ga("0xca")];i++){const o=n[i];if(o[ga("0x121")]!==e[ga("0x121")]||o[ga("0x15")].id!==e.author.id||o[ga("0x4")]!==e[ga("0x4")])continue;const x=s[ga("0x98")](e),a=r[ga("0x98")](e),c=r[ga("0x98")](o),l=e[ga("0x129")]&&e[ga("0x129")][ga("0xca")],u=o.commentThread&&o[ga("0x129")][ga("0xca")];if(!l&&x(c,a))return t[ga("0xbc")](o,e),r[ga("0x76")](e),!0;if(!u&&x(a,c))return t[ga("0xbc")](e,o),r[ga("0x76")](o),!0}return!1}}_joinSuggestions(t,e){if(t[ga("0xe8")])for(const n of e.getRanges())t[ga("0xa9")](n);else{const n=e[ga("0x45")]()[ga("0xa0")];this[ga("0x2f")](t,this._model[ga("0x41")](t.getFirstRange().start,n))}e[ga("0xa1")]()}}(0,e.mix)(fa,e.EmitterMixin);class ma{constructor(t){this[ga("0x11c")]=t,this[ga("0x6d")]=t[ga("0x115")],this[ga("0x20")]=new Map,this[ga("0xb3")]=new Map,this[ga("0xd4")]()}[ga("0xfc")](t,e,n,o,s,r){return new ls(this._model,{type:t,subType:e,id:n,author:o,externalAuthor:s,onAttributesChange:r,onAccept:(...n)=>this.getSuggestionCallback(t,e,"accept")(...n),onDiscard:(...n)=>this[ga("0xf6")](t,e,"discard")(...n)})}[ga("0x4a")](t,e,n,o){const s=t+":"+e+":"+n;this[ga("0x20")][ga("0x10d")](s,o)}[ga("0xf6")](t,e,n){const o=t+":"+e+":"+n;return this[ga("0x20")][ga("0x98")](o)||this[ga("0xb3")][ga("0x98")](t+":"+n)}[ga("0xd4")](){const t=()=>{},e=t=>{t.sort(((t,e)=>t.start[ga("0x44")](e[ga("0xae")])?1:-1)),this[ga("0x6d")][ga("0x6f")]((e=>{for(const n of t){let t;t=n[ga("0xa0")][ga("0x112")]&&n[ga("0xa0")][ga("0x59")]==n[ga("0xae")].nodeAfter?e[ga("0x72")](n[ga("0xae")][ga("0x46")],"on"):e.createSelection(n),this[ga("0x6d")].deleteContent(t,{forceDefaultExecution:!0,doNotAutoparagraph:!0})}}))},n=(t,e)=>{this[ga("0x6d")][ga("0x6f")]((n=>{const{commandName:o,commandParams:s=[]}=e,r=t[0];if(ga("0xea")==r.root[ga("0xa3")])return;const x=Array[ga("0xba")](this[ga("0x6d")][ga("0x50")][ga("0x11b")][ga("0x104")]())[ga("0xe0")]((t=>i.LiveRange[ga("0x36")](t)));pa(r)?n[ga("0x34")](this[ga("0x6d")][ga("0x41")](r[ga("0xa0")])):n[ga("0x34")](r);for(const t of this[ga("0x11c")].commands[ga("0xd1")]())t[ga("0x114")]();s.push({forceDefaultExecution:!0}),this[ga("0x11c")][ga("0x26")](o,...s);const a=x.filter((t=>ga("0xea")!=t[ga("0x78")][ga("0xa3")]));a[ga("0xca")]>0&&n[ga("0x34")](a);for(const t of x)t[ga("0x122")]()}))},o=(t,e)=>1==t[ga("0xca")]&&1==e.length&&t[0].end.isEqual(e[0][ga("0xae")]),s=(t,e,n,o)=>Ta(t,e,n,o,this[ga("0x6d")])?[t,e]:Ta(e,t,o,n,this._model)?[e,t]:null;this[ga("0xb3")][ga("0x10d")](ga("0x75"),t),this[ga("0xb3")][ga("0x10d")](ga("0xb8"),e),this[ga("0xb3")][ga("0x10d")](ga("0x8e"),o),this._defaultCallbacks[ga("0x10d")](ga("0x65"),s),this._defaultCallbacks.set(ga("0x90"),e),this._defaultCallbacks[ga("0x10d")](ga("0x57"),t),this[ga("0xb3")][ga("0x10d")](ga("0xef"),o),this[ga("0xb3")][ga("0x10d")](ga("0x62"),s),this[ga("0xb3")][ga("0x10d")](ga("0xa8"),n),this[ga("0xb3")][ga("0x10d")](ga("0x100"),t),this[ga("0xb3")].set(ga("0x6a"),o),this[ga("0xb3")][ga("0x10d")](ga("0xf9"),t),this[ga("0xb3")][ga("0x10d")](ga("0x106"),n),this[ga("0xb3")].set(ga("0xc8"),t),this._defaultCallbacks.set(ga("0x68"),o),this[ga("0xb3")][ga("0x10d")](ga("0xb6"),t)}}function ha(t,e,n){for(const o of e[ga("0x59")][ga("0x52")]({includeSelf:!0,parentFirst:!0})){if(o[ga("0x78")]==o)return!1;if(!n.containsItem(o))return!1;if(t[ga("0x73")](o)||t[ga("0x27")](o))return!0}}function pa(t){return t[ga("0xa0")].parent==t.start[ga("0x46")]&&t[ga("0xa0")][ga("0x3e")]}function ba(t,e,n,o){const s=t=>!t[ga("0x93")].is("textProxy")&&!o[ga("0x73")](t.item),r=t[ga("0xae")][ga("0xb5")](s),i=t[ga("0xa0")][ga("0xb5")](s,{direction:"backward"});return!(t.start[ga("0x12d")](r)&&t[ga("0xa0")].isEqual(i)||(r[ga("0x44")](i)?n[ga("0xe3")](e,{range:n[ga("0x41")](r,i)}):n[ga("0x113")](e),0))}function Ea(t){return function(t){let e=0,n=0;for(const o of ia(t))e=(e<<5)-e+o,e&=e,[e,n]=[n,e];return ca(e)+ca(n)}(t)}function _a(t){const e=t[ga("0xae")][ga("0x46")];return e&&e.is(ga("0xc6"))}function ya(t,e){const n=e[ga("0x7b")][ga("0x73")](t)||e.schema[ga("0x14")](t);return e[ga("0x41")](e[ga("0x120")](t,ga("0x8a")),n?e.createPositionAfter(t):e[ga("0x120")](t,ga("0xa0")))}function Ta(t,e,n,o,s){if(n[ga("0xa0")].isEqual(o.start))return!0;if(t[ga("0x121")]!=e[ga("0x121")])return!1;if(!n[ga("0xa0")][ga("0x1d")](o.start))return!1;const r=s[ga("0x41")](n[ga("0xa0")],o[ga("0xae")])[ga("0xb1")]();for(const t of r)if([ga("0x124"),"elementEnd"][ga("0x1e")](t[ga("0x121")])&&s[ga("0x7b")].isLimit(t[ga("0x93")]))return!1;return!0}var Ca,ka,va=["acceptSuggestion","execute","stopListening","discardSuggestion","_discardCommand","commentThreadController","isEnabled","listenTo","unbind","model","view","bind","destroy","_acceptCommand"];Ca=va,ka=427,function(t){for(;--t;)Ca.push(Ca.shift())}(++ka);var Aa=function(t,e){return va[t-=0]};class Ra{constructor(t,e,n,o,s){this[Aa("0x2")]=t,this[Aa("0x3")]=e,this[Aa("0xc")]=s,this[Aa("0x6")]=n,this[Aa("0xb")]=o,this.view[Aa("0x4")](Aa("0xd")).to(this[Aa("0x6")]),this.listenTo(e,"acceptSuggestion",(()=>this[Aa("0x7")]())),this[Aa("0x0")](e,Aa("0xa"),(()=>this[Aa("0xa")]()))}[Aa("0x7")](){this[Aa("0x6")][Aa("0x8")](this[Aa("0x2")].id)}[Aa("0xa")](){this[Aa("0xb")].execute(this[Aa("0x2")].id)}[Aa("0x5")](){this[Aa("0x3")][Aa("0x1")](Aa("0xd")),this[Aa("0x9")](),this[Aa("0xc")][Aa("0x5")]()}}(0,e.mix)(Ra,e.ObservableMixin);const Sa=["fire","updateComment","destroy","_config","bind","removeComment","cancel","focus","assign","length","isEnabled","_localUser","hasDirtyComment","createdAt","isReadOnly","editor","set","descriptionParts","_model","commentsListView","setData","isActive","disableComments","isDirty","_createCommentThreadInputView","_createCommentViews","locale","value","commentThreadInputView","commentInputView","showInput","commentThread","addComment"];var Ia,wa;Ia=Sa,wa=409,function(t){for(;--t;)Ia.push(Ia.shift())}(++wa);const Ma=function(t,e){return Sa[t-=0]};class Na extends s.View{constructor(t,e,n,o){super(t),this[Ma("0x6")]=null,this[Ma("0xf")]=null,this.set(Ma("0x8"),!1),this[Ma("0x3")]("createdAt",e[Ma("0x0")]),this.bind(Ma("0x0")).to(e),this[Ma("0x3")](Ma("0x4"),[]),this[Ma("0x3")](Ma("0xa"),!1),this[Ma("0x3")](Ma("0x1e"),!1),this[Ma("0x5")]=e,this._localUser=n,this._config=o,o[Ma("0x9")]?this.set(Ma("0x1d"),1):this[Ma("0xc")]()}[Ma("0x1b")](){this.element[Ma("0x1b")]()}[Ma("0x16")](){this[Ma("0xa")]=!1,this[Ma("0x6")]&&this.commentsListView[Ma("0x16")](),this.commentThreadInputView&&this[Ma("0xf")][Ma("0x16")](),super[Ma("0x16")]()}[Ma("0xc")](){const{CommentsListView:t}=this[Ma("0x17")];this[Ma("0x6")]=new t(this[Ma("0xd")],this._model[Ma("0x12")],Object[Ma("0x1c")]({CommentView:this[Ma("0x17")].CommentView},this[Ma("0x17")])),this[Ma("0x6")].delegate(Ma("0x19")).to(this),this[Ma("0x6")].delegate(Ma("0x15")).to(this),this[Ma("0x6")][Ma("0x18")](Ma("0x8")).to(this),this[Ma("0x3")](Ma("0x1d"),this[Ma("0x6")][Ma("0x1d")]+1),this.bind("length").to(this.commentsListView,Ma("0x1d"),(t=>t+1)),this[Ma("0xf")]=this[Ma("0xb")](),this.on("removeComment",(()=>this[Ma("0x1b")]())),this[Ma("0x18")](Ma("0xa")).to(this.commentsListView,Ma("0x20"),this[Ma("0xf")][Ma("0x10")],Ma("0xe"),((t,e)=>t||!!e))}[Ma("0xb")](){const{CommentThreadInputView:t}=this._config,e=new t(this[Ma("0xd")],this[Ma("0x1f")],this[Ma("0x17")].editorConfig),n=e.commentInputView;return e[Ma("0x18")](Ma("0x11")).to(this,Ma("0x8"),this[Ma("0x5")].commentThread,"isReadOnly",n,Ma("0xe"),((t,e,n)=>!!n||t&&!e)),n.on("submit",((t,e)=>{this[Ma("0x14")](Ma("0x13"),e),n[Ma("0x2")][Ma("0x7")]("")})),n.on(Ma("0x1a"),(()=>this[Ma("0x1b")]())),n[Ma("0x18")]("disabledSubmit").to(this._model[Ma("0x12")],Ma("0x1")),e}}const La=["name","isActive","type","push","div","locale","@external","discardButton","ck-annotation__main","commentsListView","ck-annotation__info-time","change:description","join","ck-annotation__content-wrapper","bind","querySelector","getTemplate","ck-annotation","span","ck-suggestion",'<span class="ck-suggestion-color" style="background-color: ',"value","check","_model","children","</p>","externalAuthor","map","disableComments","userView","ck-annotation__info-name","innerHTML","_createButton","set","ck-suggestion--discard","commentThreadInputView","ck-annotation__info","</span>","render","createElement","_config",'<span class="ck-suggestion-type">',"ck-suggestion-","ck-suggestion__info-name","EXTERNAL_SUGGESTION",".ck-annotation__content-wrapper","setTemplate","split","acceptButton","author","ck-comment__external","commentThread","ck-suggestion__info","formatDateTime","extendTemplate","ck-comment__info-time","_descriptionElement","<p>","ck-suggestion__actions","ck-annotation__actions","ck-suggestion--accept","ck-suggestion__user","ck-suggestion-wrapper","descriptionParts","element","description","createdAt","acceptSuggestion","title","ck-annotation__user","ck-suggestion__main"];var Oa,Fa;Oa=La,Fa=109,function(t){for(;--t;)Oa.push(Oa.shift())}(++Fa);const Da=function(t,e){return La[t-=0]};class Pa extends Na{constructor(e,n,o,s){super(e,n,o,s),this[Da("0x42")]("type",""),this[Da("0x2f")]("type").to(this,Da("0x19"),(t=>t&&t[0]?t[0][Da("0x23")]:"")),this[Da("0x2f")]("description").to(this,Da("0x19"),this,Da("0x22"),((t,e)=>{let n="";for(const e of t)n+=Da("0x13")+Ba(e.content,e.color)+Da("0x3a");return e?n:(0,r.trimHtml)(n,{limit:140})})),this[Da("0x12")]=null,this.acceptButton=this._createButton(us(e,"Accept suggestion"),t.icons[Da("0x37")],Da("0x16"),Da("0x1d"),"sw"),this.discardButton=this._createButton(us(e,"Discard suggestion"),t.icons.cancel,Da("0x43"),"discardSuggestion","sw");const i=this[Da("0x38")].externalAuthor?this[Da("0x38")].attributes[Da("0x27")]:this[Da("0x38")];this.set(Da("0x1c"),i.createdAt),this[Da("0x3e")]=new r.UserView(e,this[Da("0x38")][Da("0x3b")]||this[Da("0x38")][Da("0xb")]),this[Da("0x3e")][Da("0x10")]({attributes:{class:[Da("0x17"),Da("0x1f")]}}),this[Da("0x8")](this[Da("0x31")]())}[Da("0x31")](){const t=this.bindTemplate,e=[{tag:Da("0x25"),attributes:{class:[Da("0xe"),Da("0x45")]},children:[{tag:Da("0x33"),children:[{text:this[Da("0x3e")][Da("0x21")]}],attributes:{class:[Da("0x5"),Da("0x3f")]}},{tag:"time",attributes:{datetime:t.to("createdAt"),class:[Da("0x11"),Da("0x2b")]},children:[{text:t.to(Da("0x1c"),(t=>this._config[Da("0xf")](t)))}]}]},{tag:"div",attributes:{class:[Da("0x14"),Da("0x15")]},children:[this[Da("0xa")],this[Da("0x28")]]},{tag:Da("0x25"),attributes:{class:[Da("0x2e")]}}];this._model[Da("0x3b")]&&e[Da("0x24")]({tag:Da("0x25"),attributes:{class:[Da("0xc")]},children:[{text:us(this[Da("0x26")],Da("0x6"))}]});const n={tag:Da("0x25"),attributes:{class:[Da("0x18"),t.if(Da("0x22"),"ck-suggestion-wrapper--active"),t.to(Da("0x23"),(t=>Da("0x4")+t)),this[Da("0x2")][Da("0x3d")]&&"ck-suggestion--disabled-comments"],"data-suggestion-id":this._model.id,"data-thread-id":this[Da("0x38")][Da("0xd")].id,"data-author-id":this[Da("0x38")][Da("0xb")].id,tabindex:-1},children:[{tag:Da("0x25"),attributes:{class:[Da("0x34"),Da("0x32")]},children:[this.userView,{tag:Da("0x25"),attributes:{class:[Da("0x20"),Da("0x29")]},children:e}]}]};return this.commentsListView&&this[Da("0x44")]&&n[Da("0x39")][Da("0x24")](this[Da("0x2a")],this[Da("0x44")]),n}[Da("0x0")](){super[Da("0x0")](),this[Da("0x12")]=this[Da("0x1a")][Da("0x30")](Da("0x7")),this[Da("0x12")][Da("0x40")]=this[Da("0x1b")],this.on(Da("0x2c"),((t,e,n)=>{this[Da("0x12")].innerHTML=n}))}[Da("0x41")](t,e,n,o,r){const i=new s.ButtonView(this.locale);return i[Da("0x42")]({label:t,icon:e,tooltip:!0,tooltipPosition:r}),i[Da("0x10")]({attributes:{class:n}}),i.on("execute",(()=>{this.fire(o,this[Da("0x38")].id)})),i[Da("0x2f")]("isEnabled").to(this),i}}function Ba(t,e){let n="";return n+=t[Da("0x9")]("*")[Da("0x3c")](((t,e)=>e%2!=0?Da("0x3")+ja(t)+Da("0x46"):ja(t)))[Da("0x2d")](""),e&&(n+=Da("0x35")+e[Da("0x36")]+'" title="'+e[Da("0x1e")]+'"></span>'),n}function ja(t){const e=document[Da("0x1")](Da("0x33"));return e.innerText=t,e[Da("0x40")]}const Ua=["some","discardAllSuggestions","has","head","trackChanges","unbind","from","separator","button","isEnabled","_handleSuggestionControllerDelayed","define","innerView","Accept all suggestions","reduce","init","discardSuggestion","editor","clear","Track changes","config","CommentsRepository","_handleControllerBuffer","getDescriptions","_suggestionToController","commandName","length","trackChanges.disableComments","mapper","_destroyController","delete","execute","_createUIButton","PENDING_ACTION_SUGGESTION","source","getAllAdjacentSuggestions","EditorAnnotations","discardButton","TrackChangesUI","_initializeController","toMany","get","componentFactory","isDirty","comments","refreshSelectedViews","SuggestionThreadView","focus","getContainedElement","getRange","arrowView","add","set","activeMarkers","Discard all selected suggestions","requires","actionView","getJoined","TrackChangesEditing","view","model","_disableComments","change:isDirty","previous","getByInnerView","createAnnotationView","acceptAllSuggestions","commands","suggestion-","remove","suggestionUnloaded","_viewToController","buttonView","locale","comments.maxCommentsWhenCollapsed","hasSuggestion","switchbutton","suggestionChanged","isOn","destroy","Accept all selected suggestions","change:previous","type","comments.maxThreadTotalWeight","listenTo","stopListening","suggestionLoaded","commentThread","comments.editorConfig","CommentsUI","PendingActions","trackChanges.SuggestionThreadView","acceptSelectedSuggestions","editing","Annotations","createAnnotation","getFirstMarker","toViewElement","Discard all suggestions","push","bind","addSourceCollector","pluginName","map","getMarkerNames","plugins","addComment","filter","size","_updateController","isInContent"];var Ha,Ga;Ha=Ua,Ga=387,function(t){for(;--t;)Ha.push(Ha.shift())}(++Ga);const Va=function(t,e){return Ua[t-=0]};class za extends t.Plugin{static get[Va("0x1")](){return[fa,r.Users,"CommentsRepository","Annotations",Va("0x5d")]}static get[Va("0x30")](){return Va("0x5f")}constructor(t){super(t),this[Va("0x51")]=new Map,this[Va("0x11")]=new Map,this._handleControllerBuffer=new Map;const e=this[Va("0x4a")][Va("0x4d")];e[Va("0x44")](Va("0x25"),Pa),e[Va("0x44")](Va("0x54"),!1),this[Va("0x7")]=e[Va("0x62")](Va("0x54"))}[Va("0x43")](t,e){0===this._handleControllerBuffer[Va("0x36")]&&setTimeout((()=>{for(const[t,e]of this[Va("0x4f")]){const n=this[Va("0x51")][Va("0x3b")](t);n||e?n&&e&&this[Va("0x56")](t):this._initializeController(t)}this[Va("0x4a")][Va("0x33")].get(Va("0x5d"))[Va("0x66")](),this[Va("0x4f")][Va("0x4b")]()}),10),this._handleControllerBuffer[Va("0x6d")](t,e)}[Va("0x48")](){const t=this[Va("0x4a")],e=t.plugins[Va("0x62")](fa),n=t[Va("0x33")].get(Va("0x28")),o=t[Va("0x33")].get(Va("0x5d")),s=t[Va("0x33")].get(Va("0x4e"));t.ui[Va("0x63")][Va("0x6c")](Va("0x3d"),(t=>this._createUIButton(t))),o[Va("0x2f")]((()=>{const t=[];for(const[e,n]of Array[Va("0x3f")](this[Va("0x51")])){const o=e.getAllAdjacentSuggestions(),s=[];for(const t of o){if(!t[Va("0x38")])continue;if(t.isMultiRange){s.push(...t.getRanges());continue}const e=t.getFirstRange();if(s[Va("0x53")]>0){const t=s[0][Va("0x3")](e);if(t){s[0]=t;continue}}s.push(e)}t[Va("0x2d")]([n.view,s])}return t})),this[Va("0x1e")](e,Va("0x20"),((t,e)=>{this.listenTo(e,"change:previous",((t,n,o,s)=>{e.isInContent&&(null==o?(this[Va("0x37")](s[Va("0x3c")]),this[Va("0x43")](e,!1)):(this[Va("0x37")](o[Va("0x3c")]),this[Va("0x43")](e,!0)))})),null===e[Va("0x9")]?this[Va("0x43")](e,!1):this[Va("0x37")](e[Va("0x3c")])})),this[Va("0x1e")](e,Va("0x10"),((t,e,n)=>{this[Va("0x1f")](e,Va("0x1b")),this[Va("0x4f")][Va("0x57")](e);const o=n?n[Va("0x3c")]:e,s=this._suggestionToController.get(o);null!==n&&this[Va("0x37")](o),null===n&&s&&this[Va("0x56")](e)})),this[Va("0x1e")](e,Va("0x17"),((t,e)=>{this[Va("0x37")](e)})),this.listenTo(n,"change:activeAnnotations",((t,n,o)=>{const s=Array[Va("0x3f")](o,(t=>t[Va("0x45")]))[Va("0x35")]((t=>this._viewToController[Va("0x3b")](t))),r=[];for(const t of s){const e=this[Va("0x11")][Va("0x62")](t).model[Va("0x5c")]();r[Va("0x2d")](...e[Va("0x47")](((t,e)=>[...t,...e[Va("0x32")]()]),[]))}e[Va("0x6e")]=r})),this[Va("0x1e")](s,Va("0x34"),((t,{threadId:n,isFromAdapter:o})=>{if(o||!e[Va("0x15")](n))return;const s=e.getSuggestion(n);this._suggestionToController.get(s)[Va("0x5")][Va("0x68")]()}),{priority:"lowest"})}[Va("0x59")](t){const n=(0,s.createDropdown)(t,s.SplitButtonView),o=this[Va("0x4a")].commands[Va("0x62")](Va("0x3d")),r=us(t,Va("0x4c"));n[Va("0x12")][Va("0x6d")]({tooltip:r,label:r,icon:'\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M1 3.28C1 2.574 1.574 2 2.272 2h10.23c.703 0 1.272.573 1.272 1.28v12.768c0 .708-.574 1.281-1.271 1.281H2.272A1.276 1.276 0 0 1 1 16.049V3.28zm11.503 12.954c-.008 0-.006-12.77-.006-12.77 0-.003-10.225-.004-10.225-.004.007 0 .005 12.77.005 12.77 0 .003 10.226.004 10.226.004zm-8.31-9.58c0-.353.292-.64.636-.64h5.116c.351 0 .636.284.636.64a.641.641 0 0 1-.636.638H4.829a.636.636 0 0 1-.635-.639zm0 2.554c0-.352.292-.638.636-.638h5.116c.351 0 .636.283.636.638a.641.641 0 0 1-.636.639H4.829a.636.636 0 0 1-.635-.639zm0 2.555c0-.353.289-.639.633-.639h2.567c.35 0 .633.284.633.64a.639.639 0 0 1-.633.638H4.826a.634.634 0 0 1-.632-.639z"/><path d="M10.515 17.958l.154-.23c-.195-.099-.304-.193-.328-.28-.024-.09.001-.275.076-.552.062-.165.099-.296.111-.393.013-.159.013-.319 0-.478-.138-.41-.2-.686-.187-.83.013-.145.117-.335.313-.57l4.465-6.208c.356-.6 1.059-.56 2.11.119 1.051.68 1.443 1.271 1.177 1.771L14.53 17.14c-.105.271-.22.444-.347.516-.128.07-.399.118-.813.138a2.954 2.954 0 0 0-.487.21 2.044 2.044 0 0 0-.347.31c-.193.174-.332.262-.416.262-.064 0-.178-.05-.346-.15l-.204.27-1.056-.738h.001zm-.184.274l1.039.727-.259.34H9.614l.717-1.067z"/></g></svg>\n'}),n.buttonView[Va("0x2e")]("isOn").to(o,"value"),n[Va("0x12")].on(Va("0x58"),(()=>{o[Va("0x58")](),this[Va("0x4a")][Va("0x27")].view.focus()}));const i=new e.Collection,x=[{type:Va("0x16"),model:{withText:!0,label:r,commandName:Va("0x3d")}},{type:Va("0x40")},{type:Va("0x41"),model:{withText:!0,label:us(t,Va("0x46")),commandName:Va("0xc")}},{type:Va("0x41"),model:{withText:!0,label:us(t,Va("0x1a")),commandName:Va("0x26")}},{type:Va("0x41"),model:{withText:!0,label:us(t,Va("0x2c")),commandName:Va("0x3a")}},{type:Va("0x41"),model:{withText:!0,label:us(t,Va("0x0")),commandName:"discardSelectedSuggestions"}}];for(const t of x){const e={type:t[Va("0x1c")]};if(t.model){const n=new s.Model(t[Va("0x6")]),o=this[Va("0x4a")][Va("0xd")][Va("0x62")](n[Va("0x52")]);n[Va("0x2e")](Va("0x18"),"isEnabled").to(o,"value",Va("0x42")),e.model=n}i[Va("0x6c")](e)}(0,s.addListToDropdown)(n,i);const a=x[Va("0x35")]((t=>null!=t[Va("0x6")]))[Va("0x31")]((t=>this[Va("0x4a")][Va("0xd")].get(t[Va("0x6")].commandName)));return n[Va("0x12")][Va("0x2")][Va("0x3e")](Va("0x42")),n.buttonView[Va("0x6b")][Va("0x3e")](Va("0x42")),n[Va("0x12")][Va("0x2")][Va("0x2e")](Va("0x42")).to(o,Va("0x42")),n[Va("0x12")][Va("0x6b")][Va("0x2e")](Va("0x42"))[Va("0x61")](a,"isEnabled",((...t)=>t[Va("0x39")]((t=>t)))),n.on(Va("0x58"),(t=>{this[Va("0x4a")].execute(t[Va("0x5b")][Va("0x52")]),this[Va("0x4a")][Va("0x27")][Va("0x5")][Va("0x68")]()})),n}[Va("0x60")](t){const e=this[Va("0x4a")],n=e[Va("0x4d")],o=e[Va("0x33")][Va("0x62")]("Annotations"),s=e[Va("0x33")].get(Va("0x4e")),i=e[Va("0x33")][Va("0x62")](Va("0x5d")),x=t.getAllAdjacentSuggestions()[Va("0x35")]((t=>t[Va("0x38")])),a=e.plugins.get(r.Users).me,c=e.commands.get("acceptSuggestion"),l=e[Va("0xd")].get(Va("0x49")),u=n.get(Va("0x3d"))[Va("0x67")],{CommentsListView:d,CommentThreadInputView:g}=e[Va("0x33")].get(Va("0x23")),f=new u(e[Va("0x13")],t,a,{disableComments:this._disableComments,editorConfig:n[Va("0x62")](Va("0x22")),maxCommentsWhenCollapsed:n[Va("0x62")](Va("0x14")),maxThreadTotalWeight:n.get(Va("0x1d")),maxCommentCharsWhenCollapsed:n[Va("0x62")]("comments.maxCommentCharsWhenCollapsed"),formatDateTime:(0,r.getDateTimeFormatter)(n[Va("0x62")](Va("0x13"))),CommentView:n.get(Va("0x65")).CommentView,CommentsListView:d,CommentThreadInputView:g}),m=s.createCommentThreadController(t[Va("0x21")],f),h=new Ra(t,f,c,l,m);f.descriptionParts=e[Va("0x33")].get("TrackChangesEditing")._descriptionFactory[Va("0x50")](x),this[Va("0x51")][Va("0x6d")](t,h),this._viewToController[Va("0x6d")](f,h);const p=o[Va("0xb")](this[Va("0x4a")].locale,f);p[Va("0x2e")](Va("0x64")).to(f,Va("0x64")),p[Va("0x2e")](Va("0x53")).to(f),p[Va("0x2e")]("type").to(f,Va("0x1c"),(t=>"suggestion-"+t));const b=o[Va("0x29")]({view:p,target:()=>{const t=x[0][Va("0x2a")]();if(!t)return null;const n=t[Va("0x6a")]()[Va("0x69")]();return n&&!e[Va("0x27")][Va("0x55")][Va("0x2b")](n)?null:(0,r.getMarkerDomElement)(e[Va("0x27")],t)||null},type:()=>Va("0xe")+h[Va("0x5")][Va("0x1c")]});o[Va("0x6c")](b),i.registerAnnotation(b);const E=e[Va("0x33")].get(Va("0x24"));let _;f.on(Va("0x8"),((t,e,n)=>{n?_=E[Va("0x6c")](us(this[Va("0x4a")][Va("0x13")],Va("0x5a"))):(E[Va("0xf")](_),_=null)})),f.acceptButton.on("execute",(()=>{e[Va("0x27")][Va("0x5")][Va("0x68")]()})),f[Va("0x5e")].on(Va("0x58"),(()=>{e[Va("0x27")][Va("0x5")][Va("0x68")]()}))}_destroyController(t){const e=this[Va("0x4a")][Va("0x33")][Va("0x62")](Va("0x28")),n=this[Va("0x51")][Va("0x62")](t),o=n[Va("0x5")],s=e[Va("0xa")](o);s&&e[Va("0xf")](s),this[Va("0x51")][Va("0x57")](t),this[Va("0x11")][Va("0x57")](o),n.destroy(),o[Va("0x19")]()}[Va("0x37")](t){if(!t[Va("0x38")]||!this[Va("0x51")][Va("0x3b")](t))return;const e=this[Va("0x4a")][Va("0x33")].get(Va("0x4")),n=this[Va("0x51")][Va("0x62")](t),o=t[Va("0x5c")]();n.view.descriptionParts=e._descriptionFactory[Va("0x50")](o)}[Va("0x19")](){super[Va("0x19")]();for(const t of this._suggestionToController.keys())this[Va("0x56")](t)}}var Wa,Ka,qa=["plugins","get","getSuggestions","addSuggestionData","editor","TrackChanges","pluginName","getSuggestion","adapter","addSuggestion"];Wa=qa,Ka=257,function(t){for(;--t;)Wa.push(Wa.shift())}(++Ka);var $a=function(t,e){return qa[t-=0]};class Xa extends t.Plugin{static get requires(){return[fa,za,"Comments"]}static get[$a("0x9")](){return $a("0x8")}set[$a("0x1")](t){this[$a("0x7")][$a("0x3")][$a("0x4")](fa)[$a("0x1")]=t}get[$a("0x1")](){return this.editor[$a("0x3")][$a("0x4")](fa)[$a("0x1")]}[$a("0x2")](t){return this[$a("0x7")].plugins[$a("0x4")](fa)[$a("0x6")](t)}getSuggestions(t){return this[$a("0x7")].plugins[$a("0x4")](fa)[$a("0x5")](t)}[$a("0x0")](t){return this[$a("0x7")].plugins[$a("0x4")](fa)[$a("0x0")](t)}}const Ja=["RealTimeCollaborativeComments","context","end","trackChangesData","getDataWithDiscardedSuggestions","TrackChangesData","trackChangesData.editorCreator","from","every","model","createDocumentFragment","function","discardAllSuggestions","name","concat","RealTimeCollaborativeTrackChanges","includes","set","push","find","init","requires","addSuggestionData","data","users","destroy","getDataWithAcceptedSuggestions","extraPlugins","addUser","constructor","pluginName","get","createElement","getUser","document","editor","config","TrackChangesDataGetter","RealTimeCollaborativeRevisionHistory","_adapter","TrackChangesEditing","map","appendChild","builtinPlugins","getRootNames","reduce","editorCreator","useAnonymousUser","acceptAllSuggestions","filter","string","Users","plugins","Autosave"];var Qa,Ya;Qa=Ja,Ya=423,function(t){for(;--t;)Qa.push(Qa.shift())}(++Ya);const Za=function(t,e){return Ja[t-=0]},tc=["initialData",Za("0xa"),"toolbar"],ec=["RealTimeCollaborativeEditing",Za("0x9"),Za("0x18"),Za("0x2f"),Za("0x8"),"WordCount"];class nc extends t.Plugin{static get[Za("0x1e")](){return[fa]}static get pluginName(){return Za("0xe")}init(){const t=this[Za("0x2c")];if(t[Za("0x2d")].define(Za("0xf"),(e=>t[Za("0x26")].create("",e))),"function"!=typeof t[Za("0x2d")].get(Za("0xc"))[Za("0x1")])throw new e.CKEditorError("track-changes-data-invalid-editor-creator")}[Za("0x23")](t){return sc(this[Za("0x2c")],!0,t)}[Za("0xd")](t){return sc(this[Za("0x2c")],!1,t)}}class oc extends t.Plugin{static get[Za("0x27")](){return Za("0x2e")}[Za("0x1d")](){this.result=Za("0xb"),this.editor[Za("0x7")].get("CommentsRepository")[Za("0x30")]={getCommentThread:()=>new Promise((()=>{}))},this[Za("0x2c")][Za("0x7")][Za("0x28")]("TrackChangesEditing")[Za("0x30")]=null}}async function sc(t,e,n){const o=function(t){const e={};for(const n of t[Za("0x2d")].names())tc[Za("0x19")](n)||(e[n]=t[Za("0x2d")][Za("0x28")](n));const n=t.constructor[Za("0x34")]||[],o=e[Za("0x24")]||[];delete e[Za("0x24")];const s=n.concat(e.plugins)[Za("0x17")](o)[Za("0x32")]((t=>Za("0x5")==typeof t?n[Za("0x1c")]((e=>e[Za("0x27")]==t)):t)),r=Array[Za("0x10")](new Set(s));return e[Za("0x7")]=r[Za("0x4")]((t=>rc(t,new Set))),e[Za("0x7")][Za("0x1b")](oc),e[Za("0x7")].push(fa),e}(t),s=document[Za("0x13")](),r=t.config.get(Za("0xc"))[Za("0x1")],i=await r(o,(()=>function(t){const e=document[Za("0x29")]("div");return t[Za("0x33")](e),e}(s)));!function(t,e){const n=t[Za("0x12")][Za("0x2b")][Za("0x35")]()[Za("0x0")](((e,n)=>(e[n]=t[Za("0x20")][Za("0x28")]({rootName:n}),e)),{}),o=t.plugins[Za("0x28")](Za("0x6"))[Za("0x21")].map((t=>({id:t.id}))),s=t[Za("0x7")].get(Za("0x31")).getSuggestions({skipNotAttached:!0,toJSON:!0}),r=e[Za("0x7")][Za("0x28")](Za("0x6")),i=e[Za("0x7")][Za("0x28")]("TrackChangesEditing");for(const t of o)r[Za("0x2a")](t.id)||r[Za("0x25")](t);r.me||r[Za("0x2")]();for(const t of s)i[Za("0x1f")](t);e[Za("0x20")][Za("0x1a")](n)}(t,i),i.execute(Za(e?"0x3":"0x15"));const x=i[Za("0x20")].get(n);return await i[Za("0x22")](),x}function rc(t,e){if(e.has(t))return!0;e.add(t);const n=Za("0x14")==typeof t?t[Za("0x27")]||t[Za("0x16")]:t;return(!n||!ec[Za("0x19")](n))&&(!t[Za("0x1e")]||t.requires[Za("0x11")]((t=>rc(t,e))))}})(),(window.CKEditor5=window.CKEditor5||{}).trackChanges=o})();