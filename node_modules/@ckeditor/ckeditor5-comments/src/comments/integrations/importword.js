/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5b64=['dataInsert','execute','plugins','high','_handleImportedData','editor','forEach','Users','listenTo','importWord','addCommentThread','get','collaboration_features','map'];(function(_0x445b07,_0x5b64d4){const _0x24d40f=function(_0x160b3d){while(--_0x160b3d){_0x445b07['push'](_0x445b07['shift']());}};_0x24d40f(++_0x5b64d4);}(_0x5b64,0x183));const _0x24d4=function(_0x445b07,_0x5b64d4){_0x445b07=_0x445b07-0x0;let _0x24d40f=_0x5b64[_0x445b07];return _0x24d40f;};import{Plugin as _0x17914b}from'ckeditor5/src/core';import{priorities as _0x1c1e18}from'ckeditor5/src/utils';import _0x5ab130 from'../commentsrepository';export default class q extends _0x17914b{['afterInit'](){const _0x39b018=this['editor'],_0x15789a=_0x39b018['commands'][_0x24d4('0x2')](_0x24d4('0x0')),_0x3fadd5=_0x39b018[_0x24d4('0x7')][_0x24d4('0x2')](_0x24d4('0xc'));_0x15789a&&(_0x15789a['on'](_0x24d4('0x6'),(_0x8d8f4e,[,_0x4a65e4])=>{_0x4a65e4[_0x24d4('0x3')]={'comments':!0x0,'user_id':_0x3fadd5['me']['id']};},{'priority':_0x1c1e18[_0x24d4('0x8')]+0xa}),this[_0x24d4('0xd')](_0x15789a,_0x24d4('0x5'),this[_0x24d4('0x9')]));}[_0x24d4('0x9')](_0x11790c,_0x5a6a1b){const {comment_threads:_0x1dc6aa}=_0x5a6a1b;_0x1dc6aa&&_0x1dc6aa[_0x24d4('0xb')](({thread_id:_0x1aa020,comments:_0x291aa9})=>{const _0x46638f=_0x291aa9[_0x24d4('0x4')](({author:_0x221b0d,content:_0x4ae215,created_at:_0x472cb3})=>({'content':_0x4ae215,'authorId':this['editor'][_0x24d4('0x7')]['get'](_0x24d4('0xc'))['me']['id'],'createdAt':new Date(),'attributes':{'@external':{'authorName':_0x221b0d,'createdAt':_0x472cb3?new Date(_0x472cb3):new Date()}}})),_0x4a562b=this[_0x24d4('0xa')]['config'][_0x24d4('0x2')]('collaboration.channelId');this[_0x24d4('0xa')]['plugins'][_0x24d4('0x2')](_0x5ab130)[_0x24d4('0x1')]({'channelId':_0x4a562b,'threadId':_0x1aa020,'comments':_0x46638f});});}}