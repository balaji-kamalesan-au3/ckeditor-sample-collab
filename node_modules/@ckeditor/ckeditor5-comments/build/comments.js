!function(t){const e=t.en=t.en||{};e.dictionary=Object.assign(e.dictionary||{},{Comment:"Comment","Comment editor":"Comment editor","Delete comment thread?":"Delete comment thread?","Delete comment?":"Delete comment?",Edit:"Edit",EXTERNAL_COMMENT:"This comment comes from an external source.",NUMBER_OF_COMMENTS:["%0 Comment","%0 Comments"],PENDING_ACTION_COMMENT_THREAD:"Unsaved change in comment thread.",Remove:"Remove","Reply...":"Reply...",Submit:"Submit",TOO_LONG_COMMENT_ALERT:"Comment content is too long. Your comment has %0 characters but the limit is %1 characters.","Write a comment...":"Write a comment..."})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),
/*!
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var t={275:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,":root{--ck-inline-annotation-container-width:300px;--ck-inline-annotation-container-max-height:400px}.ck.ck-balloon-panel .ck-annotation-wrapper{max-height:var(--ck-inline-annotation-container-max-height);overflow-x:hidden;overflow-y:auto;overscroll-behavior-y:contain;position:static;width:var(--ck-inline-annotation-container-width)}.ck.ck-balloon-panel .ck-annotation{animation:none}.ck.ck-balloon-panel .ck-annotation-wrapper *{white-space:normal}.ck.ck-balloon-panel .ck-annotation-wrapper strong{font-weight:700}.ck.ck-balloon-panel .ck-annotation-wrapper i{font-style:italic}",""]);const r=i},173:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,":root{--ck-color-annotation-icon:grey;--ck-color-annotation-info:#757575;--ck-annotation-button-size:0.85em}.ck .ck-annotation{--ck-user-avatar-size:28px;animation:fadeInLeft .3s;display:flex;font-size:var(--ck-font-size-base);padding:var(--ck-spacing-standard);position:relative;transition:background-color .3s ease}.ck .ck-annotation .ck-button{background-color:transparent;border-radius:var(--ck-border-radius);color:var(--ck-color-annotation-icon);cursor:pointer;font-size:var(--ck-annotation-button-size);min-height:unset;min-width:unset}.ck .ck-annotation__main{border-radius:var(--ck-border-radius);display:flex;flex-wrap:wrap;justify-content:space-between;padding-left:var(--ck-spacing-standard);transition:all .2s ease;width:calc(100% - var(--ck-user-avatar-size))}.ck .ck-annotation__main p{font-size:var(--ck-font-size-base);line-height:1.5em;margin:0;white-space:normal}.ck .ck-annotation__user{margin-top:var(--ck-spacing-small)}.ck .ck-annotation__info{align-items:center;color:var(--ck-color-annotation-info);display:flex;min-height:2.4em}.ck .ck-annotation__info-name,.ck .ck-annotation__info-time{color:var(--ck-color-annotation-info);font-size:var(--ck-font-size-small);font-weight:700;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ck .ck-annotation__info-time{margin-left:var(--ck-spacing-large)}.ck .ck-annotation__actions{opacity:.5;transition:opacity .2s ease}.ck .ck-annotation__content-wrapper{width:100%}@keyframes fadeInLeft{0%{opacity:0;transform:translate3d(-5%,0,0)}to{opacity:1;transform:translateZ(0)}}",""]);const r=i},490:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,':root{--ck-color-comment-background:#f3f7fb;--ck-color-comment-separator:#cddeef;--ck-color-comment-remove-background:#fcc;--ck-color-comment-input-background:var(--ck-color-comment-background)}.ck .ck-comment__wrapper{font-size:var(--ck-font-size-base);outline:0;position:relative;transition:all .3s linear}.ck .ck-comment__wrapper.ck-comment--remove-confirmation{transform:translate3d(-100%,0,0)}.ck .ck-comment__wrapper:first-of-type{border-top-left-radius:var(--ck-border-radius);border-top-right-radius:var(--ck-border-radius)}.ck .ck-comment:after{background-color:var(--ck-color-comment-separator);content:"";display:block;height:100%;left:calc(var(--ck-spacing-standard) + var(--ck-user-avatar-size)/2 - 2px);opacity:1;position:absolute;top:calc(var(--ck-user-avatar-size) + var(--ck-spacing-small));width:4px}.ck .ck-comment--remove{background-color:var(--ck-color-comment-remove-background)}.ck .ck-comment--remove:after{opacity:0}.ck .ck-comment--edit{background-color:var(--ck-color-comment-input-background)}.ck .ck-comment--edit:after{opacity:0}.ck .ck-comment__main .ck-comment__input-wrapper{display:flex;flex-direction:column;position:relative;transition:all .3s linear}.ck .ck-comment__main .ck-comment__input-wrapper .ck-comment__input{padding:0}.ck .ck-comment__content{word-break:break-word}.ck .ck-comment__user{z-index:var(--ck-z-default)}.ck-comment__input-actions .ck.ck-button.ck-comment__input-actions--submit{color:var(--ck-color-button-save)}.ck-comment__input-actions .ck.ck-button.ck-comment__input-actions--cancel{color:var(--ck-color-button-cancel)}.ck .ck-comment p,.ck .ck-comment__input p{margin:0}.ck .ck-comment ol,.ck .ck-comment ul,.ck .ck-comment__input ol,.ck .ck-comment__input ul{margin-left:10px;padding-left:10px}.ck .ck-comment ul,.ck .ck-comment__input ul{list-style:disc;margin-bottom:5px;margin-top:0}.ck .ck-comment ul ul,.ck .ck-comment__input ul ul{list-style:circle}.ck .ck-comment ul ul ul,.ck .ck-comment__input ul ul ul{list-style:square}.ck .ck-comment__external{color:var(--ck-color-annotation-info);font-size:var(--ck-font-size-small);font-style:italic;margin-top:var(--ck-spacing-standard)}',""]);const r=i},424:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,".ck .ck-comment__input-container{--ck-user-avatar-size:28px;background:var(--ck-color-comment-background);display:none;font-size:var(--ck-font-size-base);padding:var(--ck-spacing-standard)}.ck .ck-comment__input-container--active{display:flex}.ck .ck-comment__input{background-color:transparent;border-width:0;color:var(--ck-color-base-text);padding:var(--ck-spacing-standard);padding-top:var(--ck-spacing-medium);resize:none;transition:color .3s ease-in-out}.ck .ck-comment__input:focus{outline:none}.ck .ck-comment__input .ck-editor__editable_inline{--ck-focus-ring:none;--ck-inner-shadow:none;background-color:transparent;border:0;overflow:visible;padding:0;word-break:break-word}.ck-comment__input-wrapper .ck.ck-editor__editable_inline :first-child{margin-top:0}.ck-comment__input-wrapper .ck.ck-editor__editable_inline :last-child{margin-bottom:0}.ck .ck-comment__input-actions{display:none;text-align:right;width:100%}.ck .ck-comment__input-actions.ck-comment__input-actions--active{display:block}.ck .ck-comment__input-actions .ck-button{background-color:transparent;border-radius:var(--ck-border-radius);color:var(--ck-color-annotations-icon);cursor:pointer;font-size:var(--ck-annotation-button-size);min-height:unset;min-width:unset}.ck .ck-comment__input-actions .ck-button.ck-disabled{opacity:.3}.ck .ck-comment__input-textarea{display:block}",""]);const r=i},446:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,":root{--ck-color-comment-marker:#fef7a9;--ck-color-comment-marker-active:#fdf05d}.ck-comment-marker{background:var(--ck-color-comment-marker);border-bottom:3px solid transparent;border-top:3px solid transparent}.ck-comment-marker.ck-widget{background-color:transparent;border:3px solid var(--ck-color-comment-marker)}.ck-comment-marker--active{background:var(--ck-color-comment-marker-active)}.ck-comment-marker--active.ck-widget{border-color:var(--ck-color-comment-marker-active)}.ck-comment-marker--active.ck-widget .ck-comment-marker{background-color:var(--ck-color-comment-marker)}.ck-comment-marker--active .ck-comment-marker{background:var(--ck-color-comment-marker-active)}",""]);const r=i},227:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,':root{--ck-color-thread-remove-background:var(--ck-color-comment-remove-background);--ck-color-comment-count:#5891ca}.ck .ck-thread{background-color:var(--ck-color-base-background);border-radius:var(--ck-border-radius);color:var(--ck-color-base-text);outline:0;overflow:hidden;transition:all .3s ease;width:100%}.ck .ck-thread__comments .ck-comment__wrapper:last-of-type .ck-comment:after{opacity:0}.ck .ck-thread__container{transition:transform .3s ease}.ck .ck-thread__comments{border-radius:var(--ck-border-radius);list-style:none;margin:0;overflow:hidden;padding:0;position:relative;z-index:var(--ck-z-default)}.ck .ck-thread__comment-count{--ck-user-avatar-size:28px;color:var(--ck-color-comment-count);cursor:pointer;font-size:var(--ck-font-size-base);font-weight:700;padding-left:calc(var(--ck-user-avatar-size) + var(--ck-spacing-standard)*2);transition:background-color .3s ease}.ck .ck-thread__comment-count:before{content:"\\25BC";margin-right:var(--ck-spacing-small)}.ck .ck-thread--active .ck-comment__options.ck-dropdown{display:block}.ck .ck-thread--active .ck-thread__input{background-color:var(--ck-color-comment-background);display:block}.ck .ck-thread--remove .ck-comment{background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread--remove .ck-thread__input--active{background-color:var(--ck-color-base-background)}.ck .ck-thread--remove .ck-thread__comment-count,.ck .ck-thread--remove .ck-thread__input--active.ck-thread__input{background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread--remove .ck-comment__wrapper .ck-comment:after{opacity:0}.ck .ck-thread--remove-confirmation .ck-thread__container{transform:translate3d(-100%,0,0)}.ck.ck-button.ck-thread__remove-confirm-submit{color:var(--ck-color-button-save)}.ck.ck-button.ck-thread__remove-confirm-cancel{color:var(--ck-color-button-cancel)}.ck .ck-thread__remove-confirm{background-color:var(--ck-color-comment-remove-background);display:flex;font-size:var(--ck-font-size-base);height:100%;justify-content:flex-start;left:100%;position:absolute;top:0;width:100%}.ck .ck-thread__remove-confirm .ck-thread__remove-confirm-inner{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;max-height:400px;padding-top:var(--ck-spacing-standard);width:100%}.ck .ck-thread__remove-confirm p{font-weight:700;margin:0}.ck .ck-thread__input{border-radius:var(--ck-border-radius);transition:background-color .2s ease-in-out;width:calc(100% - var(--ck-user-avatar-size))}',""]);const r=i},28:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,":root{--ck-annotation-counter-icon-size:16px;--ck-annotation-counter-number-size:10px;--ck-color-annotation-counter-comment:#f2de02;--ck-color-annotation-counter-suggestion-insertion:#5ad86b;--ck-color-annotation-counter-suggestion-deletion:#d85a79;--ck-color-annotation-counter-suggestion-format:#5ac1d8}.ck.ck-sidebar--narrow .ck-sidebar-item{display:flex;justify-content:center}.ck.ck-sidebar--narrow .ck-annotation-counter{color:grey;cursor:pointer;font-size:var(--ck-annotation-counter-icon-size);min-height:unset;padding:0}.ck.ck-sidebar--narrow .ck-annotation-counter:focus,.ck.ck-sidebar--narrow .ck-annotation-counter:hover{background:transparent;box-shadow:none;color:#4d4d4d}.ck.ck-sidebar--narrow .ck-annotation-counter__badge{background:#333;border-radius:50%;color:#fff;display:flex;font-family:var(--ck-font-face);font-size:var(--ck-annotation-counter-number-size);font-weight:700;height:16px;justify-content:center;line-height:16px;position:absolute;right:0;text-shadow:-1px 0 2px #444,1px 0 2px #444;top:-6px;width:16px;z-index:1}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--edit-mode{line-height:1}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-insertion,.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-replace{background:var(--ck-color-annotation-counter-suggestion-insertion)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-deletion{background:var(--ck-color-annotation-counter-suggestion-deletion)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-format{background:var(--ck-color-annotation-counter-suggestion-format)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--comment{background:var(--ck-color-annotation-counter-comment)}",""]);const r=i},100:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(758),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,":root{--ck-color-annotation-wrapper-background:#fff;--ck-color-annotation-wrapper-drop-shadow:0 1px 1px 1px #e6e6e6}.ck.ck-sidebar{outline:0;position:relative;transition:min-height .25s ease}.ck-sidebar-item{position:absolute;transition:top .3s ease,box-shadow .3s ease;width:100%}.ck-sidebar-item--no-animation{transition:top 0s ease!important}.ck.ck-annotation-wrapper{background:var(--ck-color-annotation-wrapper-background);border-radius:var(--ck-border-radius);box-shadow:var(--ck-color-annotation-wrapper-drop-shadow);outline:0}.ck.ck-annotation-wrapper:not(.ck-annotation-wrapper--active):hover{box-shadow:var(--ck-drop-shadow)}.ck.ck-annotation-wrapper--active{box-shadow:var(--ck-drop-shadow-active)}.ck.ck-annotation-wrapper--active .ck-annotation__actions,.ck.ck-annotation-wrapper:hover .ck-annotation__actions{opacity:1}.ck.ck-annotation-wrapper--active .ck-suggestion--accept,.ck.ck-annotation-wrapper:hover .ck-suggestion--accept{color:var(--ck-color-button-save)}.ck.ck-annotation-wrapper--active .ck-suggestion--discard,.ck.ck-annotation-wrapper:hover .ck-suggestion--discard{color:var(--ck-color-button-cancel)}",""]);const r=i},758:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);o&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},278:(t,e,n)=>{"use strict";var o,i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},o=[],i=0;i<t.length;i++){var r=t[i],c=e.base?r[0]+e.base:r[0],x=n[c]||0,h="".concat(c," ").concat(x);n[c]=x+1;var d=a(h),l={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(s[d].references++,s[d].updater(l)):s.push({identifier:h,updater:p(l,e),references:1}),o.push(h)}return o}function x(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var h,d=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function l(t,e,n,o){var i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=d(e,i);else{var r=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function u(t,e,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var m=null,f=0;function p(t,e){var n,o,i;if(e.singleton){var r=f++;n=m||(m=x(e)),o=l.bind(null,n,r,!1),i=l.bind(null,n,r,!0)}else n=x(e),o=u.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var i=a(n[o]);s[i].references--}for(var r=c(t,e),x=0;x<n.length;x++){var h=a(n[x]);0===s[h].references&&(s[h].updater(),s.splice(h,1))}n=r}}}},945:(t,e,n)=>{t.exports=n(79)("./src/clipboard.js")},417:(t,e,n)=>{t.exports=n(720)("./src/collaboration-core.js")},704:(t,e,n)=>{t.exports=n(79)("./src/core.js")},492:(t,e,n)=>{t.exports=n(79)("./src/engine.js")},331:(t,e,n)=>{t.exports=n(79)("./src/enter.js")},747:(t,e,n)=>{t.exports=n(79)("./src/paragraph.js")},468:(t,e,n)=>{t.exports=n(79)("./src/select-all.js")},181:(t,e,n)=>{t.exports=n(79)("./src/typing.js")},273:(t,e,n)=>{t.exports=n(79)("./src/ui.js")},254:(t,e,n)=>{t.exports=n(79)("./src/undo.js")},209:(t,e,n)=>{t.exports=n(79)("./src/utils.js")},720:t=>{"use strict";t.exports=CKEditor5.collaborationDll},79:t=>{"use strict";t.exports=CKEditor5.dll}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return t[o](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0;var o={};(()=>{"use strict";n.r(o),n.d(o,{Annotations:()=>jr,AnnotationsUIs:()=>Os,BaseCommentThreadView:()=>li,BaseCommentView:()=>Ei,Comments:()=>Ta,CommentsOnly:()=>Ta,InlineAnnotations:()=>wa,NarrowSidebar:()=>ma,WideSidebar:()=>na});var t=n(704),e=n(209),i=n(417);const r=function(){this.__data__=[],this.size=0};const s=function(t,e){return t===e||t!=t&&e!=e};const a=function(t,e){for(var n=t.length;n--;)if(s(t[n][0],e))return n;return-1};var c=Array.prototype.splice;const x=function(t){var e=this.__data__,n=a(e,t);return!(n<0)&&(n==e.length-1?e.pop():c.call(e,n,1),--this.size,!0)};const h=function(t){var e=this.__data__,n=a(e,t);return n<0?void 0:e[n][1]};const d=function(t){return a(this.__data__,t)>-1};const l=function(t,e){var n=this.__data__,o=a(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=r,u.prototype.delete=x,u.prototype.get=h,u.prototype.has=d,u.prototype.set=l;const m=u;const f=function(){this.__data__=new m,this.size=0};const p=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};const g=function(t){return this.__data__.get(t)};const b=function(t){return this.__data__.has(t)};const v="object"==typeof global&&global&&global.Object===Object&&global;var _="object"==typeof self&&self&&self.Object===Object&&self;const w=v||_||Function("return this")();const k=w.Symbol;var y=Object.prototype,C=y.hasOwnProperty,A=y.toString,T=k?k.toStringTag:void 0;const E=function(t){var e=C.call(t,T),n=t[T];try{t[T]=void 0;var o=!0}catch(t){}var i=A.call(t);return o&&(e?t[T]=n:delete t[T]),i};var I=Object.prototype.toString;const j=function(t){return I.call(t)};var O=k?k.toStringTag:void 0;const V=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":O&&O in Object(t)?E(t):j(t)};const M=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const S=function(t){if(!M(t))return!1;var e=V(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};const D=w["__core-js_shared__"];var N,R=(N=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"";const P=function(t){return!!R&&R in t};var B=Function.prototype.toString;const z=function(t){if(null!=t){try{return B.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var F=/^\[object .+?Constructor\]$/,L=Function.prototype,U=Object.prototype,K=L.toString,W=U.hasOwnProperty,H=RegExp("^"+K.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Z=function(t){return!(!M(t)||P(t))&&(S(t)?H:F).test(z(t))};const q=function(t,e){return null==t?void 0:t[e]};const $=function(t,e){var n=q(t,e);return Z(n)?n:void 0};const G=$(w,"Map");const J=$(Object,"create");const X=function(){this.__data__=J?J(null):{},this.size=0};const Y=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var Q=Object.prototype.hasOwnProperty;const tt=function(t){var e=this.__data__;if(J){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Q.call(e,t)?e[t]:void 0};var et=Object.prototype.hasOwnProperty;const nt=function(t){var e=this.__data__;return J?void 0!==e[t]:et.call(e,t)};const ot=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=J&&void 0===e?"__lodash_hash_undefined__":e,this};function it(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}it.prototype.clear=X,it.prototype.delete=Y,it.prototype.get=tt,it.prototype.has=nt,it.prototype.set=ot;const rt=it;const st=function(){this.size=0,this.__data__={hash:new rt,map:new(G||m),string:new rt}};const at=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};const ct=function(t,e){var n=t.__data__;return at(e)?n["string"==typeof e?"string":"hash"]:n.map};const xt=function(t){var e=ct(this,t).delete(t);return this.size-=e?1:0,e};const ht=function(t){return ct(this,t).get(t)};const dt=function(t){return ct(this,t).has(t)};const lt=function(t,e){var n=ct(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};function ut(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}ut.prototype.clear=st,ut.prototype.delete=xt,ut.prototype.get=ht,ut.prototype.has=dt,ut.prototype.set=lt;const mt=ut;const ft=function(t,e){var n=this.__data__;if(n instanceof m){var o=n.__data__;if(!G||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new mt(o)}return n.set(t,e),this.size=n.size,this};function pt(t){var e=this.__data__=new m(t);this.size=e.size}pt.prototype.clear=f,pt.prototype.delete=p,pt.prototype.get=g,pt.prototype.has=b,pt.prototype.set=ft;const gt=pt;const bt=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};const vt=function(t){return this.__data__.has(t)};function _t(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mt;++e<n;)this.add(t[e])}_t.prototype.add=_t.prototype.push=bt,_t.prototype.has=vt;const wt=_t;const kt=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1};const yt=function(t,e){return t.has(e)};const Ct=function(t,e,n,o,i,r){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var x=r.get(t),h=r.get(e);if(x&&h)return x==e&&h==t;var d=-1,l=!0,u=2&n?new wt:void 0;for(r.set(t,e),r.set(e,t);++d<a;){var m=t[d],f=e[d];if(o)var p=s?o(f,m,d,e,t,r):o(m,f,d,t,e,r);if(void 0!==p){if(p)continue;l=!1;break}if(u){if(!kt(e,(function(t,e){if(!yt(u,e)&&(m===t||i(m,t,n,o,r)))return u.push(e)}))){l=!1;break}}else if(m!==f&&!i(m,f,n,o,r)){l=!1;break}}return r.delete(t),r.delete(e),l};const At=w.Uint8Array;const Tt=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,o){n[++e]=[o,t]})),n};const Et=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};var It=k?k.prototype:void 0,jt=It?It.valueOf:void 0;const Ot=function(t,e,n,o,i,r,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!r(new At(t),new At(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=Tt;case"[object Set]":var x=1&o;if(c||(c=Et),t.size!=e.size&&!x)return!1;var h=a.get(t);if(h)return h==e;o|=2,a.set(t,e);var d=Ct(c(t),c(e),o,i,r,a);return a.delete(t),d;case"[object Symbol]":if(jt)return jt.call(t)==jt.call(e)}return!1};const Vt=function(t,e){for(var n=-1,o=e.length,i=t.length;++n<o;)t[i+n]=e[n];return t};const Mt=Array.isArray;const St=function(t,e,n){var o=e(t);return Mt(t)?o:Vt(o,n(t))};const Dt=function(t,e){for(var n=-1,o=null==t?0:t.length,i=0,r=[];++n<o;){var s=t[n];e(s,n,t)&&(r[i++]=s)}return r};const Nt=function(){return[]};var Rt=Object.prototype.propertyIsEnumerable,Pt=Object.getOwnPropertySymbols;const Bt=Pt?function(t){return null==t?[]:(t=Object(t),Dt(Pt(t),(function(e){return Rt.call(t,e)})))}:Nt;const zt=function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o};const Ft=function(t){return null!=t&&"object"==typeof t};const Lt=function(t){return Ft(t)&&"[object Arguments]"==V(t)};var Ut=Object.prototype,Kt=Ut.hasOwnProperty,Wt=Ut.propertyIsEnumerable;const Ht=Lt(function(){return arguments}())?Lt:function(t){return Ft(t)&&Kt.call(t,"callee")&&!Wt.call(t,"callee")};const Zt=function(){return!1};var qt="object"==typeof exports&&exports&&!exports.nodeType&&exports,$t=qt&&"object"==typeof module&&module&&!module.nodeType&&module,Gt=$t&&$t.exports===qt?w.Buffer:void 0;const Jt=(Gt?Gt.isBuffer:void 0)||Zt;var Xt=/^(?:0|[1-9]\d*)$/;const Yt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Xt.test(t))&&t>-1&&t%1==0&&t<e};const Qt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var te={};te["[object Float32Array]"]=te["[object Float64Array]"]=te["[object Int8Array]"]=te["[object Int16Array]"]=te["[object Int32Array]"]=te["[object Uint8Array]"]=te["[object Uint8ClampedArray]"]=te["[object Uint16Array]"]=te["[object Uint32Array]"]=!0,te["[object Arguments]"]=te["[object Array]"]=te["[object ArrayBuffer]"]=te["[object Boolean]"]=te["[object DataView]"]=te["[object Date]"]=te["[object Error]"]=te["[object Function]"]=te["[object Map]"]=te["[object Number]"]=te["[object Object]"]=te["[object RegExp]"]=te["[object Set]"]=te["[object String]"]=te["[object WeakMap]"]=!1;const ee=function(t){return Ft(t)&&Qt(t.length)&&!!te[V(t)]};const ne=function(t){return function(e){return t(e)}};var oe="object"==typeof exports&&exports&&!exports.nodeType&&exports,ie=oe&&"object"==typeof module&&module&&!module.nodeType&&module,re=ie&&ie.exports===oe&&v.process;const se=function(){try{var t=ie&&ie.require&&ie.require("util").types;return t||re&&re.binding&&re.binding("util")}catch(t){}}();var ae=se&&se.isTypedArray;const ce=ae?ne(ae):ee;var xe=Object.prototype.hasOwnProperty;const he=function(t,e){var n=Mt(t),o=!n&&Ht(t),i=!n&&!o&&Jt(t),r=!n&&!o&&!i&&ce(t),s=n||o||i||r,a=s?zt(t.length,String):[],c=a.length;for(var x in t)!e&&!xe.call(t,x)||s&&("length"==x||i&&("offset"==x||"parent"==x)||r&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||Yt(x,c))||a.push(x);return a};var de=Object.prototype;const le=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||de)};const ue=function(t,e){return function(n){return t(e(n))}};const me=ue(Object.keys,Object);var fe=Object.prototype.hasOwnProperty;const pe=function(t){if(!le(t))return me(t);var e=[];for(var n in Object(t))fe.call(t,n)&&"constructor"!=n&&e.push(n);return e};const ge=function(t){return null!=t&&Qt(t.length)&&!S(t)};const be=function(t){return ge(t)?he(t):pe(t)};const ve=function(t){return St(t,be,Bt)};var _e=Object.prototype.hasOwnProperty;const we=function(t,e,n,o,i,r){var s=1&n,a=ve(t),c=a.length;if(c!=ve(e).length&&!s)return!1;for(var x=c;x--;){var h=a[x];if(!(s?h in e:_e.call(e,h)))return!1}var d=r.get(t),l=r.get(e);if(d&&l)return d==e&&l==t;var u=!0;r.set(t,e),r.set(e,t);for(var m=s;++x<c;){var f=t[h=a[x]],p=e[h];if(o)var g=s?o(p,f,h,e,t,r):o(f,p,h,t,e,r);if(!(void 0===g?f===p||i(f,p,n,o,r):g)){u=!1;break}m||(m="constructor"==h)}if(u&&!m){var b=t.constructor,v=e.constructor;b==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(u=!1)}return r.delete(t),r.delete(e),u};const ke=$(w,"DataView");const ye=$(w,"Promise");const Ce=$(w,"Set");const Ae=$(w,"WeakMap");var Te="[object Map]",Ee="[object Promise]",Ie="[object Set]",je="[object WeakMap]",Oe="[object DataView]",Ve=z(ke),Me=z(G),Se=z(ye),De=z(Ce),Ne=z(Ae),Re=V;(ke&&Re(new ke(new ArrayBuffer(1)))!=Oe||G&&Re(new G)!=Te||ye&&Re(ye.resolve())!=Ee||Ce&&Re(new Ce)!=Ie||Ae&&Re(new Ae)!=je)&&(Re=function(t){var e=V(t),n="[object Object]"==e?t.constructor:void 0,o=n?z(n):"";if(o)switch(o){case Ve:return Oe;case Me:return Te;case Se:return Ee;case De:return Ie;case Ne:return je}return e});const Pe=Re;var Be="[object Arguments]",ze="[object Array]",Fe="[object Object]",Le=Object.prototype.hasOwnProperty;const Ue=function(t,e,n,o,i,r){var s=Mt(t),a=Mt(e),c=s?ze:Pe(t),x=a?ze:Pe(e),h=(c=c==Be?Fe:c)==Fe,d=(x=x==Be?Fe:x)==Fe,l=c==x;if(l&&Jt(t)){if(!Jt(e))return!1;s=!0,h=!1}if(l&&!h)return r||(r=new gt),s||ce(t)?Ct(t,e,n,o,i,r):Ot(t,e,c,n,o,i,r);if(!(1&n)){var u=h&&Le.call(t,"__wrapped__"),m=d&&Le.call(e,"__wrapped__");if(u||m){var f=u?t.value():t,p=m?e.value():e;return r||(r=new gt),i(f,p,n,o,r)}}return!!l&&(r||(r=new gt),we(t,e,n,o,i,r))};const Ke=function t(e,n,o,i,r){return e===n||(null==e||null==n||!Ft(e)&&!Ft(n)?e!=e&&n!=n:Ue(e,n,o,i,t,r))};const We=function(t,e){return Ke(t,e)};const He=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==e(t[n],n,t););return t};const Ze=function(){try{var t=$(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const qe=function(t,e,n){"__proto__"==e&&Ze?Ze(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var $e=Object.prototype.hasOwnProperty;const Ge=function(t,e,n){var o=t[e];$e.call(t,e)&&s(o,n)&&(void 0!==n||e in t)||qe(t,e,n)};const Je=function(t,e,n,o){var i=!n;n||(n={});for(var r=-1,s=e.length;++r<s;){var a=e[r],c=o?o(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?qe(n,a,c):Ge(n,a,c)}return n};const Xe=function(t,e){return t&&Je(e,be(e),t)};const Ye=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e};var Qe=Object.prototype.hasOwnProperty;const tn=function(t){if(!M(t))return Ye(t);var e=le(t),n=[];for(var o in t)("constructor"!=o||!e&&Qe.call(t,o))&&n.push(o);return n};const en=function(t){return ge(t)?he(t,!0):tn(t)};const nn=function(t,e){return t&&Je(e,en(e),t)};var on="object"==typeof exports&&exports&&!exports.nodeType&&exports,rn=on&&"object"==typeof module&&module&&!module.nodeType&&module,sn=rn&&rn.exports===on?w.Buffer:void 0,an=sn?sn.allocUnsafe:void 0;const cn=function(t,e){if(e)return t.slice();var n=t.length,o=an?an(n):new t.constructor(n);return t.copy(o),o};const xn=function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e};const hn=function(t,e){return Je(t,Bt(t),e)};const dn=ue(Object.getPrototypeOf,Object);const ln=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Vt(e,Bt(t)),t=dn(t);return e}:Nt;const un=function(t,e){return Je(t,ln(t),e)};const mn=function(t){return St(t,en,ln)};var fn=Object.prototype.hasOwnProperty;const pn=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&fn.call(t,"index")&&(n.index=t.index,n.input=t.input),n};const gn=function(t){var e=new t.constructor(t.byteLength);return new At(e).set(new At(t)),e};const bn=function(t,e){var n=e?gn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)};var vn=/\w*$/;const _n=function(t){var e=new t.constructor(t.source,vn.exec(t));return e.lastIndex=t.lastIndex,e};var wn=k?k.prototype:void 0,kn=wn?wn.valueOf:void 0;const yn=function(t){return kn?Object(kn.call(t)):{}};const Cn=function(t,e){var n=e?gn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};const An=function(t,e,n){var o=t.constructor;switch(e){case"[object ArrayBuffer]":return gn(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return bn(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Cn(t,n);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return _n(t);case"[object Symbol]":return yn(t)}};var Tn=Object.create;const En=function(){function t(){}return function(e){if(!M(e))return{};if(Tn)return Tn(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const In=function(t){return"function"!=typeof t.constructor||le(t)?{}:En(dn(t))};const jn=function(t){return Ft(t)&&"[object Map]"==Pe(t)};var On=se&&se.isMap;const Vn=On?ne(On):jn;const Mn=function(t){return Ft(t)&&"[object Set]"==Pe(t)};var Sn=se&&se.isSet;const Dn=Sn?ne(Sn):Mn;var Nn="[object Arguments]",Rn="[object Function]",Pn="[object Object]",Bn={};Bn[Nn]=Bn["[object Array]"]=Bn["[object ArrayBuffer]"]=Bn["[object DataView]"]=Bn["[object Boolean]"]=Bn["[object Date]"]=Bn["[object Float32Array]"]=Bn["[object Float64Array]"]=Bn["[object Int8Array]"]=Bn["[object Int16Array]"]=Bn["[object Int32Array]"]=Bn["[object Map]"]=Bn["[object Number]"]=Bn["[object Object]"]=Bn["[object RegExp]"]=Bn["[object Set]"]=Bn["[object String]"]=Bn["[object Symbol]"]=Bn["[object Uint8Array]"]=Bn["[object Uint8ClampedArray]"]=Bn["[object Uint16Array]"]=Bn["[object Uint32Array]"]=!0,Bn["[object Error]"]=Bn[Rn]=Bn["[object WeakMap]"]=!1;const zn=function t(e,n,o,i,r,s){var a,c=1&n,x=2&n,h=4&n;if(o&&(a=r?o(e,i,r,s):o(e)),void 0!==a)return a;if(!M(e))return e;var d=Mt(e);if(d){if(a=pn(e),!c)return xn(e,a)}else{var l=Pe(e),u=l==Rn||"[object GeneratorFunction]"==l;if(Jt(e))return cn(e,c);if(l==Pn||l==Nn||u&&!r){if(a=x||u?{}:In(e),!c)return x?un(e,nn(a,e)):hn(e,Xe(a,e))}else{if(!Bn[l])return r?e:{};a=An(e,l,c)}}s||(s=new gt);var m=s.get(e);if(m)return m;s.set(e,a),Dn(e)?e.forEach((function(i){a.add(t(i,n,o,i,e,s))})):Vn(e)&&e.forEach((function(i,r){a.set(r,t(i,n,o,r,e,s))}));var f=d?void 0:(h?x?mn:ve:x?en:be)(e);return He(f||e,(function(i,r){f&&(i=e[r=i]),Ge(a,r,t(i,n,o,r,e,s))})),a};const Fn=function(t){return zn(t,5)};const Ln=function(t){return"symbol"==typeof t||Ft(t)&&"[object Symbol]"==V(t)};var Un=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kn=/^\w*$/;const Wn=function(t,e){if(Mt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ln(t))||(Kn.test(t)||!Un.test(t)||null!=e&&t in Object(e))};function Hn(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var o=arguments,i=e?e.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var s=t.apply(this,o);return n.cache=r.set(i,s)||r,s};return n.cache=new(Hn.Cache||mt),n}Hn.Cache=mt;const Zn=Hn;var qn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$n=/\\(\\)?/g;const Gn=function(t){var e=Zn(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(qn,(function(t,n,o,i){e.push(o?i.replace($n,"$1"):n||t)})),e}));const Jn=function(t,e){for(var n=-1,o=null==t?0:t.length,i=Array(o);++n<o;)i[n]=e(t[n],n,t);return i};var Xn=k?k.prototype:void 0,Yn=Xn?Xn.toString:void 0;const Qn=function t(e){if("string"==typeof e)return e;if(Mt(e))return Jn(e,t)+"";if(Ln(e))return Yn?Yn.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n};const to=function(t){return null==t?"":Qn(t)};const eo=function(t,e){return Mt(t)?t:Wn(t,e)?[t]:Gn(to(t))};const no=function(t){if("string"==typeof t||Ln(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};const oo=function(t,e,n,o){if(!M(t))return t;for(var i=-1,r=(e=eo(e,t)).length,s=r-1,a=t;null!=a&&++i<r;){var c=no(e[i]),x=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=s){var h=a[c];void 0===(x=o?o(h,c,a):void 0)&&(x=M(h)?h:Yt(e[i+1])?[]:{})}Ge(a,c,x),a=a[c]}return t};const io=function(t,e,n){return null==t?t:oo(t,e,n)};const ro=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};const so=function(t,e){for(var n=0,o=(e=eo(e,t)).length;null!=t&&n<o;)t=t[no(e[n++])];return n&&n==o?t:void 0};const ao=function(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(i);++o<i;)r[o]=t[o+e];return r};const co=function(t,e){return e.length<2?t:so(t,ao(e,0,-1))};const xo=function(t,e){return e=eo(e,t),null==(t=co(t,e))||delete t[no(ro(e))]};const ho=function(t,e){return null==t||xo(t,e)};var lo,uo,mo=["updateComment","removeCommentThread","getComment","model","_isAttached","destroy","update","_localUser","removeComment","addComment","remove","view","listenTo"];lo=mo,uo=132,function(t){for(;--t;)lo.push(lo.shift())}(++uo);var fo=function(t,e){return mo[t-=0]};class po{constructor(t,e){this.model=t,this.model[fo("0x2")]=!0,this[fo("0x9")]=e,this[fo("0xa")](e,fo("0xc"),(()=>this[fo("0x8")]())),this[fo("0xa")](e,fo("0x7"),((t,e)=>this[fo("0x7")](e))),this[fo("0xa")](e,fo("0xb"),((t,e,n)=>this[fo("0xb")](e,n))),this[fo("0xa")](e,"removeComment",((t,e)=>this.removeComment(e)))}[fo("0x8")](){this.model.remove()}[fo("0x7")](t){this.model.addComment({content:t,authorId:this[fo("0x9")][fo("0x5")].id})}[fo("0xb")](t,e){this.model[fo("0x0")](t)[fo("0x4")]({content:e})}[fo("0x6")](t){this[fo("0x1")][fo("0x0")](t)[fo("0x8")]()}[fo("0x3")](){this.stopListening(),this[fo("0x1")][fo("0x2")]=!1}}(0,e.mix)(po,e.ObservableMixin);var go=n(273);function bo(t,e,n){const o=t.t;switch(e){case"PENDING_ACTION_COMMENT_THREAD":return o({string:"Unsaved change in comment thread.",id:"PENDING_ACTION_COMMENT_THREAD"});case"Comment":return o("Comment");case"Reply...":return o("Reply...");case"Write a comment...":return o("Write a comment...");case"Comment editor":return o("Comment editor");case"Delete comment thread?":return o("Delete comment thread?");case"Delete comment?":return o("Delete comment?");case"Cancel":return o("Cancel");case"Edit":return o("Edit");case"Remove":return o("Remove");case"Submit":return o("Submit");case"NUMBER_OF_COMMENTS":return o({string:"%0 Comment",plural:"%0 Comments",id:"NUMBER_OF_COMMENTS"},n);case"TOO_LONG_COMMENT_ALERT":return o({string:"Comment content is too long. Your comment has %0 characters but the limit is %1 characters.",id:"TOO_LONG_COMMENT_ALERT"},n);case"EXTERNAL_COMMENT":return o({string:"This comment comes from an external source.",id:"EXTERNAL_COMMENT"})}}const vo=["comment","_createVoiceLabel","ck-editor__main","cke-editor__aria-label_","uiLanguageDirection","text","ck-comment__input","element","div","editable","_voiceLabelView","focus","createCollection","uiLanguage","Comment editor","main","presentation","ck-editor__aria-label_","add","render"];var _o,wo;_o=vo,wo=351,function(t){for(;--t;)_o.push(_o.shift())}(++wo);const ko=function(t,e){return vo[t-=0]};class yo extends go.EditorUIView{constructor(t,n){super(t);const o=(0,e.uid)();this[ko("0x4")]=this[ko("0x1")](),this[ko("0x12")]=new go.InlineEditableUIView(t,n),this[ko("0x13")]=this[ko("0xa")](o,t),this.setTemplate({tag:"div",attributes:{class:["ck-reset","ck-editor","ck-rounded-corners",ko("0xf")],role:ko("0x9"),dir:t[ko("0xd")],lang:t[ko("0x2")],"aria-labelledby":ko("0xc")+o},children:[this[ko("0x13")],{tag:ko("0x11"),attributes:{class:ko("0xb"),role:ko("0x5")},children:this[ko("0x4")]}]})}render(){super[ko("0x8")](),this[ko("0x4")][ko("0x7")](this[ko("0x12")])}[ko("0x0")](){this[ko("0x12")][ko("0x10")].focus()}[ko("0xa")](t,e){const n=new go.LabelView;return n[ko("0xe")]=bo(e,ko("0x3")),n.extendTemplate({attributes:{id:ko("0x6")+t,class:"ck-voice-label"}}),n}}const Co=["attachDomRoot","isFocused","getRoot","focusTracker","editing","destroy","editor","element","rootName","ready","locale","fire","name","setEditableElement","view","init","editable"];var Ao,To;Ao=Co,To=497,function(t){for(;--t;)Ao.push(Ao.shift())}(++To);const Eo=function(t,e){return Co[t-=0]};class Io extends t.EditorUI{constructor(t){super(t),this[Eo("0xa")]=new yo(t[Eo("0x6")],t[Eo("0x0")][Eo("0xa")])}get[Eo("0x3")](){return this[Eo("0xa")].element}[Eo("0xb")](){const t=this[Eo("0x2")][Eo("0x0")].view,e=this.view[Eo("0xc")],n=t.document[Eo("0xf")]();e[Eo("0x8")]=n[Eo("0x4")],this.view.render();const o=e.element;this[Eo("0x9")](e[Eo("0x8")],o),this[Eo("0xa")][Eo("0xc")].bind(Eo("0xe")).to(this[Eo("0x10")]),t[Eo("0xd")](o),this[Eo("0x7")](Eo("0x5"))}[Eo("0x1")](){this[Eo("0xa")][Eo("0x1")](),super[Eo("0x1")]()}}var jo=n(492),Oo=n(945),Vo=n(331),Mo=n(468),So=n(181),Do=n(254),No=n(747);const Ro=["getRoot","editing","_updatePlaceholder","get","initPlugins","createRoot","document","destroy","create","ready","change","placeholder","childCount","setSelection","change:placeholder","model","getChild","placeholderElement","plugins","low","defaultPlugins","end","assign","focus","config","then"];var Po,Bo;Po=Ro,Bo=103,function(t){for(;--t;)Po.push(Po.shift())}(++Bo);const zo=function(t,e){return Ro[t-=0]};class Fo extends t.Editor{constructor(t={}){(t=Object[zo("0x17")]({},t))[zo("0x13")]||(t[zo("0x13")]=Fo[zo("0x15")]),super(t),this.ui=new Io(this),this.set(zo("0xc"),""),this.model[zo("0x7")].on(zo("0xb"),(()=>this[zo("0x3")]()),{priority:zo("0x14")}),this.on(zo("0xf"),(()=>this[zo("0x3")]())),this[zo("0x10")][zo("0x7")][zo("0x6")]()}[zo("0x9")](){const t=this[zo("0x19")][zo("0x4")]("initialData")||"";return this[zo("0x5")]()[zo("0x0")]((()=>this.ui.init()))[zo("0x0")]((()=>this.data.init(t)))[zo("0x0")]((()=>this.fire(zo("0xa"))))}[zo("0x8")](){return super[zo("0x8")]()[zo("0x0")]((()=>this.ui[zo("0x8")]()))}[zo("0x18")](){this.model[zo("0xb")]((t=>{const e=this[zo("0x10")][zo("0x7")][zo("0x1")](),n=e[zo("0x11")](e[zo("0xd")]-1);t[zo("0xe")](n,zo("0x16")),this.editing.view.focus()}))}[zo("0x3")](){const t=this[zo("0x2")].view,e=t[zo("0x7")][zo("0x1")](),n=e.getChild(0);e.childCount>1||!n||"p"!=n.name?this.placeholderElement&&((0,jo.disablePlaceholder)(t,this[zo("0x12")]),this[zo("0x12")]=void 0):((0,jo.enablePlaceholder)({view:t,element:n,text:this[zo("0xc")],keepOnFocus:!0}),this[zo("0x12")]=n)}}(0,e.mix)(Fo,e.ObservableMixin),(0,e.mix)(Fo,t.DataApiMixin),Fo[zo("0x15")]=[Oo.Clipboard,Vo.Enter,Vo.ShiftEnter,Mo.SelectAll,So.Typing,Do.Undo,No.Paragraph];const Lo=["shift + tab","Reply...","cancelButtonView","add","placeholder","set","_isDestroyed","ck-comment__input-wrapper","TOO_LONG_COMMENT_ALERT","focusPrevious","check","tab","disabledSubmit","_createSubmitButton","insertBefore","element","Esc","keystrokes","submitButtonView","ck-comment__input-actions--cancel","ck-comment__input-actions","forEach","trim","focusNext","icon","_editorCreationPromise","createEditor","submit","fire","editor","then","div","cancel","label","_initializeFocusCycling","editorReady","high","render","value","destroy","ck-comment__input-actions--active","low","ck-comment__input-actions--submit","extendTemplate","change","document","model","_editorConfig","stop","Cancel","execute","setTemplate","setData","focusTracker","bind","length","focus","_createCancelButton","firstChild","listenTo","showButtons"];var Uo,Ko;Uo=Lo,Ko=202,function(t){for(;--t;)Uo.push(Uo.shift())}(++Ko);const Wo=function(t,e){return Lo[t-=0]};class Ho extends go.View{constructor(t,n={}){super(t),this[Wo("0xa")]=null,this[Wo("0x1c")]=n,this[Wo("0x3b")]=new e.KeystrokeHandler,this[Wo("0x22")]=new e.FocusTracker,this.set("value",n.initialData||""),this[Wo("0x2f")](Wo("0x36"),!1),this.set(Wo("0x29"),!0),this[Wo("0x2f")]("placeholder",bo(t,Wo("0x2b"))),this[Wo("0x3c")]=this[Wo("0x37")](),this[Wo("0x2c")]=this[Wo("0x26")](),this[Wo("0x20")]({tag:Wo("0xc"),attributes:{class:[Wo("0x31")]},children:[{tag:Wo("0xc"),attributes:{class:[Wo("0x1"),this.bindTemplate.if(Wo("0x29"),Wo("0x15"))]},children:[this[Wo("0x3c")],this[Wo("0x2c")]]}]}),this.keystrokes.set(Wo("0x3a"),((t,e)=>{this[Wo("0x2c")][Wo("0x9")](Wo("0x1f")),e()})),this.on(Wo("0x8"),((e,n)=>{n[Wo("0x24")]>65e3?(alert(bo(t,Wo("0x32"),[n[Wo("0x24")],65e3])),e[Wo("0x1d")]()):this.editor.setData("")}),{priority:Wo("0x11")})}[Wo("0x12")](){super[Wo("0x12")](),this[Wo("0x3b")][Wo("0x28")](this[Wo("0x39")]),this.focusTracker[Wo("0x2d")](this[Wo("0x39")])}[Wo("0x7")](){return this[Wo("0xa")]||(this[Wo("0xa")]=new Fo(this[Wo("0x1c")]),this[Wo("0x6")]=this[Wo("0xa")].create()[Wo("0xb")]((()=>{this._isDestroyed||(this[Wo("0x39")][Wo("0x38")](this[Wo("0xa")].ui[Wo("0x39")],this[Wo("0x39")][Wo("0x27")]),this[Wo("0xa")][Wo("0x1b")][Wo("0x1a")].on(Wo("0x19"),(()=>this.value=this[Wo("0xa")].getData())),this[Wo("0xa")].bind(Wo("0x2e")).to(this),this[Wo("0xf")](this[Wo("0xa")]),this[Wo("0x9")](Wo("0x10")))}))),this._editorCreationPromise}[Wo("0x25")](){this[Wo("0xa")]&&this[Wo("0xa")][Wo("0x25")]()}async[Wo("0x14")](){this._isDestroyed||(this[Wo("0x30")]=!0,this.editor&&(await this[Wo("0x6")],await this[Wo("0xa")][Wo("0x14")]()),await super[Wo("0x14")]())}_createSubmitButton(){const{locale:e}=this,n=new go.ButtonView(e);return n[Wo("0x18")]({attributes:{class:[Wo("0x17")]}}),n[Wo("0xe")]=bo(e,"Submit"),n[Wo("0x5")]=t.icons[Wo("0x34")],n.on("execute",(()=>{this.fire(Wo("0x8"),this[Wo("0x13")])})),n[Wo("0x23")]("isEnabled").to(this,"value",this,"disabledSubmit",((t,e)=>!e&&!!t[Wo("0x3")]())),n}[Wo("0x26")](){const{locale:e}=this,n=new go.ButtonView(e);return n.extendTemplate({attributes:{class:[Wo("0x0")]}}),n.label=bo(e,Wo("0x1e")),n[Wo("0x5")]=t.icons[Wo("0xd")],n.on("execute",(()=>{this[Wo("0xa")][Wo("0x21")](""),this[Wo("0x9")](Wo("0xd"))})),n}_initializeFocusCycling(t){const e=this.focusTracker,n=new go.ViewCollection;[t.ui.view,this[Wo("0x3c")],this[Wo("0x2c")]][Wo("0x2")]((t=>{n[Wo("0x2d")](t),e[Wo("0x2d")](t.element)}));const o=new go.FocusCycler({focusables:n,focusTracker:e});this[Wo("0x3b")][Wo("0x2f")](Wo("0x35"),((t,e)=>{o[Wo("0x4")](),e()}),{priority:Wo("0x16")}),this.keystrokes[Wo("0x2f")](Wo("0x2a"),((t,e)=>{o[Wo("0x33")](),e()}),{priority:"low"})}}var Zo,qo,$o=["setTemplate","editor","div","userView","showInput","ck-thread__input","value","then","set","extendTemplate","commentInputView","ck-comment__input-container--active","showButtons","focusTracker","bindTemplate","ck-thread__user","createEditor","isFocused","change:showInput"];Zo=$o,qo=500,function(t){for(;--t;)Zo.push(Zo.shift())}(++qo);var Go=function(t,e){return $o[t-=0]};class Jo extends go.View{constructor(t,e,n){super(t),this[Go("0x4")]=new Ho(t,n),this[Go("0x4")].bind(Go("0x6")).to(this[Go("0x4")][Go("0x7")],Go("0xb"),this[Go("0x4")],Go("0x0"),((t,e)=>t||!!e)),this[Go("0x2")](Go("0x11"),!1),this.on(Go("0xc"),(()=>{this.showInput&&!this[Go("0x4")][Go("0xe")]&&this[Go("0x4")][Go("0xa")]()})),this[Go("0x10")]=new i.UserView(t,e),this.userView[Go("0x3")]({attributes:{class:Go("0x9")}}),this[Go("0x4")][Go("0x3")]({attributes:{class:Go("0x12")}}),this[Go("0xd")]({tag:Go("0xf"),attributes:{class:["ck-comment__input-container",this[Go("0x8")].if(Go("0x11"),Go("0x5"))]},children:[this.userView,this.commentInputView]})}destroy(){return this.commentInputView.destroy()[Go("0x1")]((()=>super.destroy()))}}const Xo=["bindTemplate","set","count","setTemplate","ck-thread__comment-count","NUMBER_OF_COMMENTS"];var Yo,Qo;Yo=Xo,Qo=189,function(t){for(;--t;)Yo.push(Yo.shift())}(++Qo);const ti=function(t,e){return Xo[t-=0]};class ei extends go.View{constructor(t){super(t);const e=this[ti("0x3")];this[ti("0x4")](ti("0x5")),this[ti("0x0")]({tag:"li",attributes:{class:ti("0x1")},children:[{text:e.to("count",(e=>bo(t,ti("0x2"),e)))}]})}}const ni=["isActive","remove","listenTo","change:hasDirtyComment","editorConfig","_handleNewCommentModel","bind","insert","from","_config","_handleRemoveCommentModel","some","add","refreshVisibleViews","length","comments","updateComment","get","visibleViews","isEditMode","locale","element","equal","render","focus","setTemplate","change:isEditMode","_collapsedCommentsView","hasDirtyComment","destroy","CommentView","delegate","_rearrangeCollapse","weight","viewUid","commentUpdated","collapse","commentViews","removeComment","_model","ck-thread__comments","count","createCollection","expand","_shouldCollapse","_updateHasDirtyComment"];var oi,ii;oi=ni,ii=145,function(t){for(;--t;)oi.push(oi.shift())}(++ii);const ri=function(t,e){return ni[t-=0]};class si extends go.View{constructor(t,e,n){super(t),this.set(ri("0x15"),!1),this.set(ri("0x7"),e[ri("0x8")].length),this.set("isActive",!1),this[ri("0x20")]=e,this._config=n,this.commentViews=this[ri("0x23")](),this.visibleViews=this[ri("0x23")](),this._collapsedCommentsView=new ei(t),this[ri("0x14")][ri("0x2d")]("count").to(this,ri("0x7"),(t=>t-this[ri("0x2")].maxCommentsWhenCollapsed));for(const t of e[ri("0x8")])this[ri("0x2c")](t);this[ri("0x29")](e[ri("0x8")],"add",((t,e)=>{this[ri("0x7")]++,this[ri("0x2c")](e),this.refreshVisibleViews()})),this[ri("0x29")](e[ri("0x8")],ri("0x28"),((t,e)=>{this[ri("0x7")]--,this[ri("0x3")](e),this[ri("0x6")]()})),this[ri("0x29")](e,ri("0x1c"),(()=>this[ri("0x6")]())),this.on("change:isActive",(()=>this[ri("0x6")]())),this.on(ri("0x2a"),(()=>this[ri("0x6")]())),this[ri("0x12")]({tag:"ul",attributes:{class:[ri("0x21")]},children:this[ri("0xb")]})}get[ri("0x25")](){return this[ri("0x20")][ri("0x1a")]>this._config.maxThreadTotalWeight&&!this[ri("0x27")]&&!this[ri("0x15")]}[ri("0x10")](){super[ri("0x10")](),this[ri("0x6")]()}focus(){this[ri("0xe")][ri("0x11")]()}[ri("0x16")](){this._collapsedCommentsView.destroy();for(const t of this[ri("0x1e")])t[ri("0x16")]();super[ri("0x16")]()}[ri("0x6")](){this[ri("0x25")]?this._rearrangeCollapse():this._rearrangeExpand()}_handleNewCommentModel(t){const e=new(this[ri("0x2")][ri("0x17")])(this[ri("0xd")],t,{maxCommentCharsWhenCollapsed:this._config.maxCommentCharsWhenCollapsed,formatDateTime:this[ri("0x2")].formatDateTime,editorConfig:this[ri("0x2")][ri("0x2b")]});e[ri("0x1b")]=t.id,e[ri("0x18")](ri("0x1f")).to(this),e.delegate(ri("0x9")).to(this),this.listenTo(e,ri("0x13"),(()=>this._updateHasDirtyComment())),this.commentViews[ri("0x5")](e)}[ri("0x3")](t){const e=this[ri("0x1e")][ri("0x28")](t.id);this.stopListening(e),e[ri("0xc")]&&this._updateHasDirtyComment(),e[ri("0x16")]()}[ri("0x26")](){this[ri("0x15")]=Array.from(this[ri("0x1e")])[ri("0x4")]((t=>t.isEditMode))}[ri("0x19")](){const t=function(t){const n=new e.Collection;for(const e of t)n[ri("0x5")](e);return n}(this.commentViews),n=this[ri("0x14")][ri("0x22")];for(let e=1;e<=n;e++)t[ri("0x28")](1);for(const e of t)e[ri("0x1d")]();n>0&&t[ri("0x5")](this._collapsedCommentsView,1),ai((0,e.diff)(Array[ri("0x1")](this[ri("0xb")]),Array.from(t)),this[ri("0xb")],t)}_rearrangeExpand(){ai((0,e.diff)(Array[ri("0x1")](this[ri("0xb")]),Array[ri("0x1")](this[ri("0x1e")])),this[ri("0xb")],this[ri("0x1e")]);for(const t of this[ri("0xb")])t[ri("0x24")]()}}function ai(t,e,n){let o=0;for(const i of t)switch(i){case ri("0x0"):e[ri("0x5")](n[ri("0xa")](o),o),o++;break;case"delete":e[ri("0x28")](o);break;case ri("0xf"):o++}}const ci=["submit","isDirty","commentInputView","updateComment","Reply...","isReadOnly","_model","removeCommentThread","assign","hasDirtyComment","delegate","destroy","set","commentsListView","isActive","length","disabledSubmit","_localUser","placeholder","locale","fire","_config","commentThreadInputView","bind","removeComment","value","stop","focus","Write a comment...","editorConfig"];var xi,hi;xi=ci,hi=306,function(t){for(;--t;)xi.push(xi.shift())}(++hi);const di=function(t,e){return ci[t-=0]};class li extends go.View{constructor(t,e,n,o){super(t),this.set(di("0x8"),!1),this[di("0x6")](di("0x19"),!1),this[di("0x0")]=e,this[di("0xb")]=n,this[di("0xf")]=o,this.commentsListView=new si(t,e,Object[di("0x2")]({CommentView:this[di("0xf")].CommentView},o)),this[di("0x7")][di("0x4")](di("0x12")).to(this),this[di("0x7")][di("0x4")](di("0x1b")).to(this),this[di("0x7")].bind(di("0x8")).to(this),this[di("0x6")](di("0x9"),this[di("0x7")].length),this[di("0x11")]("length").to(this[di("0x7")],di("0x9")),this[di("0x10")]=this._createCommentThreadInputView(),this.on("removeComment",(()=>this[di("0x15")]())),this[di("0x11")](di("0x19")).to(this[di("0x7")],di("0x3"),this[di("0x10")].commentInputView,"value",((t,e)=>t||!!e))}[di("0x15")](){this.element[di("0x15")]()}[di("0x5")](){this[di("0x19")]=!1,this[di("0x7")][di("0x5")](),this[di("0x10")][di("0x5")](),super[di("0x5")]()}_createCommentThreadInputView(){const t=new Jo(this[di("0xd")],this._localUser,this[di("0xf")][di("0x17")]),e=t[di("0x1a")];return t[di("0x11")]("showInput").to(this,"isActive",this[di("0x0")],di("0x1d"),e,di("0x13"),((t,e,n)=>!!n||t&&!e)),e[di("0x11")](di("0xc")).to(this,di("0x9"),(t=>bo(this[di("0xd")],di(t?"0x1c":"0x16")))),e.on(di("0x18"),((t,e)=>{this[di("0xe")]("addComment",e)})),e.on("cancel",(()=>{this.focus()})),e.bind(di("0xa")).to(this[di("0x0")],di("0x1d")),e.on("cancel",(t=>{0==this.length&&(this.fire("removeCommentThread"),t[di("0x14")]())})),this.on("change:isActive",((t,n,o)=>{o||this.length||e[di("0x13")]||this.fire(di("0x1"))})),t}}const ui=["containerElement","removeButton","actionIndicator","locale","ck-thread--","Delete comment thread?","Write a comment...","get","div","_bindFirstCommentView","fire","length","commentViews","element","stop","render","add","then","cancelConfirm","listenTo","bind","bindTemplate","remove","ck-thread__container","commentsListView","set",".ck-thread__container","isActive","ck-thread--active","ck-thread","_model","high","getTemplate","ck-thread--remove-confirmation","off","change:isActive","_cancelAllConfirms","isConfirm","removeCommentThread","execute","change:isReadOnly"];var mi,fi;mi=ui,fi=187,function(t){for(;--t;)mi.push(mi.shift())}(++fi);const pi=function(t,e){return ui[t-=0]};class gi extends li{constructor(t,e,n,o){super(t,e,n,o),this[pi("0x2")](pi("0x14"),null),this[pi("0x12")]=null,this[pi("0x15")]=t,this.setTemplate(this[pi("0x9")]()),this.on(pi("0xc"),((t,e,n)=>{n||this._cancelAllConfirms()})),this[pi("0x25")](this[pi("0x7")],pi("0x11"),((t,e,n)=>{n&&this._cancelAllConfirms()})),this[pi("0x1d")]>0?this._bindFirstCommentView():this.listenTo(this[pi("0x1")][pi("0x1e")],pi("0x22"),(t=>{this[pi("0x1b")](),t[pi("0xb")]()}))}[pi("0x9")](){const t=this[pi("0x27")];return{tag:pi("0x1a"),attributes:{class:[pi("0x6"),t.if(pi("0x4"),pi("0x5")),t.if(pi("0xe"),pi("0xa")),t.to(pi("0x14"),(t=>t?pi("0x16")+t:""))],"data-thread-id":this[pi("0x7")].id,tabindex:-1},children:[{tag:"div",attributes:{class:pi("0x0")},children:[this.commentsListView,this.commentThreadInputView]}]}}render(){super[pi("0x21")](),this[pi("0x12")]=this[pi("0x1f")].querySelector(pi("0x3"))}[pi("0xd")](){this[pi("0x24")]();for(const t of this[pi("0x1")].commentViews)t[pi("0x24")]()}[pi("0x1b")](){const{locale:t}=this,e=this[pi("0x1")][pi("0x1e")][pi("0x19")](0);this[pi("0x26")]("actionIndicator").to(e,pi("0x14"),(t=>pi("0x28")===t?pi("0x28"):null)),e.placeholder=bo(t,pi("0x18")),e[pi("0x13")].on(pi("0x10"),(e=>{e[pi("0x20")](),this.showConfirm(bo(t,pi("0x17")),this[pi("0x12")])[pi("0x23")]((()=>{this[pi("0x1c")](pi("0xf"))}))}),{priority:pi("0x8")})}}(0,e.mix)(gi,i.ConfirmMixin);var bi,vi,_i=["render","ck-comment__content","content","innerHTML","setTemplate","change:content","ck-annotation__content","div","set","element"];bi=_i,vi=254,function(t){for(;--t;)bi.push(bi.shift())}(++vi);var wi=function(t,e){return _i[t-=0]};class ki extends go.View{constructor(t){super(t),this[wi("0x4")](wi("0x8"),""),this[wi("0x0")]({tag:wi("0x3"),attributes:{class:[wi("0x7"),wi("0x2")]}})}[wi("0x6")](){super[wi("0x6")](),this.on(wi("0x1"),((t,e,n)=>{this[wi("0x5")][wi("0x9")]=n})),this.element[wi("0x9")]=this.content}}const yi=["switchToDisplayMode","editorReady","locale","updateComment","content","bind","get","createCollection","isEditMode","createEditor","maxCommentCharsWhenCollapsed","_config","focus","element","isCollapsed","destroy","_model","isReadOnly","fire","visibleView","submit","_createCommentInputView","cancel","editorConfig","value","set","_createCommentContentView","expand"];var Ci,Ai;Ci=yi,Ai=405,function(t){for(;--t;)Ci.push(Ci.shift())}(++Ai);const Ti=function(t,e){return yi[t-=0]};class Ei extends go.View{constructor(t,e,n){super(t),this[Ti("0x3")]=e,this._config=n,this[Ti("0xc")]("isEditMode",!1),this[Ti("0xc")]("isCollapsed",!0),this[Ti("0x6")]=this[Ti("0x16")](),this[Ti("0x6")].add(this._createCommentContentView())}[Ti("0xe")](){this.isCollapsed=!1}collapse(){this[Ti("0x17")]||(this[Ti("0x1")]=!0)}[Ti("0x1b")](){this[Ti("0x0")][Ti("0x1b")]()}async[Ti("0x2")](){await this.visibleView[Ti("0x15")](0).destroy(),super[Ti("0x2")]()}switchToEditMode(){this.isEditMode||(this[Ti("0x17")]=!0,this[Ti("0x6")].remove(0)[Ti("0x2")](),this[Ti("0x6")].add(this[Ti("0x8")]()))}[Ti("0xf")](){this[Ti("0x17")]&&(this.isEditMode=!1,this[Ti("0x6")].remove(0).destroy(),this[Ti("0x6")].add(this._createCommentContentView()))}[Ti("0xd")](){const t=new ki(this[Ti("0x11")]);return t[Ti("0x14")](Ti("0x13")).to(this[Ti("0x3")],Ti("0x13"),this,Ti("0x1"),((t,e)=>e?(0,i.trimHtml)(t,{limit:this[Ti("0x1a")][Ti("0x19")]}):t)),t}_createCommentInputView(){this._config[Ti("0xa")]||(this[Ti("0x1a")].editorConfig={}),this[Ti("0x1a")][Ti("0xa")].initialData=this[Ti("0x3")][Ti("0x13")];const t=new Ho(this.locale,this._config.editorConfig);return t[Ti("0xb")]=this._model[Ti("0x13")],t[Ti("0x14")]("disabledSubmit").to(this[Ti("0x3")],Ti("0x4")),t.on(Ti("0x7"),((t,e)=>{this[Ti("0x5")](Ti("0x12"),this[Ti("0x3")].id,e),this.switchToDisplayMode(),this[Ti("0x1b")]()})),t.on(Ti("0x9"),(()=>{this.switchToDisplayMode(),this.focus()})),t.once(Ti("0x10"),(()=>{t.focus()})),t[Ti("0x18")](),t}}const Ii=["div","ck-comment--","render","userView","editButton","blur","ck-comment__external","EXTERNAL_COMMENT","icon","locale","formatDateTime","ck-comment__user","label","Remove","bind","_createEditButton","ck-comment--edit","extendTemplate","set","execute","ck-comment__actions--hidden","setTemplate","_createCommentInputView","ck-comment__actions","_attachActions","removeButton","Edit","ck-comment--remove-confirmation","isEnabled","removeComment","getTemplate","isEditable","ck-annotation__content-wrapper","push","ck-annotation__user","ck-annotation__main","ck-annotation__actions","ck-annotation__info","_model","placeholder","time","span","createdAt","isEditMode","switchToEditMode","element","change:isRemovable","edit","ck-annotation__info-time","externalAuthor","then","isReadOnly","ck-comment--remove","author","focus","_config","listenTo","ck-annotation","cancelConfirm","ck-comment","ck-annotation__actions--hidden","attributes","visibleView","ck-comment__info-name","_createRemoveButton","Delete comment?","isConfirm","ck-annotation__info-name","remove","isRemovable","@external","actionIndicator","ck-comment__wrapper","ck-comment__main"];var ji,Oi;ji=Ii,Oi=294,function(t){for(;--t;)ji.push(ji.shift())}(++Oi);const Vi=function(t,e){return Ii[t-=0]};class Mi extends Ei{constructor(t,e,n){super(t,e,n),this[Vi("0x14")](Vi("0x49"),null),this[Vi("0x14")](Vi("0x29"),bo(t,"Reply...")),this[Vi("0x14")](Vi("0x2c"),null),this.bind(Vi("0x2c")).to(e[Vi("0x33")]?e[Vi("0x3f")][Vi("0x48")]:e),this[Vi("0x6")]=this._createEditButton(),this[Vi("0x1b")]=this[Vi("0x42")](),this[Vi("0x5")]=new i.UserView(t,e[Vi("0x33")]||e[Vi("0x37")]),this[Vi("0x5")][Vi("0x13")]({attributes:{class:[Vi("0xd"),Vi("0x24")]}}),this[Vi("0x3a")](e,Vi("0x30"),(()=>this[Vi("0x3c")]())),this[Vi("0x17")](this[Vi("0x20")]())}[Vi("0x20")](){const t=this.bindTemplate,e=[{tag:Vi("0x2"),attributes:{class:["ck-comment__info",Vi("0x27")]},children:[{tag:Vi("0x2b"),children:[{text:this.userView.name}],attributes:{class:[Vi("0x41"),Vi("0x45")]}},{tag:Vi("0x2a"),attributes:{datetime:t.to("createdAt"),class:["ck-comment__info-time",Vi("0x32")]},children:[{text:t.to(Vi("0x2c"),(t=>this[Vi("0x39")][Vi("0xc")](t)))}]}]},{tag:Vi("0x2"),attributes:{class:[Vi("0x19"),Vi("0x26"),t.if(Vi("0x2d"),Vi("0x16")),t.if(Vi("0x2d"),Vi("0x3e"))]},children:[this.editButton,this.removeButton]},{tag:Vi("0x2"),attributes:{class:[Vi("0x22")]},children:this[Vi("0x40")]}];return this[Vi("0x28")][Vi("0x33")]&&e[Vi("0x23")]({tag:Vi("0x2"),attributes:{class:[Vi("0x8")]},children:[{text:bo(this[Vi("0xb")],Vi("0x9"))}]}),{tag:"li",attributes:{class:[Vi("0x0"),t.if(Vi("0x44"),Vi("0x1d"))],tabindex:-1},children:[{tag:Vi("0x2"),attributes:{class:[Vi("0x3d"),Vi("0x3b"),t.if(Vi("0x2d"),Vi("0x12")),t.to(Vi("0x49"),(t=>t?Vi("0x3")+t:""))],"data-author-id":this[Vi("0x28")][Vi("0x37")].id,"data-comment-id":this[Vi("0x28")].id},children:[this.userView,{tag:"div",attributes:{class:[Vi("0x1"),Vi("0x25")]},children:e}]}]}}[Vi("0x11")](){const e=new go.ButtonView(this[Vi("0xb")]);return e[Vi("0xe")]=bo(this[Vi("0xb")],Vi("0x1c")),e[Vi("0xa")]=t.icons.pencil,e[Vi("0x13")]({attributes:{class:Vi("0x12")}}),e[Vi("0x10")](Vi("0x1e")).to(this._model,Vi("0x35"),(t=>!t)),e[Vi("0x10")]("isVisible").to(this[Vi("0x28")],Vi("0x21")),e.on(Vi("0x15"),(()=>this[Vi("0x2e")]())),e}_createRemoveButton(){const t=new go.ButtonView(this[Vi("0xb")]);return t[Vi("0xe")]=bo(this[Vi("0xb")],Vi("0xf")),t[Vi("0xa")]='\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.2 7h9.2c.6 0 1 .4 1 1v9.9c0 .5-.4 1-1 1H5.2a1 1 0 0 1-1-1V8c0-.6.4-1 1-1zm1 1.5c-.3 0-.5.2-.5.5v8c0 .3.2.5.5.5h.5c.2 0 .5-.2.5-.5V9c0-.3-.3-.5-.5-.5h-.5zm3.2 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.4zm3.5 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.5zm-1.4-7.1H8.3L6.5 3.6H3.8c-.5 0-.7.3-.7.8s.2.7.7.7h12c.6 0 .9-.2.9-.7 0-.5-.3-.8-1-.8h-2.4l-1.8-2.2z"/></svg>\n',t.extendTemplate({attributes:{class:Vi("0x36")}}),t[Vi("0x10")](Vi("0x1e")).to(this[Vi("0x28")],Vi("0x35"),(t=>!t)),t[Vi("0x10")]("isVisible").to(this[Vi("0x28")],Vi("0x47")),t.on(Vi("0x15"),(()=>{this.showConfirm(bo(this[Vi("0xb")],Vi("0x43")),this[Vi("0x2f")])[Vi("0x34")]((()=>{this.fire(Vi("0x1f"),this._model.id)}))})),t}_attachActions(t,e){this[Vi("0x3a")](t,"mouseenter",(()=>this[Vi("0x49")]=e)),this[Vi("0x3a")](t,Vi("0x38"),(()=>this[Vi("0x49")]=e)),this[Vi("0x3a")](t,"mouseleave",(()=>this[Vi("0x49")]=null)),this[Vi("0x3a")](t,Vi("0x7"),(()=>this[Vi("0x49")]=null))}[Vi("0x18")](){const t=super[Vi("0x18")]();return t[Vi("0x10")](Vi("0x29")).to(this),t}[Vi("0x4")](){super.render(),this._attachActions(this.editButton[Vi("0x2f")],Vi("0x31")),this[Vi("0x1a")](this[Vi("0x1b")][Vi("0x2f")],Vi("0x46"))}}(0,e.mix)(Mi,i.ConfirmMixin);var Si=n(278),Di=n.n(Si),Ni=n(490),Ri={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Di()(Ni.Z,Ri);Ni.Z.locals;var Pi=n(227),Bi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Di()(Pi.Z,Bi);Pi.Z.locals;var zi=n(424),Fi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Di()(zi.Z,Fi);zi.Z.locals;const Li=function(){return w.Date.now()};var Ui=/\s/;const Ki=function(t){for(var e=t.length;e--&&Ui.test(t.charAt(e)););return e};var Wi=/^\s+/;const Hi=function(t){return t?t.slice(0,Ki(t)+1).replace(Wi,""):t};var Zi=/^[-+]0x[0-9a-f]+$/i,qi=/^0b[01]+$/i,$i=/^0o[0-7]+$/i,Gi=parseInt;const Ji=function(t){if("number"==typeof t)return t;if(Ln(t))return NaN;if(M(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=M(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Hi(t);var n=qi.test(t);return n||$i.test(t)?Gi(t.slice(2),n?2:8):Zi.test(t)?NaN:+t};var Xi=Math.max,Yi=Math.min;const Qi=function(t,e,n){var o,i,r,s,a,c,x=0,h=!1,d=!1,l=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function u(e){var n=o,r=i;return o=i=void 0,x=e,s=t.apply(r,n)}function m(t){return x=t,a=setTimeout(p,e),h?u(t):s}function f(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-x>=r}function p(){var t=Li();if(f(t))return g(t);a=setTimeout(p,function(t){var n=e-(t-c);return d?Yi(n,r-(t-x)):n}(t))}function g(t){return a=void 0,l&&o?u(t):(o=i=void 0,s)}function b(){var t=Li(),n=f(t);if(o=arguments,i=this,c=t,n){if(void 0===a)return m(c);if(d)return clearTimeout(a),a=setTimeout(p,e),u(c)}return void 0===a&&(a=setTimeout(p,e)),s}return e=Ji(e)||0,M(n)&&(h=!!n.leading,r=(d="maxWait"in n)?Xi(Ji(n.maxWait)||0,e):r,l="trailing"in n?!!n.trailing:l),b.cancel=function(){void 0!==a&&clearTimeout(a),x=0,o=c=i=a=void 0},b.flush=function(){return void 0===a?s:g(Li())},b};const tr=function(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return M(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),Qi(t,e,{leading:o,maxWait:e,trailing:i})},er=["childList","type","cancel","attributes","observe","disconnect","attributeName"];var nr,or;nr=er,or=390,function(t){for(;--t;)nr.push(nr.shift())}(++or);const ir=function(t,e){return er[t-=0]};function rr(t){const e=tr(t,30),n=new MutationObserver((t=>{for(const n of t)(ir("0x5")==n[ir("0x3")]&&"class"==n[ir("0x1")]||ir("0x2")==n.type)&&e()}));return{attach(t){n[ir("0x6")](t,{attributes:!0,childList:!0,subtree:!0})},detach(){n[ir("0x0")](),e[ir("0x4")]()}}}var sr=n(173),ar={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Di()(sr.Z,ar);sr.Z.locals;const cr=["bindTemplate","focus","mainView","targetRect","div","setTemplate","fire","_updateHeight","focusTracker","element","detach","content","_mutationObserver","ck-annotation-wrapper","height","clear","isDirty","length","clientHeight","listenTo","add","keystrokes","set","Esc","isActive","ck-annotation-wrapper--active","type","destroy","render"];var xr,hr;xr=cr,hr=437,function(t){for(;--t;)xr.push(xr.shift())}(++hr);const dr=function(t,e){return cr[t-=0]};class lr extends go.View{constructor(t,n){super(t),this.id=(0,e.uid)(),this.focusTracker=new e.FocusTracker,this[dr("0x13")]=new e.KeystrokeHandler,this[dr("0x13")][dr("0x14")](dr("0x15"),((t,e)=>this[dr("0x4")](dr("0x15"),e))),this.set(dr("0x1"),{top:0,right:0,bottom:0,left:0}),this[dr("0x14")](dr("0xc"),0),this[dr("0x14")](dr("0x16"),!1),this[dr("0x14")](dr("0xe"),!1),this[dr("0x14")](dr("0xf"),0),this[dr("0x14")](dr("0x18"),""),this[dr("0xa")]=rr((()=>this._updateHeight())),this[dr("0x9")]=this.createCollection(),this.content[dr("0x12")](n),this[dr("0x0")]=n;const o=this[dr("0x1b")];this[dr("0x3")]({tag:dr("0x2"),attributes:{class:["ck",dr("0xb"),"ck-rounded-corners",o.if(dr("0x16"),dr("0x17"))],tabindex:-1},children:this[dr("0x9")]})}[dr("0x1a")](){super.render(),this.focusTracker.add(this.element),this[dr("0x13")][dr("0x11")](this[dr("0x7")]),this._mutationObserver.attach(this[dr("0x7")])}[dr("0x19")](){this[dr("0x9")][dr("0xd")](),this[dr("0x13")][dr("0x19")](),this[dr("0x6")][dr("0x19")](),this[dr("0xa")][dr("0x8")](),super.destroy()}[dr("0x1c")](){this[dr("0x7")].focus()}[dr("0x5")](){const t=this[dr("0x7")][dr("0x10")];t&&(this.height=t)}}const ur=["_id","stopListening","clear","innerView","object","_target","render","_isTargetElementVisible","mainView","updateTargetRect","focusableElements","function","view","type","isActive","element","isVisible","refreshVisibility","target","annotation-invalid-target","_assertCorrectTarget","add","offsetParent","getClientRects","nodeType","destroy","targetRect","_type"];var mr,fr;mr=ur,fr=274,function(t){for(;--t;)mr.push(mr.shift())}(++fr);const pr=function(t,e){return ur[t-=0]};class gr{constructor({view:t,target:n,type:o,isVisible:i=!0}){this[pr("0x12")]=t,this[pr("0x12")].element||this.view[pr("0xc")](),this._type=o,this[pr("0xb")]=n,this[pr("0x1a")](),this[pr("0x10")]=new e.Collection([this.view[pr("0x15")]],{idProperty:pr("0x6")}),this.focusableElements.on(pr("0x1b"),((t,e)=>{this[pr("0x12")].focusTracker.add(e)})),this[pr("0x10")].on("remove",((t,e)=>{this.view.focusTracker.remove(e)})),this.set(pr("0x16"),i)}get[pr("0x13")](){return"function"==typeof this[pr("0x5")]?this._type():this[pr("0x5")]}get[pr("0x9")](){return this.view[pr("0xe")]}get[pr("0x18")](){return pr("0x11")==typeof this._target?this._target():this[pr("0xb")]}get[pr("0x4")](){const t=this[pr("0x18")];return this[pr("0x1a")](),null!==t&&this._isTargetElementVisible()?new e.Rect(t):null}get isActive(){return this[pr("0x12")][pr("0x14")]}set[pr("0x14")](t){this.view[pr("0x14")]=t,this[pr("0x12")].mainView[pr("0x14")]=t}[pr("0xf")](){this.view[pr("0x4")]=this[pr("0x4")]}[pr("0x3")](){this[pr("0x10")][pr("0x7")](),this[pr("0x10")][pr("0x8")](),this[pr("0x7")]()}[pr("0x17")](){this[pr("0x16")]=this[pr("0xd")]()}[pr("0xd")](){const t=this[pr("0x18")];return!br(t)||(!!t[pr("0x0")]||!!t[pr("0x1")]().item(0))}[pr("0x1a")](){const t=this.target;if(!(null===t||t instanceof e.Rect||br(t)))throw new e.CKEditorError(pr("0x19"),null,{target:t})}}function br(t){return null!==t&&pr("0xa")==typeof t&&1===t[pr("0x2")]}(0,e.mix)(gr,e.ObservableMixin);const vr=["left","updateTargetRect","delete","has","_viewToAnnotation","targetRect","add","refreshPositioning","length","fire","getByView","_getOrderInContent","change:isFocused","getByInnerView","_focusTracker","annotationcollection-not-existing-item","_sort","destroy","listenTo","top","set","blur","isFocused","view","_items","focusableElements","remove","innerView","_innerViewToAnnotation","annotationcollection-duplicated-item","clear","sort","focusTracker","stopListening"];var _r,wr;_r=vr,wr=401,function(t){for(;--t;)_r.push(_r.shift())}(++wr);const kr=function(t,e){return vr[t-=0]};class yr extends e.Collection{constructor(t=[]){super(),this._innerViewToAnnotation=new Map,this[kr("0xb")]=new Map,this._focusTracker=new e.FocusTracker,this[kr("0x15")].on(kr("0x13"),((t,e,n)=>{n||this[kr("0x10")](kr("0x1c"))}));for(const e of t)this.add(e)}get[kr("0x1d")](){return this[kr("0x15")][kr("0x1d")]}[kr("0xd")](t){if(this[kr("0xa")](t))throw new e.CKEditorError(kr("0x2"),null);this[kr("0x1")][kr("0x1b")](t.innerView,t),this[kr("0xb")][kr("0x1b")](t.view,t);for(const e of t[kr("0x20")])this[kr("0x15")].add(e);this[kr("0x19")](t[kr("0x20")],kr("0xd"),((t,e)=>{this[kr("0x15")][kr("0xd")](e)})),this.listenTo(t[kr("0x20")],"remove",((t,e)=>{this[kr("0x15")][kr("0x21")](e)})),this[kr("0x19")](t[kr("0x1e")][kr("0x5")],kr("0x13"),((e,n,o)=>{o&&this[kr("0x10")]("focus",t)})),t[kr("0x8")]();const n=this[kr("0x12")](t[kr("0x1e")].targetRect);super.add(t,n)}[kr("0x21")](t){if(!this[kr("0xa")](t))throw new e.CKEditorError(kr("0x16"),null);this[kr("0x6")](t[kr("0x1e")].focusTracker),this[kr("0x6")](t[kr("0x20")]);for(const e of t[kr("0x20")])this[kr("0x15")][kr("0x21")](e);this._viewToAnnotation.delete(t[kr("0x1e")]),this[kr("0x1")][kr("0x9")](t[kr("0x0")]),super[kr("0x21")](t)}[kr("0x14")](t){return this._innerViewToAnnotation.get(t)}[kr("0x11")](t){return this[kr("0xb")].get(t)}[kr("0x18")](){super[kr("0x3")](),this[kr("0x6")](),this[kr("0x1")].clear(),this[kr("0xb")][kr("0x3")](),this[kr("0x15")].destroy()}[kr("0xe")](){for(const t of this)t.updateTargetRect();this[kr("0x17")]()}_sort(){const t=Array.from(this)[kr("0x4")](((t,e)=>Cr(t.view[kr("0xc")],e.view.targetRect)));for(let e=t.length-1;e>0;e--){const n=t[e];e!==this.getIndex(n)&&(this.remove(n),this[kr("0xd")](n,e))}}[kr("0x12")](t){let e=0;if(!t)return this[kr("0x1f")][kr("0xf")];for(const n of this){const o=n.view[kr("0xc")];if(o){if(Cr(t,o)<0)return e;e++}}return e}}function Cr(t,e){if(null===t&&null===e)return 0;if(null===t)return-1;if(null===e)return 1;const n=t[kr("0x1a")]-e[kr("0x1a")];return 0==n?t[kr("0x7")]-e[kr("0x7")]:n}const Ar=["pluginName","_activateAnnotation","collection","deactivateAll","_bindAnnotationsToVisibleAnnotations","_visibleAnnotations","has","remove","activeAnnotations","source","change:isVisible","delete","stopListening","isVisible","refreshVisibility","createAnnotation","fire","listenTo","set","refreshPositioning","destroy","_addActiveAnnotation","createAnnotationView","activate","add","getByInnerView","_deactivateAllAnnotations"];var Tr,Er;Tr=Ar,Er=498,function(t){for(;--t;)Tr.push(Tr.shift())}(++Er);const Ir=function(t,e){return Ar[t-=0]};class jr extends t.ContextPlugin{static get[Ir("0xf")](){return"Annotations"}constructor(t){super(t),this[Ir("0x11")]=new yr,this[Ir("0x14")]=new yr,this[Ir("0x6")](Ir("0x17"),new Set),this._bindAnnotationsToVisibleAnnotations()}[Ir("0xc")](t){this[Ir("0x11")][Ir("0xc")](t)}remove(t){this.collection[Ir("0x16")](t),t.destroy()}[Ir("0x2")](){for(const t of this[Ir("0x11")])t[Ir("0x2")]()}[Ir("0x7")](){this[Ir("0x14")].refreshPositioning()}[Ir("0xd")](t){return this[Ir("0x11")][Ir("0xd")](t)}[Ir("0x12")](){this[Ir("0x4")](Ir("0xe"))}[Ir("0x8")](){for(const t of this[Ir("0x11")])t[Ir("0x8")]();this[Ir("0x14")][Ir("0x8")](),this[Ir("0x11")][Ir("0x8")](),super[Ir("0x8")]()}[Ir("0xb")](t){this[Ir("0x4")](Ir("0x10"),t)}[Ir("0x3")](t){return new gr(t)}[Ir("0xa")](t,e){return new lr(t,e)}[Ir("0x9")](t){const e=new Set(this[Ir("0x17")]);e[Ir("0xc")](t),this[Ir("0x17")]=e}_removeActiveAnnotation(t){const e=new Set(this[Ir("0x17")]);e[Ir("0x1a")](t),this[Ir("0x17")]=e}[Ir("0x13")](){const t=this[Ir("0x11")],e=this[Ir("0x14")];function n(t){const n=t[Ir("0x18")];n[Ir("0x1")]&&!e[Ir("0x15")](n)?e[Ir("0xc")](n):!n[Ir("0x1")]&&e.has(n)&&e[Ir("0x16")](n)}this.listenTo(t,Ir("0xc"),((t,o)=>{o.isVisible&&e[Ir("0xc")](o),this[Ir("0x5")](o,Ir("0x19"),n)})),this[Ir("0x5")](t,Ir("0x16"),((t,o)=>{e[Ir("0x15")](o)&&e.remove(o),this[Ir("0x0")](o,Ir("0x19"),n)}))}}const Or=["setAttribute","error","once","comments.editorConfig","fetchCommentThread","_removeComment","comment","commentsrepository-active-not-attached","div","commentsrepository-update-comment-internal-error","noChannel","commentsrepository-missing-thread-and-adapter-method","has","slice","channelId","comments.maxCommentsWhenCollapsed","_addComment","commentsrepository-missing-target","map","commentsrepository-update-comment-invalid-content","_viewToController","config","view","activeCommentThread","_add","push","commentsrepository-update-comment-missing-comment-thread","createdAt","pop","_isAttached","_createCommentThreadView","context","deactivateAll","commentsrepository-add-comment-internal-error","commentsrepository-remove-comment-internal-error","string","define","addCommentThread","max","pluginName","toJSON","isAttached","add","parse","Users","function","_threadToController","getByInnerView","length","updateComment","comments.CommentView","comments.maxCommentCharsWhenCollapsed","authorName","comments.maxThreadTotalWeight","author","getUser","commentsrepository-attach-missing-comment-thread","isFromAdapter","PendingActions","PENDING_ACTION_COMMENT_THREAD","@external","_getExternalAuthor","commentInputView","trim","find","adapter","then","focus","delete","_addCommentThread","stopListening","_adapter","remove","afterInit","join","isReadOnly","removeCommentThread","_repository","assign","openNewCommentThread","change:activeAnnotations","change:isDirty","commentsrepository-get-comment-invalid-id","addComment","model","_updateComment","textContent","licenseKey","attributes","from","commentsrepository-invalid-comment-thread-id","commentsrepository-fetch-comment-thread","fromCharCode","isRemovable","getCommentThread","update","CommentThreadView","commentsrepository-adapter-already-set","comments","values","comments.CommentThreadView","CommentsRepository","warn","createElement","getIndex","isDirty","resolve","commentsrepository-remove-missing-comment-thread","setAdminPermissions","commentsrepository-missing-thread-and-adapter","innerView","_findOptimalIndex","commentUpdated","replace","getComment","listenTo","get","weight","bind","isActive","commentsrepository-remove-comment-missing-comment-thread","isEditable","plugins","locale","_readOnlyChannels","_nonAdminChannels","activate","_threads","substring","getTime","_removeCommentThread","externalAuthor","commentsrepository-duplicated-comment-thread-id","destroy","removeAttribute","hasCommentThread","getCommentThreads","requires","content","removeComment","threadId","attachTo","fire","set","_attachCommentThread","catch","commentsrepository-add-comment-user-not-exists"];var Vr,Mr;Vr=Or,Mr=412,function(t){for(;--t;)Vr.push(Vr.shift())}(++Mr);const Sr=function(t,e){return Or[t-=0]},Dr=Symbol(Sr("0x27"));class Nr extends t.ContextPlugin{static get[Sr("0x13")](){return[jr,t.PendingActions,i.Users]}static get[Sr("0x44")](){return Sr("0x82")}constructor(t){super(t),this._threads=new Map,this[Sr("0x4b")]=new Map,this[Sr("0x31")]=new Map,this[Sr("0x6")]=new Set,this[Sr("0x19")](Sr("0x7"),new Set),this[Sr("0x74")]=this[Sr("0x3c")][Sr("0x32")][Sr("0x91")](Sr("0x74"));const e=this.context[Sr("0x32")];e[Sr("0x41")]("comments.maxCommentsWhenCollapsed",2),e[Sr("0x41")](Sr("0x52"),500),e[Sr("0x41")]("comments.maxCommentCharsWhenCollapsed",140),e[Sr("0x41")](Sr("0x81"),gi),e.define(Sr("0x4f"),Mi),e[Sr("0x91")](Sr("0x20"))||console[Sr("0x83")]("Missing comments editor configuration (`comments.editorConfig`). Default configuration will be used instead.")}init(){const t=this[Sr("0x3c")][Sr("0x4")][Sr("0x91")](jr);this[Sr("0x19")](Sr("0x34"),null),this.on(Sr("0x42"),((t,e)=>this[Sr("0x62")](e))),this.on(Sr("0x69"),((t,e)=>this[Sr("0xc")](e))),this.on(Sr("0x70"),((t,e)=>this[Sr("0x2d")](e))),this.on(Sr("0x4e"),((t,e)=>this[Sr("0x72")](e))),this.on("removeComment",((t,e)=>this[Sr("0x22")](e))),this.on(Sr("0x70"),((t,{threadId:e,isFromAdapter:n})=>{if(n)return;const o=this[Sr("0x7b")](e),i=this[Sr("0x4b")][Sr("0x91")](o);i&&i[Sr("0x33")][Sr("0x60")]()}),{priority:"lowest"}),this[Sr("0x90")](t,Sr("0x6d"),((t,e,n)=>{const o=Array[Sr("0x76")](n).map((t=>this[Sr("0x31")].get(t[Sr("0x8b")]))).filter(Boolean)[0];this[Sr("0x34")]=o?o[Sr("0x71")]:null}))}[Sr("0x66")](){!function(e){const n=e instanceof t.Context,o=[1,85,78,115,198,255,50,112,83,87,161],i=l([52,48,52,52,50,48,50,50]),r=[127,34,6,211,167,86,146,199,132,160,18],s=l([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57]),a=function(t){if(e[l([112,108,117,103,105,110,115])][l([104,97,115])](l([87,101,98,83,111,99,107,101,116,71,97,116,101,119,97,121]))&&e[l([112,108,117,103,105,110,115])][l([103,101,116])](l([87,101,98,83,111,99,107,101,116,71,97,116,101,119,97,121]))[l([115,116,97,116,101])]==l([99,111,110,110,101,99,116,101,100]))return c(l([108,105,99,101,110,115,101,75,101,121,86,97,108,105,100]));if(e[l([112,108,117,103,105,110,115])][l([104,97,115])](l([84,114,97,99,107,67,104,97,110,103,101,115,68,97,116,97,71,101,116,116,101,114]))&&e[l([112,108,117,103,105,110,115])][l([103,101,116])](l([84,114,97,99,107,67,104,97,110,103,101,115,68,97,116,97,71,101,116,116,101,114]))[l([114,101,115,117,108,116])]==l([101,110,100]))return c(l([108,105,99,101,110,115,101,75,101,121,86,97,108,105,100]));try{const n=function(t){const e=[29,221,175,90,231,133,239,240,75,180];return function(t,e){const n=atob(t),o=Array[Sr("0x76")](function(t){const e=new Uint8Array(t[Sr("0x4d")]);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(n)),i=o[Sr("0x39")](),r=o[Sr("0x39")]();return function(t){let e="";for(const n of t)e+=String[Sr("0x79")](n);return e}(function(t,e,n){const o={};o[l([110,117,109,98,101,114,79,102,82,111,117,110,100,115])]={16:10,24:12,32:14},o[l([114,99,111,110])]=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],o[l([83])]=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],o[l([84,49])]=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],o[l([84,50])]=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],o[l([84,51])]=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],o[l([84,52])]=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],o[l([85,49])]=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],o[l([85,50])]=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],o[l([85,51])]=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],o[l([85,52])]=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];const i=new Uint8Array(16);for(let t=15;t>=0;--t)i[t]=n%256,n=parseInt(n/256);let r=null,s=16;const a=new Uint8Array(e),c=[],x=[];m();for(let e=0;e<t[Sr("0x4d")];e++)16===s&&(r=u(i),s=0,d(i)),t[e]^=r[s++];return t;function h(t){const e=[];for(let n=0;n<t[Sr("0x4d")];n+=4)e.push(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]);return e}function d(t){for(let e=15;e>=0;e--){if(255!==t[e]){t[e]++;break}t[e]=0}}function u(t){const e=c.length-1,n=[0,0,0,0];let i=h(t);for(let t=0;t<4;t++)i[t]^=c[0][t];for(let t=1;t<e;t++){for(let e=0;e<4;e++)n[e]=o[l([84,49])][i[e]>>24&255]^o[l([84,50])][i[(e+1)%4]>>16&255]^o[l([84,51])][i[(e+2)%4]>>8&255]^o[l([84,52])][255&i[(e+3)%4]]^c[t][e];i=n[Sr("0x2a")]()}const r=new Uint8Array(16);let s;for(let t=0;t<4;t++)s=c[e][t],r[4*t]=255&(o[l([83])][i[t]>>24&255]^s>>24),r[4*t+1]=255&(o[l([83])][i[(t+1)%4]>>16&255]^s>>16),r[4*t+2]=255&(o[l([83])][i[(t+2)%4]>>8&255]^s>>8),r[4*t+3]=255&(o[l([83])][255&i[(t+3)%4]]^s);return r}function m(){const t=o[l([110,117,109,98,101,114,79,102,82,111,117,110,100,115])][a[Sr("0x4d")]];for(let e=0;e<=t;e++)c[Sr("0x36")]([0,0,0,0]),x.push([0,0,0,0]);const e=4*(t+1),n=a.length/4,i=h(a);let r;for(let e=0;e<n;e++)r=e>>2,c[r][e%4]=i[e],x[t-r][e%4]=i[e];let s,d=0,u=n;for(;u<e;){s=i[n-1],i[0]^=o[l([83])][s>>16&255]<<24^o[l([83])][s>>8&255]<<16^o[l([83])][255&s]<<8^o[l([83])][s>>24&255]^o[l([114,99,111,110])][d]<<24,d+=1;for(let t=1;t<n/2;t++)i[t]^=i[t-1];s=i[n/2-1],i[n/2]^=o[l([83])][255&s]^o[l([83])][s>>8&255]<<8^o[l([83])][s>>16&255]<<16^o[l([83])][s>>24&255]<<24;for(let t=n/2+1;t<n;t++)i[t]^=i[t-1];let r,a,h=0;for(;h<n&&u<e;)r=u>>2,a=u%4,c[r][a]=i[h],x[t-r][a]=i[h++],u++}for(let e=1;e<t;e++)for(let t=0;t<4;t++)s=x[e][t],x[e][t]=o[l([85,49])][s>>24&255]^o[l([85,50])][s>>16&255]^o[l([85,51])][s>>8&255]^o[l([85,52])][255&s]}}(o,e,r+256*i))}(t,new(window[l([85,105,110,116,56,65,114,114,97,121])])([...o,...e,...r]))}(t),s=JSON[Sr("0x48")](n),a=parseInt(s[l([49])]),x=parseInt(s[l([51])]),h=parseInt(s[l([52])])||0,d=parseInt(s[l([53])])||0,u=2;if(!(1&h)||e[l([112,108,117,103,105,110,115])][l([104,97,115])](l([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]))&&!(h&u))return c(l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]));if(d&&!window[l([111,112,101,110])][l([99,108,111,115,101,100])])return c(l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]));if(parseInt(i)/2>a)return c(l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]));if(e[l([112,108,117,103,105,110,115])][l([104,97,115])](l([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]))){const t=e[l([112,108,117,103,105,110,115])][l([103,101,116])](l([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]));if(parseInt(t[l([95,101,120,101,99,117,116,101,83,117,103,103,101,115,116,105,111,110])])/2>a)return c(l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]))}return c(l(x?[108,105,99,101,110,115,101,75,101,121,84,114,105,97,108]:[108,105,99,101,110,115,101,75,101,121,86,97,108,105,100]))}catch(t){return c(l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]))}}(e[Sr("0x32")][Sr("0x91")](l([108,105,99,101,110,115,101,75,101,121])));function c(t){const n=function(){const t=String(window[l([112,101,114,102,111,114,109,97,110,99,101])][l([110,111,119])]())[Sr("0x8e")](l([46]),"");let e="";for(let n=0;n<t.length;n+=2){let o=parseInt(t[Sr("0xa")](n,n+2));o>=s[Sr("0x4d")]&&(o-=s[Sr("0x4d")]),e+=s[o]}return e}();return e[n]=t,t}function x(t){for(const e of t[l([101,100,105,116,111,114,115])])h(e);t[l([112,108,117,103,105,110,115])][l([103,101,116])](l([67,111,109,109,101,110,116,115,82,101,112,111,115,105,116,111,114,121]))[l([115,119,105,116,99,104,82,101,97,100,79,110,108,121])](!0),t[l([112,108,117,103,105,110,115])][l([103,101,116])](l([67,111,109,109,101,110,116,115,82,101,112,111,115,105,116,111,114,121]))[l([115,119,105,116,99,104,82,101,97,100,79,110,108,121])]=d}function h(t){function e(){t[l([109,111,100,101,108])][l([99,104,97,110,103,101])]=d,t[l([109,111,100,101,108])][l([101,110,113,117,101,117,101,67,104,97,110,103,101])]=d,t[l([101,110,97,98,108,101,82,101,97,100,79,110,108,121,77,111,100,101])](l([109,111,100,101,108]))}t[l([115,116,97,116,101])]==l([114,101,97,100,121])?e():t[l([111,110,99,101])](l([114,101,97,100,121]),(()=>e()))}function d(){return null}function l(t){return t[Sr("0x2f")]((t=>String[Sr("0x79")](t)))[Sr("0x67")]("")}n?(a==l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100])?x(e):a==l([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108])&&window[l([115,101,116,84,105,109,101,111,117,116])]((()=>{x(e),c(l([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108,76,105,109,105,116,58,116,105,109,101]))}),r[6]*o[8]*o[6]),e[l([101,100,105,116,111,114,115])][l([111,110])](l([97,100,100]),((t,e)=>{a!=l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100])&&a!=l([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108,76,105,109,105,116,58,116,105,109,101])&&a!=l([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108,76,105,109,105,116,58,111,112,101,114,97,116,105,111,110,115])||h(e)}))):a==l([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100])?h(e):a==l([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108])&&e[l([111,110])](l([114,101,97,100,121]),(()=>{let t=0;e[l([109,111,100,101,108])][l([111,110])](l([97,112,112,108,121,79,112,101,114,97,116,105,111,110]),((n,o)=>{o[0][l([105,115,68,111,99,117,109,101,110,116,79,112,101,114,97,116,105,111,110])]&&t++,504===t&&(h(e),c(l([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108,76,105,109,105,116,58,111,112,101,114,97,116,105,111,110,115])),n[l([111,102,102])]())}),{priority:l([104,105,103,104,101,115,116])})}))}(this.context)}set[Sr("0x5e")](t){if(this[Sr("0x64")])throw new e.CKEditorError(Sr("0x7e"));this[Sr("0x64")]=t}get[Sr("0x5e")](){return this[Sr("0x64")]}[Sr("0x42")]({channelId:t=Dr,threadId:n=(0,e.uid)(),comments:o=[],target:i,isFromAdapter:r}={}){return this[Sr("0x18")](Br(Sr("0x42"),t),{channelId:t,threadId:n,comments:o,target:i,isFromAdapter:r}),this[Sr("0x7b")](n)}[Sr("0x6c")]({channelId:t=Dr,threadId:n=(0,e.uid)(),target:o}){if(this[Sr("0x6")][Sr("0x29")](t)||this._readOnlyChannels[Sr("0x29")](void 0))return;if(!o)throw new e.CKEditorError(Sr("0x2e"));const i=this[Sr("0x42")]({channelId:t,threadId:n,target:o});if(!i)return null;const r=this._threadToController[Sr("0x91")](i),s=r[Sr("0x33")].commentThreadInputView[Sr("0x5b")],a=this.context[Sr("0x4")].get(jr),c=a.getByInnerView(r[Sr("0x33")]);return a[Sr("0x8")](c),s[Sr("0x1f")]("editorReady",(()=>s.focus())),i}[Sr("0x11")](t){if(Sr("0x40")!=typeof t)throw new e.CKEditorError("commentsrepository-invalid-comment-thread-id");return this[Sr("0x9")][Sr("0x29")](t)}getCommentThread(t){if("string"!=typeof t)throw new e.CKEditorError(Sr("0x77"));return this._threads[Sr("0x91")](t)}[Sr("0x21")]({channelId:t,threadId:n}={}){const o=this[Sr("0x7b")](n);if(o)return Promise[Sr("0x87")](o);if(!this[Sr("0x5e")])throw new e.CKEditorError(Sr("0x8a"),this[Sr("0x3c")]);if(Sr("0x4a")!=typeof this[Sr("0x5e")][Sr("0x7b")])throw new e.CKEditorError(Sr("0x28"),this[Sr("0x3c")]);return this[Sr("0x5e")].getCommentThread({channelId:t,threadId:n})[Sr("0x5f")]((e=>this[Sr("0x11")](n)?this[Sr("0x7b")](n):e?this[Sr("0x42")](Object[Sr("0x6b")]({isFromAdapter:!0,channelId:t},e)):void 0)).catch((t=>{throw console[Sr("0x1e")](t),new e.CKEditorError(Sr("0x78"),this[Sr("0x3c")])}))}[Sr("0x12")]({channelId:t,skipNotAttached:e=!1,skipEmpty:n=!1,toJSON:o=!1}={}){const i=[];for(const o of this[Sr("0x9")][Sr("0x80")]())t&&o[Sr("0x2b")]!==t||e&&!o[Sr("0x46")]||n&&0===o.length||i.push(o);return o?i[Sr("0x2f")]((t=>t.toJSON())):i}setActiveCommentThread(t){const n=this.context[Sr("0x4")][Sr("0x91")](jr);if(!t)return void(this.activeCommentThread&&n[Sr("0x3d")]());const o=this.getCommentThread(t);if(!o)throw new e.CKEditorError("commentsrepository-active-missing-comment-thread",null,{threadId:t});if(!this[Sr("0x4b")].has(o))throw new e.CKEditorError(Sr("0x24"),null,{threadId:t});const i=n[Sr("0x4c")](this[Sr("0x4b")][Sr("0x91")](o)[Sr("0x33")]);n[Sr("0x8")](i)}switchReadOnly(t,e){t?this._readOnlyChannels[Sr("0x47")](e):this._readOnlyChannels[Sr("0x61")](e);for(const n of this[Sr("0x12")]({channelId:e}))n[Sr("0x68")]=!!t}[Sr("0x68")](t){return this._readOnlyChannels[Sr("0x29")](t)||this[Sr("0x6")].has(void 0)}createCommentThreadController(t,e){return new po(t,e)}[Sr("0x89")](t,e=Dr){const n=!this[Sr("0x7")].has(e),o=new Set(this[Sr("0x7")]);n&&!t&&(o[Sr("0x47")](e),this._nonAdminChannels=o),!n&&t&&(o[Sr("0x61")](e),this[Sr("0x7")]=o)}_addCommentThread({channelId:t,threadId:n,comments:o,target:i,isFromAdapter:r}){if("string"!=typeof n)throw new e.CKEditorError("commentsrepository-invalid-comment-thread-id",null,{threadId:n});if(this[Sr("0x11")](n))throw new e.CKEditorError(Sr("0xe"),null,{threadId:n});const s=new Rr(this,{channelId:t,id:n});(this[Sr("0x6")][Sr("0x29")](t)||this[Sr("0x6")][Sr("0x29")](void 0))&&(s[Sr("0x68")]=!0),this[Sr("0x9")][Sr("0x19")](n,s);for(const t of o)s[Sr("0x70")](Object.assign({isFromAdapter:r},t));i&&s[Sr("0x17")](i)}_attachCommentThread({threadId:t,target:n}){const o=this.getCommentThread(t);if(!o)throw new e.CKEditorError(Sr("0x55"),this);const i=this.context[Sr("0x4")][Sr("0x91")](Sr("0x57")),r=this[Sr("0x3c")].plugins[Sr("0x91")](jr),s=this[Sr("0x3b")](o),a=new po(o,s);let c=null;s.on(Sr("0x6e"),((t,e,n)=>{n?c=i[Sr("0x47")](bo(this[Sr("0x3c")][Sr("0x5")],"PENDING_ACTION_COMMENT_THREAD")):(i[Sr("0x65")](c),c=null)})),this[Sr("0x4b")][Sr("0x19")](o,a),this[Sr("0x31")][Sr("0x19")](s,a);const x=new lr(this[Sr("0x3c")][Sr("0x5")],s);x.bind(Sr("0x4d")).to(s),x[Sr("0x0")]("isDirty").to(s,Sr("0x86"),s,Sr("0x4d"),((t,e)=>t||!e)),x[Sr("0x0")](Sr("0x1")).to(s),x.type=Sr("0x23");const h=new gr({view:x,target:n,type:Sr("0x23")});return r.add(h),h}[Sr("0x3b")](t){const e=this[Sr("0x3c")].plugins.get(Sr("0x49")),{config:n,locale:o}=this[Sr("0x3c")],r=(0,i.getDateTimeFormatter)(n.get(Sr("0x5")));return new(0,n.get(Sr("0x7f"))[Sr("0x7d")])(o,t,e.me,{editorConfig:n[Sr("0x91")](Sr("0x20")),maxCommentsWhenCollapsed:n[Sr("0x91")](Sr("0x2c")),maxThreadTotalWeight:n[Sr("0x91")]("comments.maxThreadTotalWeight"),maxCommentCharsWhenCollapsed:n[Sr("0x91")](Sr("0x50")),formatDateTime:r,CommentView:n.get(Sr("0x7f")).CommentView})}_removeCommentThread({threadId:t,isFromAdapter:n}){const o=this.getCommentThread(t);if(!o)throw new e.CKEditorError(Sr("0x88"),this);if(this._detachCommentThread(t),this[Sr("0x9")][Sr("0x61")](t),!o[Sr("0x4d")]||n||!this[Sr("0x5e")]||"function"!=typeof this[Sr("0x5e")][Sr("0x69")])return Promise[Sr("0x87")]();const i=this[Sr("0x3c")][Sr("0x4")][Sr("0x91")]("PendingActions"),{channelId:r}=o,s=i.add(bo(this.context[Sr("0x5")],Sr("0x58")));return this[Sr("0x5e")][Sr("0x69")]({channelId:r,threadId:t}).then((()=>i[Sr("0x65")](s)))[Sr("0x1b")]((t=>{throw console[Sr("0x1e")](t),new e.CKEditorError("commentsrepository-remove-comment-thread-internal-error",this)}))}_detachCommentThread(t){const e=this[Sr("0x3c")][Sr("0x4")][Sr("0x91")](jr),n=this[Sr("0x7b")](t);if(this[Sr("0x4b")].has(n)){const t=this._threadToController[Sr("0x91")](n),o=t.view,i=e.getByInnerView(o);this[Sr("0x4b")][Sr("0x61")](n),this._viewToController[Sr("0x61")](o),i&&e[Sr("0x65")](i),t[Sr("0xf")](),o[Sr("0xf")]()}}[Sr("0x5a")](t){const e=this[Sr("0x3c")][Sr("0x4")][Sr("0x91")](i.Users),n="external:"+t;return e.getUser(n)||e.addUser({id:n,name:t})}[Sr("0x2d")]({threadId:t,commentId:n=(0,e.uid)(),content:o,authorId:r,createdAt:s,attributes:a,isFromAdapter:c}){if(Sr("0x40")!=typeof n)throw new e.CKEditorError("commentsrepository-invalid-commentid");if(Sr("0x40")!=typeof r)throw new e.CKEditorError("commentsrepository-invalid-comment-authorid");if(Sr("0x40")!=typeof o||!o.trim())throw new e.CKEditorError("commentsrepository-invalid-comment-content");const x=this[Sr("0x7b")](t);if(!x)throw new e.CKEditorError("commentsrepository-add-comment-to-missing-comment-thread",this);const h=this.context[Sr("0x4")][Sr("0x91")](i.Users)[Sr("0x54")](r);if(!h)throw new e.CKEditorError(Sr("0x1c"),null,{authorId:r});let d=null;a&&a[Sr("0x59")]&&(d=this[Sr("0x5a")](a["@external"][Sr("0x51")]));const l=new Pr(this,{threadId:t,id:n,author:h,externalAuthor:d,content:o,createdAt:s,attributes:a});if(x[Sr("0x35")](l),c||!this[Sr("0x5e")]||Sr("0x4a")!=typeof this[Sr("0x5e")][Sr("0x70")])return Promise[Sr("0x87")]();const u=this[Sr("0x3c")].plugins[Sr("0x91")](Sr("0x57")),{channelId:m}=x,f=u[Sr("0x47")](bo(this[Sr("0x3c")][Sr("0x5")],Sr("0x58")));return a||(a={}),this[Sr("0x5e")].addComment({channelId:m,threadId:t,commentId:n,content:o,attributes:a})[Sr("0x5f")]((e=>{if(u[Sr("0x65")](f),this[Sr("0x11")](t))e&&e[Sr("0x38")]&&this[Sr("0x72")]({threadId:t,commentId:n,createdAt:e[Sr("0x38")],isFromAdapter:!0});else{const i={threadId:t,commentId:n,content:o,attributes:a,createdAt:e&&e.createdAt?e.createdAt:s,authorId:h.id};this[Sr("0x42")]({channelId:m,threadId:t,comments:[i],isFromAdapter:!0})}}))[Sr("0x1b")]((t=>{throw console[Sr("0x1e")](t),new e.CKEditorError(Sr("0x3e"),this)}))}[Sr("0x72")]({threadId:t,commentId:n,content:o,createdAt:i,attributes:r,isFromAdapter:s}){if(void 0!==o&&("string"!=typeof o||!o[Sr("0x5c")]().length))throw new e.CKEditorError(Sr("0x30"));const a=this[Sr("0x7b")](t),c=a[Sr("0x8f")](n);if(!c)throw new e.CKEditorError("commentsrepository-update-missing-comment",this);let x=!1;if(o&&o!==c.content&&(c[Sr("0x3")]||s)&&(c[Sr("0x14")]=o,x=!0),i&&i!==c.createdAt&&(c[Sr("0x38")]=i,x=!0),r&&!We(r,c.attributes)&&(c[Sr("0x75")]=r,x=!0),!x)return Promise[Sr("0x87")]();if(a[Sr("0x18")](Sr("0x8d")),s||!this[Sr("0x5e")]||Sr("0x4a")!=typeof this.adapter[Sr("0x4e")])return Promise[Sr("0x87")]();const h=this[Sr("0x3c")].plugins[Sr("0x91")](Sr("0x57")),{channelId:d}=this.getCommentThread(c[Sr("0x16")]),l=h.add(bo(this[Sr("0x3c")][Sr("0x5")],Sr("0x58")));return this[Sr("0x5e")][Sr("0x4e")]({channelId:d,threadId:t,commentId:n,content:o,attributes:r})[Sr("0x5f")]((()=>h[Sr("0x65")](l)))[Sr("0x1b")]((t=>{throw console[Sr("0x1e")](t),new e.CKEditorError(Sr("0x26"),this)}))}[Sr("0x22")]({threadId:t,commentId:n,isFromAdapter:o}){const i=this[Sr("0x7b")](t),r=i[Sr("0x8f")](n);if(!r)throw new e.CKEditorError("commentsrepository-remove-missing-comment",this);if(i._remove(r),o||!this[Sr("0x5e")]||Sr("0x4a")!=typeof this[Sr("0x5e")][Sr("0x15")])return Promise[Sr("0x87")]();const s=this.context.plugins[Sr("0x91")](Sr("0x57")),{channelId:a}=i,c=s[Sr("0x47")](bo(this[Sr("0x3c")].locale,Sr("0x58")));return this.adapter[Sr("0x15")]({channelId:a,threadId:t,commentId:n})[Sr("0x5f")]((()=>s[Sr("0x65")](c))).catch((t=>{throw console[Sr("0x1e")](t),new e.CKEditorError(Sr("0x3f"),this)}))}}class Rr{constructor(t,n){this[Sr("0x2b")]=n.channelId,this.id=n.id,this[Sr("0x19")](Sr("0x68"),!1),this[Sr("0x0")](Sr("0x7a")).to(t,"_nonAdminChannels",(t=>!t[Sr("0x29")](this.channelId))),this[Sr("0x7f")]=new e.Collection,this._repository=t,this[Sr("0x3a")]=!1}get[Sr("0x92")](){return Array[Sr("0x76")](this[Sr("0x7f")]).reduce(((t,e)=>t+e[Sr("0x92")]),0)}get length(){return this.comments.length}get[Sr("0x46")](){return this[Sr("0x3a")]}[Sr("0x65")]({isFromAdapter:t=!1}={}){const{channelId:e,id:n}=this;this[Sr("0x6a")][Sr("0x18")](Br("removeCommentThread",e),{channelId:e,threadId:n,isFromAdapter:t})}attachTo(t){return this._repository[Sr("0x1a")]({threadId:this.id,target:t})}addComment(t){const{channelId:e,id:n}=this;this[Sr("0x6a")][Sr("0x18")](Br("addComment",e,n),Object.assign({channelId:e,threadId:n},t))}[Sr("0x8f")](t){if(Sr("0x40")!=typeof t)throw new e.CKEditorError(Sr("0x6f"),null,{commentId:t});return this[Sr("0x7f")][Sr("0x91")](t)}[Sr("0x45")](){return{threadId:this.id,comments:this.comments.map((t=>t[Sr("0x45")]()))}}_add(t){return this[Sr("0x90")](t,"change:createdAt",(()=>{const e=this[Sr("0x8c")](t),n=this[Sr("0x7f")];e-1!=n[Sr("0x85")](t)&&e+1!=n[Sr("0x85")](t)&&(this._remove(t),this[Sr("0x35")](t))})),t[Sr("0x38")]?this.comments.add(t,this._findOptimalIndex(t)):this.comments[Sr("0x47")](t)}_remove(t){return this[Sr("0x63")](t),t.destroy(),this[Sr("0x7f")][Sr("0x65")](t)}[Sr("0x8c")](t){const e=this[Sr("0x7f")][Sr("0x5d")]((e=>new Date(e[Sr("0x38")])[Sr("0xb")]()>new Date(t[Sr("0x38")])[Sr("0xb")]()));return e?this.comments.getIndex(e):this[Sr("0x4d")]}}(0,e.mix)(Rr,e.ObservableMixin);class Pr{constructor(t,e){const n=t[Sr("0x3c")].plugins.get(Sr("0x49")).me,o=t[Sr("0x7b")](e[Sr("0x16")]),i=0===o.comments[Sr("0x4d")],r=n===e[Sr("0x53")];this.id=e.id,this[Sr("0x16")]=e.threadId,this[Sr("0x53")]=e[Sr("0x53")],this.externalAuthor=e[Sr("0xd")],this[Sr("0x19")]("content",e[Sr("0x14")]),this[Sr("0x19")](Sr("0x38"),e[Sr("0x38")]||new Date),this.set(Sr("0x75"),e[Sr("0x75")]||{}),this.set(Sr("0x3"),r),this[Sr("0x0")]("isRemovable").to(o,Sr("0x7a"),(t=>t&&i||r)),this[Sr("0x0")]("isReadOnly").to(o,Sr("0x68")),this[Sr("0x6a")]=t}get[Sr("0x92")](){return Math[Sr("0x43")](function(t){const e=document[Sr("0x84")](Sr("0x25"));return e.innerHTML=t,e[Sr("0x73")][Sr("0x4d")]}(this.content),200)}[Sr("0x7c")](t){const{threadId:n,id:o}=this;if(!this[Sr("0x6a")].hasCommentThread(n))throw new e.CKEditorError(Sr("0x37"),this);const{channelId:i}=this[Sr("0x6a")][Sr("0x7b")](n);this[Sr("0x6a")][Sr("0x18")](Br(Sr("0x4e"),i,n),Object[Sr("0x6b")]({channelId:i,threadId:n,commentId:o},t))}[Sr("0x1d")](t,e){const n=Fn(this[Sr("0x75")]);io(n,t,e),this[Sr("0x7c")]({attributes:n})}[Sr("0x10")](t){const e=Fn(this.attributes);ho(e,t),this[Sr("0x7c")]({attributes:e})}[Sr("0x65")](t={}){if(!t[Sr("0x56")]&&!this[Sr("0x7a")])return;const{threadId:n,id:o}=this;if(!this._repository[Sr("0x11")](n))throw new e.CKEditorError(Sr("0x2"),this);const{channelId:i}=this._repository[Sr("0x7b")](n);this[Sr("0x6a")][Sr("0x18")](Br(Sr("0x15"),i,n),Object[Sr("0x6b")]({channelId:i,threadId:n,commentId:o},t))}[Sr("0x45")](){return{commentId:this.id,content:this[Sr("0x14")],createdAt:this[Sr("0x38")],authorId:this[Sr("0x53")].id,attributes:this[Sr("0x75")]}}destroy(){this[Sr("0x63")]()}}function Br(t,...e){for(const n of e)void 0!==n&&(t+=":"+String(n));return t}(0,e.mix)(Pr,e.ObservableMixin);const zr=["document","_itemIsContent","_hasContent","isEnabled","refresh","createRange","push","model","selection","_trimToContent","start","textProxy","comment:","isObject","editor","end","element","addMarker","getRanges","getLastMatchingPosition","change"];var Fr,Lr;Fr=zr,Lr=338,function(t){for(;--t;)Fr.push(Fr.shift())}(++Lr);const Ur=function(t,e){return zr[t-=0]};class Kr extends t.Command{[Ur("0x2")](){const t=this.editor.model[Ur("0x13")][Ur("0x6")];for(const e of t[Ur("0x10")]())if(this._hasContent(e))return void(this[Ur("0x1")]=!0);this[Ur("0x1")]=!1}execute({threadId:t=(0,e.uid)()}={}){const n=this[Ur("0xc")].model,o=[];for(const t of n[Ur("0x13")][Ur("0x6")][Ur("0x10")]())this._hasContent(t)&&o[Ur("0x4")](this[Ur("0x7")](t));n[Ur("0x12")]((n=>{for(const i of o){const o=(0,e.uid)().substr(1,5),r=Ur("0xa")+t+":"+o;n[Ur("0xf")](r,{range:i,usingOperation:!1,affectData:!1})}}))}[Ur("0x0")](t){for(const e of t.getItems())if(this[Ur("0x14")](e))return!0;return!1}_itemIsContent(t){return t.is(Ur("0x9"))||this[Ur("0xc")][Ur("0x5")].schema[Ur("0xb")](t)&&!t.is(Ur("0xe"),"tableCell")}[Ur("0x7")](t){const e=t=>!this[Ur("0x14")](t.item),n=t[Ur("0x8")].getLastMatchingPosition(e),o=t[Ur("0xd")][Ur("0x11")](e,{direction:"backward"});return this[Ur("0xc")][Ur("0x5")][Ur("0x3")](n,o)}}const Wr=["change:isFocused","update","hasDomSelection","isReadOnly","getRanges","registerAnnotation","delete","EditorAnnotations","set","from","directChange","element","model","_dataCollectors","range","uiUpdate","containsRange","change:range","innerView","editor","add","map","remove","refresh","has","getByInnerView","plugins","blur","getOrderedSelectedAnnotations","cancel","_editorAnnotationsData","editing","annotation","isEqual","fire","focusTracker","init","get","_editorAnnotations","requires","collection","view","refreshSelectedViews","listenTo","document"];var Hr,Zr;Hr=Wr,Zr=373,function(t){for(;--t;)Hr.push(Hr.shift())}(++Zr);const qr=function(t,e){return Wr[t-=0]};class $r extends t.Plugin{static get[qr("0x1a")](){return[jr]}static get pluginName(){return qr("0x27")}constructor(t){super(t),this[qr("0x0")]=new Set,this[qr("0x19")]=new Set}[qr("0x17")](){const t=this[qr("0x6")],e=t[qr("0x2c")][qr("0x1f")].selection,n=Qi((()=>this[qr("0x1d")]()),10);e.on(qr("0x4"),((t,e)=>{e[qr("0x2a")]&&(n[qr("0x10")](),this[qr("0x1d")]())})),this[qr("0x1e")](t[qr("0x12")].view[qr("0x1f")],qr("0x20"),((t,e,o)=>{o&&n()})),this[qr("0x1e")](t.ui.focusTracker,qr("0x20"),((e,n,o)=>{o||t[qr("0x23")]||this[qr("0x15")](qr("0xe"),{isAnnotationTracked:t=>this[qr("0x11")][qr("0xb")](t[qr("0x5")])})})),this[qr("0x1e")](this[qr("0x6")].ui,qr("0x21"),(()=>this.fire(qr("0x2"))))}[qr("0x25")](t){if(this[qr("0x19")][qr("0xb")](t))return;this[qr("0x19")].add(t[qr("0x1c")]),this.editor.ui[qr("0x16")][qr("0x7")](t[qr("0x1c")][qr("0x2b")]);const e=this.editor[qr("0xd")][qr("0x18")](jr);this.listenTo(e[qr("0x1b")],"remove",((t,e)=>{this.editor.ui[qr("0x16")][qr("0x9")](e.view.element),this[qr("0x19")][qr("0x26")](e[qr("0x1c")])}))}[qr("0x22")](){return this[qr("0x6")][qr("0x12")][qr("0x1c")][qr("0x22")]}addSourceCollector(t){if("function"!=typeof t)throw new e.CKEditorError("editorannotations-invalid-source-callback");this[qr("0x0")][qr("0x7")](t)}[qr("0x1d")](){this[qr("0x15")](qr("0xa"))}[qr("0xf")]({activeAnnotation:t,annotations:e}){const n=[],o=this[qr("0x6")][qr("0x2c")].document.selection,i=Array[qr("0x29")](o[qr("0x24")]());for(const[t,o]of this._editorAnnotationsData){const i=r(o),s=e[qr("0xc")](t);i&&s&&n.push({annotation:s,range:i})}function r(t){for(const e of t)for(const t of i)if(e[qr("0x3")](t,!o.isCollapsed))return e;return null}return n.sort(((e,n)=>{const o=e[qr("0x1")],i=n[qr("0x1")];if(!o[qr("0x14")](i)){if(o.containsRange(i,!0))return 1;if(i[qr("0x3")](o,!0))return-1}return e[qr("0x13")]==t?-1:n[qr("0x13")]==t?1:0}))[qr("0x8")]((t=>t[qr("0x13")]))}get[qr("0x11")](){const t=new Map;for(const e of Array.from(this[qr("0x0")]))for(const[n,o]of e())t[qr("0x28")](n,o);return t}}const Gr=["has","RestrictedEditingModeEditing","afterInit","editor","addCommentThread","enableCommand","get","plugins"];var Jr,Xr;Jr=Gr,Xr=177,function(t){for(;--t;)Jr.push(Jr.shift())}(++Xr);const Yr=function(t,e){return Gr[t-=0]};class Qr extends t.Plugin{[Yr("0x1")](){const t=this[Yr("0x2")];t.plugins[Yr("0x7")](Yr("0x0"))&&t[Yr("0x6")][Yr("0x5")](Yr("0x0"))[Yr("0x4")](Yr("0x3"))}}var ts=n(446),es={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Di()(ts.Z,es);ts.Z.locals;const ns=["dataInsert","execute","plugins","high","_handleImportedData","editor","forEach","Users","listenTo","importWord","addCommentThread","get","collaboration_features","map"];var os,is;os=ns,is=387,function(t){for(;--t;)os.push(os.shift())}(++is);const rs=function(t,e){return ns[t-=0]};class ss extends t.Plugin{afterInit(){const t=this.editor,n=t.commands[rs("0x2")](rs("0x0")),o=t[rs("0x7")][rs("0x2")](rs("0xc"));n&&(n.on(rs("0x6"),((t,[,e])=>{e[rs("0x3")]={comments:!0,user_id:o.me.id}}),{priority:e.priorities[rs("0x8")]+10}),this[rs("0xd")](n,rs("0x5"),this[rs("0x9")]))}[rs("0x9")](t,e){const{comment_threads:n}=e;n&&n[rs("0xb")]((({thread_id:t,comments:e})=>{const n=e[rs("0x4")]((({author:t,content:e,created_at:n})=>({content:e,authorId:this.editor[rs("0x7")].get(rs("0xc")).me.id,createdAt:new Date,attributes:{"@external":{authorName:t,createdAt:n?new Date(n):new Date}}}))),o=this[rs("0xa")].config[rs("0x2")]("collaboration.channelId");this[rs("0xa")].plugins[rs("0x2")](Nr)[rs("0x1")]({channelId:o,threadId:t,comments:n})}))}}const as=["document","name","_threadToController","map","render","delete","ready","for","left","isThreadsLoadingPaused","$graveyard","once","registerAnnotation","sort","CommentsEditing","length","model","init","createElement","top","destroy","filter","fetchCommentThread","removeMarker","getAttribute","isEqual","differ","text","markers","change:activeMarker","_handleMarkerAddAndRemove","then","getByInnerView","change","_initializeMarkerConverters","start","markerToData","collaboration.channelId","listenTo","conversion","markerName","registerPostFixer","createRange","ck-comment-marker--active","$marker","schema","switchReadOnly","activeMarker","dataToMarker","requires","isCollapsed","elementToElement","markerToHighlight","split","editor","high","update:comment","upcast","_threads","Annotations","newRange","destroyed","editing","comment","set","view","state","getChangedMarkers","config","size","openNewCommentThread","_detachCommentThread","_attachedThreads","end","updateMarker","createPositionBefore","getAllMarkersForId","CommentsRepository","dataDowncast","push","addComment","getCommentThreads","reconvertMarker","removeCommentThread","affectsData","comment:","hasCommentThread","hasMarkerForId","addCommentThread","getCommentThread","plugins","stop","get","_attachMarkerToThread","add","isObject"];var cs,xs;cs=as,xs=279,function(t){for(;--t;)cs.push(cs.shift())}(++xs);const hs=function(t,e){return as[t-=0]};class ds extends t.Plugin{static get[hs("0x3a")](){return[Nr,$r,Qr,ss]}static get pluginName(){return hs("0x17")}constructor(t){super(t),this[hs("0x49")](hs("0x12"),!0),t.data[hs("0x14")](hs("0xf"),(()=>this[hs("0x12")]=!1)),this[hs("0x49")]("activeMarker",null),this.on(hs("0x26"),((e,n,o,i)=>{t[hs("0x19")][hs("0x2a")]((()=>{if(o){const{id:e}=us(o),n=this.getAllMarkersForId(e);for(const e of n)t[hs("0x47")][hs("0x5b")](e)}if(i){const{id:e}=us(i),n=this.getAllMarkersForId(e);for(const e of n)t[hs("0x47")][hs("0x5b")](e)}}))})),this._attachedThreads=new Map}[hs("0x1a")](){const t=this.editor,e=t[hs("0x3")][hs("0x5")](hs("0x56")),n=t[hs("0x4d")].get(hs("0x2e"));t.commands[hs("0x7")](hs("0x1"),new Kr(t)),this[hs("0x2f")](t,"change:isReadOnly",((n,o,i)=>{e[hs("0x37")](i,t[hs("0x4d")][hs("0x5")](hs("0x2e")))})),this[hs("0x2f")](e,ls(hs("0x5c"),n),((n,{threadId:o})=>{t[hs("0x19")][hs("0x2a")]((t=>{for(const e of this[hs("0x55")](o))t[hs("0x20")](e)}));const i=e.getCommentThread(o);e[hs("0x5f")](o)&&!i.length||n[hs("0x4")]()}),{priority:hs("0x40")}),this[hs("0x2f")](e,ls(hs("0x59"),n),((n,{threadId:o,isFromAdapter:i})=>{const r=this[hs("0x55")](o);!i&&0!=r[hs("0x18")]&&e.hasCommentThread(o)&&1===e[hs("0x2")](o)[hs("0x18")]&&t.model[hs("0x2a")]((t=>{for(const e of r)t[hs("0x53")](e,{usingOperation:!0,affectsData:!0})}))}),{priority:"low"}),this[hs("0x2b")](),this[hs("0x27")]()}[hs("0x1d")](){const t=this[hs("0x3f")][hs("0x3")][hs("0x5")](hs("0x56")),e=this[hs("0x3f")].config[hs("0x5")](hs("0x2e"));for(const n of t[hs("0x5a")]({channelId:e}))t[hs("0x50")](n.id),t[hs("0x43")].delete(n.id);super[hs("0x1d")]()}[hs("0x0")](t){return this[hs("0x55")](t)[hs("0x18")]>0}[hs("0x55")](t){return(this[hs("0x51")].get(t)||[]).map((t=>this[hs("0x3f")][hs("0x19")].markers.get(t)))[hs("0x1e")]((t=>t))}[hs("0x2b")](){const t=this[hs("0x3f")];t.conversion[hs("0x10")]("editingDowncast")[hs("0x3d")]({model:"comment",view:t=>{const{id:e}=us(t[hs("0x31")]),n=["ck-comment-marker"];return this.activeMarker&&us(this[hs("0x38")]).id===e&&n[hs("0x58")](hs("0x34")),{classes:n,attributes:{"data-comment":e}}}}),t[hs("0x30")][hs("0x10")](hs("0x57"))[hs("0x2d")]({model:"comment",view:e=>{const n=t[hs("0x19")][hs("0x25")][hs("0x5")](e),{id:o,part:i}=us(e);return n&&!n[hs("0x5d")]?null:{group:"comment",name:i?o+":"+i:o}}}),t.conversion[hs("0x10")]("upcast")[hs("0x3c")]({view:{name:hs("0x48"),attribute:{id:/^\w/}},model:(t,{writer:e})=>e[hs("0x1b")](hs("0x35"),{"data-name":hs("0x5e")+t[hs("0x21")]("id")})}),t.conversion[hs("0x10")](hs("0x42"))[hs("0x39")]({view:"comment"})}[hs("0x27")](){const t=this[hs("0x3f")],e=t[hs("0x3")][hs("0x5")](hs("0x56")),n=new Set;t[hs("0x19")][hs("0x9")][hs("0x32")]((e=>{let o=!1;for(const{name:i,data:r}of t[hs("0x19")][hs("0x9")][hs("0x23")][hs("0x4c")]()){const{group:s,id:a}=us(i);let c=r[hs("0x45")];if(hs("0x48")!==s||!c)continue;const x=hs("0x13")===c.root.rootName;x||(c=ms(c,t[hs("0x19")]),!c||c[hs("0x22")](r[hs("0x45")]))?!c||!t[hs("0x19")].hasContent(c)||this[hs("0x51")].has(a)&&x?(e.removeMarker(i),o=!0):x||(this[hs("0x12")]?n[hs("0x7")](i):this[hs("0x6")](i,a)):(e[hs("0x53")](i,{range:c}),o=!0)}return o})),this.on("change:isThreadsLoadingPaused",((e,o,i)=>{if(!i&&n[hs("0x4e")])for(const e of n){const{id:o}=us(e);n[hs("0xe")](o),t.model[hs("0x25")].get(e)&&this[hs("0x6")](e,o)}})),this[hs("0x2f")](t[hs("0x19")][hs("0x25")],hs("0x41"),((o,i,r,s)=>{if(s)return;const{id:a}=us(i[hs("0xa")]),c=t.plugins[hs("0x5")](hs("0x56")).getCommentThread(a);n[hs("0xe")](a),c&&!this[hs("0x0")](a)&&(this[hs("0x51")][hs("0xe")](a),e[hs("0x50")](a))}))}[hs("0x6")](t,n){if(this[hs("0x51")].has(n)){const e=this[hs("0x51")][hs("0x5")](n);return void(e.includes(t)||e[hs("0x58")](t))}this[hs("0x51")][hs("0x49")](n,[t]);const o=this[hs("0x3f")],r=o[hs("0x3")][hs("0x5")](hs("0x56")),s=o[hs("0x4d")][hs("0x5")](hs("0x2e")),a=o[hs("0x3")][hs("0x5")]("EditorAnnotations"),c=()=>{const t=this[hs("0x55")](n);if(0===t[hs("0x18")])return null;if(1===t[hs("0x18")])return(0,i.getMarkerDomElement)(o[hs("0x47")],t[0]);const r=t[hs("0xc")]((t=>(0,i.getMarkerDomElement)(o[hs("0x47")],t)));return r[hs("0x16")](((t,n)=>{const o=new e.Rect(t),i=new e.Rect(n),r=o[hs("0x1c")]-i.top;return 0==r?o[hs("0x11")]-i[hs("0x11")]:r})),r[0]};this[hs("0x55")](n)[0].managedUsingOperations?r[hs("0x1f")]({channelId:s,threadId:n})[hs("0x28")]((t=>{if(hs("0x46")!==o[hs("0x4b")])if(t){const e=t.attachTo(c);a[hs("0x15")](e)}else{const t=this[hs("0x55")](n);o[hs("0x19")][hs("0x2a")]((e=>{for(const n of t)e.removeMarker(n)}))}})):o.editing[hs("0x4a")][hs("0x14")](hs("0xd"),(()=>{const t=o[hs("0x3")].get(hs("0x44")),e=r[hs("0x4f")]({channelId:s,threadId:n,target:c}),i=r[hs("0xb")].get(e).view,x=t[hs("0x29")](i);a.registerAnnotation(x)}),{priority:"low"})}}function ls(t,e){return e?t+":"+e:t}function us(t){const e=t[hs("0x3e")](":");return{group:e[0],id:e[1],part:e[2]}}function ms(t,e){const n=e[hs("0x36")],o=e[hs("0x33")](t[hs("0x2c")]);for(const i of t.getWalker()){const{type:t,item:r,nextPosition:s}=i;if(hs("0x24")===t||n[hs("0x8")](r)){const t=e[hs("0x54")](r);o[hs("0x3b")]&&(o.start=t),o[hs("0x52")]=s}}return o.isCollapsed?null:o}const fs='\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 1.5h12A3.5 3.5 0 0 1 19.5 5v8l-.005.192a3.501 3.501 0 0 1-2.927 3.262l-.062.008v1.813a1.5 1.5 0 0 1-2.193 1.33l-.371-.193-.38-.212a13.452 13.452 0 0 1-3.271-2.63l-.062-.07H4A3.5 3.5 0 0 1 .5 13V5A3.5 3.5 0 0 1 4 1.5ZM4 3a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h6.924a11.916 11.916 0 0 0 3.71 3.081l.372.194v-3.268L14.962 15H16a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H4Zm1.55 5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Zm4.5 0a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Zm4.5 0a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Z"/></svg>\n',ps=["add","listenTo","stop","focusTracker","model","focus","CommentThreadInputView","_viewToController","editor","push","CommentsUI","requires","tooltip","execute","isFocused","innerView","activeMarker","locale","addComment","length","hasMarkerForId","get","map","comment","getCommentThread","isEnabled","comment:","view","editing","addCommentThread","label","addSourceCollector","_createUIButton","icon","CommentsListView","pluginName","plugins","_threadToController","init","change:activeAnnotations"];var gs,bs;gs=ps,bs=263,function(t){for(;--t;)gs.push(gs.shift())}(++bs);const vs=function(t,e){return ps[t-=0]};class _s extends t.Plugin{static get[vs("0xc")](){return vs("0x1b")}static get[vs("0x1c")](){return[Nr,ds,$r,jr]}get[vs("0xb")](){return si}get[vs("0x17")](){return Jo}[vs("0xf")](){const t=this.editor,e=t[vs("0xd")].get(Nr),n=t.plugins[vs("0x26")](ds),o=t[vs("0xd")][vs("0x26")](jr),i=t[vs("0xd")][vs("0x26")]($r);t.ui.componentFactory[vs("0x11")](vs("0x0"),(()=>this[vs("0x9")]())),i[vs("0x8")]((()=>{const t=[];for(const[o,i]of e[vs("0xe")]){const e=n.getAllMarkersForId(o.id),r=e[vs("0x27")]((t=>t.getRange()));e[vs("0x24")]>0&&t[vs("0x1a")]([i[vs("0x4")],r])}return t})),this[vs("0x12")](o,vs("0x10"),((t,o,i)=>{const r=Array.from(i)[vs("0x27")]((t=>t[vs("0x20")])).find((t=>e[vs("0x18")].has(t)));if(!r)return void(n[vs("0x21")]=null);const s=e[vs("0x18")][vs("0x26")](r)[vs("0x15")].id,a=vs("0x3")+s;n[vs("0x25")](s)?n[vs("0x21")]=a:n[vs("0x21")]&&(n[vs("0x21")]=null)})),this.listenTo(e,"removeCommentThread",((e,{threadId:o,isFromAdapter:i})=>{!i&&t.ui[vs("0x14")][vs("0x1f")]&&n[vs("0x25")](o)&&t[vs("0x5")][vs("0x4")][vs("0x16")]()}),{priority:"highest"}),this[vs("0x12")](e,vs("0x23"),((o,{threadId:i,isFromAdapter:r})=>{!r&&n[vs("0x25")](i)&&e.hasCommentThread(i)&&1===e[vs("0x1")](i)[vs("0x24")]&&(t.editing[vs("0x4")][vs("0x16")](),o[vs("0x13")]())}),{priority:"low"})}_createUIButton(){const t=this[vs("0x19")],e=new go.ButtonView(t[vs("0x22")]),n=t.commands[vs("0x26")](vs("0x6"));return e[vs("0x7")]=bo(t[vs("0x22")],"Comment"),e[vs("0x1d")]=bo(t.locale,"Comment"),e[vs("0xa")]=fs,e.bind(vs("0x2")).to(n),this.listenTo(e,vs("0x1e"),(()=>n[vs("0x1e")]())),e}}const ws=["_enableCommentsOnlyMode","pluginName","clearForceDisabled","stopListening","document","stop","commands","requires","set","delete","cut","highest","listenTo","DragDrop","editing","plugins","get","_disableCommentsOnlyMode","commentsOnlyMode","isEnabled","view","editor","config","addCommentThread"];var ks,ys;ks=ws,ys=396,function(t){for(;--t;)ks.push(ks.shift())}(++ys);const Cs=function(t,e){return ws[t-=0]};class As extends t.Plugin{static get[Cs("0xd")](){return"CommentsOnly"}static get[Cs("0x13")](){return[ds]}constructor(t){super(t),this[Cs("0x14")]("isEnabled",null),this.on("change:isEnabled",((t,e,n)=>{n?this._enableCommentsOnlyMode():this[Cs("0x5")]()}))}afterInit(){null===this[Cs("0x7")]&&(this[Cs("0x7")]=!!this[Cs("0x9")][Cs("0xa")][Cs("0x4")]("commentsOnly"))}[Cs("0xc")](){for(const[t,e]of this[Cs("0x9")].commands)e.affectsData&&Cs("0xb")!==t&&e.forceDisabled(Cs("0x6"));this[Cs("0x9")][Cs("0x3")].has(Cs("0x1"))&&this[Cs("0x9")][Cs("0x3")][Cs("0x4")](Cs("0x1")).forceDisabled(Cs("0x6"));const t=this[Cs("0x9")][Cs("0x2")][Cs("0x8")][Cs("0x10")];this[Cs("0x0")](t,Cs("0x16"),(t=>t.stop()),{priority:Cs("0x17")}),this[Cs("0x0")](t,"clipboardInput",(t=>t[Cs("0x11")]()),{priority:"highest"}),this[Cs("0x0")](t,Cs("0x15"),(t=>t[Cs("0x11")]()),{priority:Cs("0x17")})}[Cs("0x5")](){for(const[t,e]of this[Cs("0x9")][Cs("0x12")])e.affectsData&&"addCommentThread"!==t&&e[Cs("0xe")](Cs("0x6"));this[Cs("0xf")](this[Cs("0x9")][Cs("0x2")].view.document)}}const Ts=["listenTo","plugins","change:activeAnnotation","isActive","collection","_deactivateAllAnnotations","_visibleAnnotations","init","deactivate","attach","activeUIs","_addActiveAnnotation","size","set","length","hasActive","annotationsuis-activate-missing-ui","setActiveAnnotation","deactivateAll","switchTo","stopListening","destroy","annotationsuis-annotation-mismatch","get","_assertAnnotationDoesNotBelongToMultipleUIs","annotationsuis-register-already-registered","detach","context","delete","function","_uis","type","_uisData","filter","_setSelectedAnnotations","annotationsuis-register-invalid-interface","requires","_removeActiveAnnotation","register","remove","_activateAnnotation","has","from","add"];var Es,Is;Es=Ts,Is=144,function(t){for(;--t;)Es.push(Es.shift())}(++Is);const js=function(t,e){return Ts[t-=0]};class Os extends t.ContextPlugin{static get[js("0x18")](){return[jr]}static get pluginName(){return"AnnotationsUIs"}constructor(t){super(t),this[js("0x2a")]=new Set,this[js("0x12")]=new Map,this._uisData=new Map}[js("0x27")](){const t=this[js("0xf")].plugins[js("0xb")](jr);this[js("0x20")](t,js("0x1c"),((t,e)=>{for(const t of this.activeUIs){const n=this[js("0x12")][js("0xb")](t);(0,this[js("0x14")][js("0xb")](t)[js("0x15")])(e)&&n[js("0x5")](e)}})),this.listenTo(t,js("0x25"),(()=>{for(const t of this[js("0x2a")])this[js("0x12")].get(t)[js("0x5")](null)})),this[js("0x20")](t[js("0x26")],js("0x1f"),((t,e)=>{this._assertAnnotationDoesNotBelongToMultipleUIs(e)}))}[js("0x3")](){return this[js("0x2a")][js("0x0")]>0}isActive(t){return this.activeUIs.has(t)}activate(t,n=(()=>!0)){const o=this[js("0xf")][js("0x21")][js("0xb")](jr);if(!this[js("0x12")][js("0x1d")](t))throw new e.CKEditorError(js("0x4"),this,{uiName:t});this[js("0x23")](t)&&this[js("0x28")](t),this.activeUIs.add(t);const i=new yr;(function({source:t,target:e,filter:n}){for(const o of t)n(o)&&e[kr("0xd")](o);e.listenTo(t,kr("0xd"),((t,o)=>{n(o)&&e[kr("0xd")](o)})),e[kr("0x19")](t,kr("0x21"),((t,n)=>{e.has(n)&&e[kr("0x21")](n)}))})({source:o._visibleAnnotations,target:i,filter:n}),this[js("0x14")][js("0x1")](t,{collection:i,filter:n});const r=this._uis.get(t);r[js("0x29")](i),this[js("0x20")](r,js("0x22"),((t,e,n,i)=>{i&&o[js("0x19")](i),n&&o[js("0x2b")](n)}))}[js("0x28")](t){this[js("0x2a")].delete(t);const e=this[js("0x12")][js("0xb")](t);e[js("0xe")](),this[js("0x8")](e),this[js("0x14")].get(t)[js("0x24")][js("0x9")](),this[js("0x14")][js("0x10")](t)}[js("0x7")](t){const e=this.context[js("0x21")][js("0xb")](jr),n=Array[js("0x1e")](e.activeAnnotations)[0]||null;this[js("0x6")](),this.activate(t);const o=this[js("0x12")][js("0xb")](t);o[js("0x5")](n),o._setSelectedAnnotations&&n&&o[js("0x16")]([n])}[js("0x6")](){for(const t of this.activeUIs)this[js("0x28")](t)}[js("0x1a")](t,n){if(this._uis[js("0x1d")](t))throw new e.CKEditorError(js("0xd"));if(js("0x11")!=typeof n[js("0x29")]||js("0x11")!=typeof n[js("0xe")]||js("0x11")!=typeof n[js("0x5")])throw new e.CKEditorError(js("0x17"),null);this[js("0x12")][js("0x1")](t,n)}refilterAnnotations(){const t=this[js("0xf")][js("0x21")][js("0xb")](jr)[js("0x24")],e=new Map,n=Array[js("0x1e")](this.activeUIs);for(const t of this[js("0x2a")]){const n=this[js("0x14")][js("0xb")](t).collection;for(const o of n)e.set(o,t)}for(const o of t){const t=e[js("0xb")](o);this[js("0xc")](o);const i=n.find((t=>this[js("0x14")][js("0xb")](t)[js("0x15")](o)));t!==i&&(t&&this[js("0x14")][js("0xb")](t)[js("0x24")][js("0x1b")](o),i&&this[js("0x14")][js("0xb")](i)[js("0x24")].add(o))}}[js("0x9")](){this[js("0x6")](),super.destroy()}[js("0xc")](t){const n=[];for(const e of this[js("0x2a")])(0,this._uisData[js("0xb")](e).filter)(t)&&n.push(e);if(n[js("0x2")]>1)throw new e.CKEditorError(js("0xa"),null,{matchedUIs:n,annotationType:t[js("0x13")]})}}var Vs=n(100),Ms={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Di()(Vs.Z,Ms);Vs.Z.locals;const Ss=["class","div","createCollection","minHeight","set","list","setTemplate","bindTemplate","ck-reset"];var Ds,Ns;Ds=Ss,Ns=280,function(t){for(;--t;)Ds.push(Ds.shift())}(++Ns);const Rs=function(t,e){return Ss[t-=0]},Ps=(0,e.toUnit)("px");class Bs extends go.View{constructor(t){super(t);const e=this[Rs("0x6")];this[Rs("0x3")](Rs("0x2"),0),this[Rs("0x3")](Rs("0x8"),""),this[Rs("0x4")]=this[Rs("0x1")](),this[Rs("0x5")]({tag:Rs("0x0"),attributes:{class:["ck","ck-sidebar",Rs("0x7"),e.to(Rs("0x8"))],style:{minHeight:e.to(Rs("0x2"),(t=>t?Ps(t+10):null))}},children:this[Rs("0x4")]})}}const zs=["content","ck-sidebar-item--no-animation","bind","element","destroy","createCollection","detach","height","div","clientHeight","ck-sidebar-item","clear","set","isAnimationDisabled","top","updateHeight","bottom","attach","render","_mutationObserver","bindTemplate"];var Fs,Ls;Fs=zs,Ls=376,function(t){for(;--t;)Fs.push(Fs.shift())}(++Ls);const Us=function(t,e){return zs[t-=0]},Ks=(0,e.toUnit)("px");class Ws extends go.View{constructor(t){super(t),this.set(Us("0x10")),this[Us("0xe")](Us("0x9"),0),this[Us("0x4")](Us("0x12")).to(this,Us("0x10"),this,Us("0x9"),((t,e)=>(t||0)+e)),this.set(Us("0xf"),!1),this[Us("0x0")]=rr((()=>this.updateHeight())),this._targetTop=null,this[Us("0x2")]=this[Us("0x7")]();const e=this[Us("0x1")];this.setTemplate({tag:Us("0xa"),attributes:{class:[Us("0xc"),e.to(Us("0xf"),(t=>t?Us("0x3"):""))],style:{top:e.to(Us("0x10"),Ks)}},children:this[Us("0x2")]})}render(){super[Us("0x14")](),this[Us("0x0")][Us("0x13")](this[Us("0x5")])}[Us("0x11")](){const t=this.element[Us("0xb")];t&&(this[Us("0x9")]=t)}[Us("0x6")](){this.content[Us("0xd")](),this._mutationObserver[Us("0x8")](),super.destroy()}}const Hs=["_targetTop","list","max","_annotationToSidebarItemView","top","locale","class","minHeight","get","rearrange","config","updateHeight","sidebar.preventScrollOutOfView","_detachFromContainer","_getItemAfter","stopListening","_alignForBottomChange","change:top","set","change:_lastItem","_lastItem","_alignToTargetRect","_activeAnnotation","element","isAnimationDisabled","sidebar.container","_destroySidebarItemView","init","height","_alignAfterItem","pluginName","bind","last","_updateLastItem","_getItemBefore","remove","bottom","_getMaxAvailableTop","_createSidebarView","context","target","container","addAnnotation","clear","view","_sidebarItemViewToAnnotation","sidebar-setcontainer-invalid-element","push","_alignBeforeItem","isActive","targetRect","_alignForTopChange","getIndex","Sidebar","_setItemTop","listenTo","_recalculate","getSidebarItemView","length","_recalculateBuffer","refresh","_getTargetTop","change:targetRect","_spaceBetweenItems","content","_annotations","sidebar-attachtocontainer-missing-container","delete","destroy","define"];var Zs,qs;Zs=Hs,qs=152,function(t){for(;--t;)Zs.push(Zs.shift())}(++qs);const $s=function(t,e){return Hs[t-=0]};class Gs extends t.ContextPlugin{static get[$s("0x12")](){return $s("0x29")}constructor(t){super(t),this.set($s("0x8")),this[$s("0x20")]=this[$s("0x1a")](),this.set($s("0x1d"),null),this[$s("0x33")]=25,this[$s("0x21")]=new Map,this._annotationToSidebarItemView=new Map,this[$s("0x1b")][$s("0x44")][$s("0x39")]("sidebar.preventScrollOutOfView",!1),this[$s("0x35")]=null,this[$s("0xa")]=null,this[$s("0x2f")]=[]}[$s("0xf")](){const t=this[$s("0x1b")][$s("0x44")][$s("0x42")]($s("0xd"));t&&this.setContainer(t)}setContainer(t){if(!Xs(t))throw new e.CKEditorError($s("0x22"));this.container=t}_attachToContainer({viewClass:t="",spaceBetweenItems:n=25}={}){if(!Xs(this.container))throw new e.CKEditorError($s("0x36"),this);this[$s("0x1d")].appendChild(this.view[$s("0xb")]),this[$s("0x20")][$s("0x40")]=t,this[$s("0x33")]=n}[$s("0x43")]({removedAnnotation:t,previousAnnotation:e,nextAnnotation:n}){const o=this.getSidebarItemView(t);this[$s("0x20")][$s("0x3b")][$s("0x17")](o),this[$s("0xe")](t),e&&this[$s("0x9")](this[$s("0x2d")](e)),n&&this[$s("0x9")](this[$s("0x2d")](n)),this._updateLastItem()}[$s("0x30")]({blurredAnnotation:t,activatedAnnotation:e,disableAnimationOnActivatedAnnotation:n}){if(this[$s("0xa")]=e,t){t.isActive=!1;const e=this[$s("0x2d")](t);e&&n&&(e[$s("0xc")]=!1)}if(e){const t=this[$s("0x2d")](e);t&&(e[$s("0x25")]=!0,n&&(t[$s("0xc")]=!0,t[$s("0x3e")]+=1),this[$s("0x9")](t))}}[$s("0x1")](t){this.stopListening(),this[$s("0x20")].element.remove();for(const e of t)this[$s("0xe")](e);this[$s("0x20")][$s("0x3b")][$s("0x1f")](),this[$s("0x20")][$s("0x40")]="",this._lastItem=null}[$s("0x1e")](t,e){e||(e=t[$s("0x20")]);const n=new Ws(this.context[$s("0x3f")]);this[$s("0x21")][$s("0x6")](n,t),this[$s("0x3d")][$s("0x6")](t,n),n.content.add(e),this[$s("0x2b")](t[$s("0x20")],$s("0x32"),((e,o,i)=>{const r=this[$s("0x31")](t,i);n[$s("0x3a")]!=r&&(n._targetTop=r,this[$s("0x2a")](n,r))})),this[$s("0x2b")](n,$s("0x5"),(()=>{this[$s("0x2c")](n,$s("0x3e"))})),this.listenTo(n,"change:bottom",(()=>{this[$s("0x2c")](n,$s("0x18"))})),this[$s("0x9")](n);const o=this[$s("0x16")](n);return o&&this[$s("0x11")](o,n)||this[$s("0x9")](n),this[$s("0x15")](),this.view[$s("0x3b")].add(n),n}[$s("0x27")](t){if(!t[$s("0x34")][$s("0x2e")])return;const e=this[$s("0x16")](t);if(!e)return;const n=this[$s("0x21")].get(e),o=this[$s("0xa")];o&&o===n?this[$s("0x11")](e,t):this._alignBeforeItem(t,e)}[$s("0x4")](t){if(!t[$s("0x34")][$s("0x2e")])return;const e=this[$s("0x2")](t);if(!e)return;const n=this._sidebarItemViewToAnnotation[$s("0x42")](e),o=this[$s("0x1b")][$s("0x44")][$s("0x42")]("sidebar.preventScrollOutOfView"),i=this[$s("0xa")];i&&i===n&&o?(this[$s("0x24")](e,t),this[$s("0x11")](t,e)):i&&i===n?this._alignBeforeItem(e,t):this[$s("0x11")](t,e)}_recalculate(t,e){0===this[$s("0x2f")][$s("0x2e")]&&setTimeout((()=>{for(const{sidebarItemView:t,changedProp:e}of this[$s("0x2f")])$s("0x3e")===e?this._alignForTopChange(t):this[$s("0x4")](t);this[$s("0x2f")]=[]}),10),this._recalculateBuffer[$s("0x23")]({sidebarItemView:t,changedProp:e})}getSidebarItemView(t){return this[$s("0x3d")][$s("0x42")](t)}destroy(){this[$s("0x20")].destroy()}[$s("0xe")](t){const e=this.getSidebarItemView(t);this[$s("0x3")](e),this[$s("0x3")](t.view),e[$s("0x38")](),this[$s("0x3d")][$s("0x37")](t),this._sidebarItemViewToAnnotation.delete(e)}[$s("0x1a")](){const t=new Bs(this[$s("0x1b")][$s("0x3f")]);return t.render(),this.on($s("0x7"),((e,n,o,i)=>{i&&t.unbind($s("0x41")),o?t[$s("0x13")]($s("0x41")).to(o,$s("0x18")):t[$s("0x41")]=null})),t}[$s("0x15")](){this[$s("0x8")]=this[$s("0x2d")](this[$s("0x35")][$s("0x14")])}[$s("0x16")](t){const e=this[$s("0x21")][$s("0x42")](t),n=this[$s("0x35")][$s("0x42")](this._annotations[$s("0x28")](e)-1);return n&&this[$s("0x2d")](n)}[$s("0x2")](t){const e=this[$s("0x21")][$s("0x42")](t),n=this._annotations[$s("0x42")](this._annotations[$s("0x28")](e)+1);return n&&this[$s("0x2d")](n)}[$s("0x24")](t,e){t[$s("0x45")]();const n=Js(e[$s("0x18")]+this[$s("0x33")],t[$s("0x3e")]);return!!n&&(this[$s("0x2a")](e,e.top-n),!0)}[$s("0x11")](t,e){t[$s("0x45")]();const n=Js(t[$s("0x18")]+this[$s("0x33")],e[$s("0x3e")]);return!!n&&(this._setItemTop(e,e.top+n,!1),!0)}[$s("0x9")](t){const e=this[$s("0x21")][$s("0x42")](t);if(!e||!e.target)return;const n=this[$s("0x31")](e,e[$s("0x26")]);this[$s("0x2a")](t,n)}_getTargetTop(t,n){if(null===n)return 0;if(t[$s("0x1c")]instanceof e.Rect)return n.top;{const t=new e.Rect(this[$s("0x20")][$s("0xb")]).top;return n.top-t}}_setItemTop(t,e,n=this[$s("0x1b")][$s("0x44")][$s("0x42")]($s("0x0"))){n&&(e=Math.max(e,this[$s("0x19")](t))),t.top=e}[$s("0x19")](t){let e=this[$s("0x16")](t),n=0;for(;e;)e[$s("0x45")](),n+=this._spaceBetweenItems+e[$s("0x10")],e=this[$s("0x16")](e);return n}}function Js(t,e){return Math[$s("0x3c")](t-e,0)}function Xs(t){return null!==t&&"object"==typeof t&&1===t.nodeType}const Ys=["_annotations","cancel","stop","get","focus","_refreshPositioningDebounced","Sidebar","refresh","_destroyEditorAnnotationsIntegration","removeEventListener","isAttached","ready","attach","_integrateWithEditorAnnotations","from","wideSidebar","rearrange","addEventListener","high","_activeAnnotation","EditorAnnotations","plugins","updateTargetRect","context","container","activeAnnotation","add","blur","change:container","refreshPositioning","listenTo","stopListening","setActiveAnnotation","resize","hasDomSelection","uiUpdate","editors","widesidebar-attach-already-attached","widesidebar-detach-not-attached","register","_editorAnnotations","annotations","init","detach","remove"];var Qs,ta;Qs=Ys,ta=280,function(t){for(;--t;)Qs.push(Qs.shift())}(++ta);const ea=function(t,e){return Ys[t-=0]};class na extends t.ContextPlugin{static get requires(){return[Gs,Os]}static get pluginName(){return"WideSidebar"}constructor(t){super(t),this.isAttached=!1,this.set(ea("0xf"),null),this[ea("0x1f")]=null,this._editorAnnotations=new e.Collection,this._refreshPositioningDebounced=Qi((()=>{this[ea("0x1f")][ea("0x13")]()}),250,{leading:!1})}[ea("0x20")](){const t=this.context[ea("0xb")][ea("0x26")](Os),e=this.context.plugins[ea("0x26")](Gs);t[ea("0x1d")](ea("0x5"),this),e[ea("0xe")]&&t.switchTo(ea("0x5"))}[ea("0x16")](t){if(t===this[ea("0xf")])return;const e=this[ea("0xd")].plugins.get(Gs);e[ea("0x9")]=t;const n=this[ea("0xf")];this[ea("0xf")]=t,e[ea("0x2a")]({blurredAnnotation:n,activatedAnnotation:this[ea("0xf")]})}[ea("0x2")](t){this[ea("0x1f")]=t;const n=this[ea("0xd")][ea("0xb")][ea("0x26")](ea("0x29"));if(n[ea("0x23")]=t,this[ea("0x0")])throw new e.CKEditorError(ea("0x1b"),this);this.isAttached=!0,this.listenTo(n,"set:container",(()=>{this[ea("0x21")](),this.listenTo(n,ea("0x12"),(e=>{e.off(),this[ea("0x2")](t)}))})),n._attachToContainer({viewClass:"ck-sidebar--wide"});const o=t=>{t[ea("0xc")](),n.addAnnotation(t)};for(const e of t)o(e);this[ea("0x14")](t,ea("0x10"),((t,e)=>{o(e)})),this[ea("0x14")](t,ea("0x22"),((e,o,i)=>{n[ea("0x6")]({removedAnnotation:o,previousAnnotation:t[ea("0x26")](i-1),nextAnnotation:t[ea("0x26")](i+1)}),o===this[ea("0xf")]&&this[ea("0x16")](null)}),{priority:ea("0x8")}),this[ea("0x14")](t,ea("0x27"),((t,e)=>{this[ea("0x16")](e)})),this[ea("0x14")](t,ea("0x11"),(()=>{this[ea("0x16")](null)}));const i=this[ea("0xd")][ea("0x1a")]?this[ea("0xd")].editors:new e.Collection([this.context]);for(const t of i)this[ea("0x3")](t);this[ea("0x14")](i,"add",((t,e)=>{this.listenTo(e,ea("0x1"),(()=>{this[ea("0x3")](e)}))})),this.listenTo(i,ea("0x22"),((t,e)=>{e[ea("0xb")].has(ea("0xa"))&&this[ea("0x2b")](e[ea("0xb")].get(ea("0xa")))})),window[ea("0x7")](ea("0x17"),this[ea("0x28")]),this[ea("0x1f")][ea("0x13")]()}detach(){if(!this[ea("0x0")])throw new e.CKEditorError(ea("0x1c"),this);this[ea("0x16")](null);const t=this[ea("0xd")][ea("0xb")][ea("0x26")](Gs);t._detachFromContainer(this.annotations),this.stopListening(t),this[ea("0x15")](this.annotations),this[ea("0x15")](this[ea("0xd")][ea("0x1a")]);for(const t of Array[ea("0x4")](this[ea("0x1e")]))this[ea("0x2b")](t);window[ea("0x2c")](ea("0x17"),this[ea("0x28")]),this._refreshPositioningDebounced[ea("0x24")](),this.activeAnnotation=null,this[ea("0x0")]=!1,this.annotations=null}destroy(){this[ea("0x0")]&&this[ea("0x21")]()}[ea("0x3")](t){const e=t[ea("0xb")][ea("0x26")]("EditorAnnotations");if(!e)return;const n=()=>{const t=e.getOrderedSelectedAnnotations({annotations:this[ea("0x1f")],activeAnnotation:this.activeAnnotation});this[ea("0x16")](t[0]||null)};this[ea("0x14")](e,ea("0x2a"),n),this[ea("0x14")](e,ea("0x11"),((t,{isAnnotationTracked:e})=>{this[ea("0xf")]&&e(this[ea("0xf")])&&this[ea("0x16")](null)})),this[ea("0x14")](e,ea("0x19"),(()=>{this[ea("0x28")]()})),this[ea("0x14")](this[ea("0x1f")],"blur",(t=>{e[ea("0x18")]()&&(n(),t[ea("0x25")]())}),{priority:ea("0x8")}),this[ea("0x1e")][ea("0x10")](e)}[ea("0x2b")](t){t&&(this[ea("0x15")](t),this._editorAnnotations.remove(t))}}const oa=["isDirty","set","bind","ck-annotation-counter__badge--edit-mode","counterView","ck-annotation-counter__badge","bindTemplate","icon","extendTemplate","span","ck-annotation-counter__badge--","number","_badge","annotationType","add","children"];var ia,ra;ia=oa,ra=219,function(t){for(;--t;)ia.push(ia.shift())}(++ra);const sa=function(t,e){return oa[t-=0]};class aa extends go.ButtonView{constructor(t){super(t);const e=this[sa("0xb")];this[sa("0x6")](sa("0x5"),!1),this[sa("0x6")](sa("0x0"),0),this[sa("0x7")](sa("0x1")).to(this,sa("0x5"),this,sa("0x0"),((t,e)=>t?"...":e)),this[sa("0x6")]("annotationType",""),this[sa("0xc")]=fs,this[sa("0xd")]({attributes:{class:["ck-annotation-counter"]}}),this[sa("0x9")]=new go.View,this[sa("0x9")].setTemplate({tag:sa("0xe"),attributes:{class:[sa("0xa"),e.to(sa("0x2"),(t=>sa("0xf")+t)),e.if(sa("0x5"),sa("0x8"))]},children:[{text:e.to(sa("0x1"))}]}),this[sa("0x4")][sa("0x3")](this[sa("0x9")])}}var ca=n(28),xa={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Di()(ca.Z,xa);ca.Z.locals;const ha=["low","context","content","locale","annotations","mousedown","isDirty","_editorAnnotations","values","addAnnotation","narrowsidebar-attach-already-attached","northArrowSouthEast","keydown","ck-sidebar--narrow","contains","editors","southArrowNorth","_integrateWithEditorAnnotations","change:container","pluginName","_domEmitter","northArrowSouth","remove","_updateBalloonPosition","getSidebarItemView","add","isVisible","change:height","unpin","_showBalloon","has","activeAnnotation","blur","length","execute","set","_hideBalloon","Esc","delete","_attachToContainer","_manuallyClosedAnnotationViews","_detachListeners","balloonPanelView","removeEventListener","southArrowNorthWest","listenTo","resize","northArrowSouthWest","register","clear","hasDomSelection","preventDefault","southArrowNorthEast","number","_refreshPositioningDebounced","attach","high","_destroyEditorAnnotationsIntegration","focus","plugins","EditorAnnotations","_attachListeners","NarrowSidebar","_detachFromContainer","_selectedAnnotations","defaultPositions","view","_annotationToNarrowView","detach","_annotations","from","refresh","isAttached","set:container","addEventListener","element","cancel","off","get","narrowsidebar-detach-not-attached","_refreshPositioning","stopPropagation","first","keyCode","stop","narrowSidebar","destroy","bodyCollection","_setSelectedAnnotations","pin","setActiveAnnotation","stopListening","target","init","annotationType"];var da,la;da=ha,la=123,function(t){for(;--t;)da.push(da.shift())}(++la);const ua=function(t,e){return ha[t-=0]};class ma extends t.ContextPlugin{static get requires(){return[Gs,Os]}static get[ua("0x56")](){return ua("0x22")}constructor(t){super(t),this[ua("0x2c")]=!1,this[ua("0xc")]=new Set,this[ua("0x57")]=Object.create(e.DomEmitterMixin),this[ua("0x27")]=new Map,this[ua("0x7")](ua("0x3"),null),this[ua("0x47")]=null,this[ua("0x24")]=[],this[ua("0x4a")]=new e.Collection,this[ua("0x1a")]=Qi((()=>{this[ua("0x34")]()}),250,{leading:!1})}[ua("0x41")](){this[ua("0x44")][ua("0x1f")].get(Os)[ua("0x14")](ua("0x39"),this),this[ua("0x3b")]=new go.BodyCollection(this[ua("0x44")][ua("0x46")]),this[ua("0xe")]=new go.BalloonPanelView(this[ua("0x44")][ua("0x46")]),this.bodyCollection.attachToDom(),this[ua("0x3b")][ua("0x5c")](this[ua("0xe")])}[ua("0x1b")](t){this.annotations=t;const n=this.context[ua("0x1f")][ua("0x32")](Gs),o=this[ua("0xe")];if(n[ua("0x29")]=t,this[ua("0x2c")])throw new e.CKEditorError(ua("0x4d"),this);this[ua("0x2c")]=!0,this.listenTo(n,ua("0x2d"),(()=>{this[ua("0x28")](),this[ua("0x11")](n,ua("0x55"),(e=>{e[ua("0x31")](),this[ua("0x1b")](t)}))})),n[ua("0xb")]({viewClass:ua("0x50"),spaceBetweenItems:5});const i=t=>{const e=new aa(this[ua("0x44")][ua("0x46")]);n[ua("0x4c")](t,e),this._annotationToNarrowView[ua("0x7")](t,e),e.bind(ua("0x49"),ua("0x42"),ua("0x19")).to(t[ua("0x26")],"isDirty","type",ua("0x5")),e.on(ua("0x6"),(()=>{this[ua("0xc")][ua("0x15")](),o.content.first!==t[ua("0x26")]?(this[ua("0x1")](t),t[ua("0x26")].element[ua("0x1e")](),this[ua("0x3e")](t)):this[ua("0x3e")](null)}))};for(const e of t)i(e);this.listenTo(t,ua("0x5c"),((t,e)=>{i(e)})),this[ua("0x11")](t,ua("0x59"),((e,o,i)=>{this[ua("0x27")][ua("0x32")](o).destroy(),this[ua("0x27")][ua("0xa")](o),n.rearrange({removedAnnotation:o,previousAnnotation:t[ua("0x32")](i-1),nextAnnotation:t[ua("0x32")](i+1)}),o===this[ua("0x3")]&&this[ua("0x3e")](null)}),{priority:ua("0x43")}),this[ua("0x11")](t,"focus",((t,e)=>{this[ua("0x3e")](e)})),this[ua("0x11")](t,ua("0x4"),(()=>{this[ua("0x3e")](null)})),this[ua("0x57")][ua("0x11")](document,ua("0x4f"),((t,n)=>{n[ua("0x37")]===e.keyCodes.esc&&o[ua("0x5d")]&&(this._manuallyClosedAnnotationViews.add(o.content[ua("0x36")]),this[ua("0x8")](),n[ua("0x35")](),n[ua("0x17")]())})),this[ua("0x57")][ua("0x11")](document,ua("0x48"),((t,e)=>{const i=e[ua("0x40")];o.isVisible&&o.element.contains(i)||n[ua("0x26")][ua("0x2f")].contains(i)||t.preventClosingBalloon||(this[ua("0xc")].clear(),this._hideBalloon(),this[ua("0x3e")](null))}));const r=this.context[ua("0x52")]?this[ua("0x44")][ua("0x52")]:new e.Collection([this[ua("0x44")]]);for(const t of r)this[ua("0x54")](t);this.listenTo(r,ua("0x5c"),((t,e)=>{this[ua("0x11")](e,"ready",(()=>{this[ua("0x54")](e)}))})),this[ua("0x11")](r,ua("0x59"),((t,e)=>{e.plugins[ua("0x2")](ua("0x20"))&&this._destroyEditorAnnotationsIntegration(e[ua("0x1f")][ua("0x32")](ua("0x20")))})),window[ua("0x2e")](ua("0x12"),this[ua("0x1a")]),this[ua("0x34")]()}setActiveAnnotation(t){if(t===this[ua("0x3")])return;const e=this[ua("0x44")][ua("0x1f")][ua("0x32")]("Sidebar");e[ua("0x2b")]({blurredAnnotation:this[ua("0x3")],activatedAnnotation:t,disableAnimationOnActivatedAnnotation:!0}),t&&e[ua("0x5b")](t)?this[ua("0x1")](t):this[ua("0x8")](),this[ua("0x3")]=t}[ua("0x28")](){if(!this[ua("0x2c")])throw new e.CKEditorError(ua("0x33"),this);this[ua("0x3e")](null);const t=this.context[ua("0x1f")].get("Sidebar");this[ua("0x8")](),Array[ua("0x2a")](this[ua("0x27")][ua("0x4b")](),(t=>t.destroy())),this._annotationToNarrowView[ua("0x15")](),t[ua("0x23")](this[ua("0x47")]),this.stopListening(),this[ua("0x57")][ua("0x3f")](),this[ua("0x3f")](this[ua("0x44")][ua("0x52")]);for(const t of Array.from(this[ua("0x4a")]))this[ua("0x1d")](t);window[ua("0xf")]("resize",this[ua("0x1a")]),this._refreshPositioningDebounced[ua("0x30")](),this[ua("0x24")]=[],this[ua("0x2c")]=!1,this[ua("0x47")]=null}[ua("0x3a")](){this[ua("0x2c")]&&this[ua("0x28")](),this[ua("0x3b")].detachFromDom()}_integrateWithEditorAnnotations(t){const e=t[ua("0x1f")][ua("0x32")](ua("0x20")),n=this[ua("0x44")].plugins[ua("0x32")](Gs),o=this.annotations,i=this[ua("0xe")],r=()=>{const t=e.getOrderedSelectedAnnotations({activeAnnotation:this[ua("0x3")],annotations:this[ua("0x47")]});this[ua("0x3c")](t),this.setActiveAnnotation(t[0]||null)};this[ua("0x11")](e,ua("0x2b"),r),this[ua("0x11")](e,ua("0x4"),((t,{isAnnotationTracked:e})=>{this[ua("0x3")]&&e(this[ua("0x3")])&&(this[ua("0x3c")]([]),this.setActiveAnnotation(null))})),this[ua("0x11")](e,"uiUpdate",(()=>{this[ua("0x1a")]()})),this[ua("0x11")](o,"blur",(t=>{e[ua("0x16")]()&&t[ua("0x38")]()}),{priority:"high"}),this[ua("0x57")][ua("0x11")](document,"mousedown",((t,o)=>{const s=o[ua("0x40")];i.isVisible&&i[ua("0x2f")].contains(s)||n.view[ua("0x2f")][ua("0x51")](s)||this[ua("0x3")]&&e.hasDomSelection()&&(r(),t.preventClosingBalloon=!0)}),{priority:ua("0x1c")}),this[ua("0x4a")][ua("0x5c")](e)}_destroyEditorAnnotationsIntegration(t){t&&(this[ua("0x3f")](t),this[ua("0x4a")][ua("0x59")](t))}[ua("0x3c")](t){for(const e of this._selectedAnnotations)t.includes(e)||this[ua("0xc")].delete(e[ua("0x26")]);this[ua("0x24")]=t}[ua("0x34")](){const t=this[ua("0xe")];this.annotations.refreshPositioning(),t[ua("0x5d")]&&this._updateBalloonPosition()}[ua("0x1")](t){if(this[ua("0xc")][ua("0x2")](t[ua("0x26")]))return;const e=this[ua("0xe")].content[ua("0x36")];e!==t[ua("0x26")]?(e&&this[ua("0xd")](e),this[ua("0x21")](t.view),this[ua("0xe")][ua("0x45")].clear(),this[ua("0xe")][ua("0x45")][ua("0x5c")](t.view),this[ua("0x5a")]()):this._updateBalloonPosition()}[ua("0x5a")](){const t=this[ua("0xe")].content[ua("0x36")],e=this[ua("0x47")].getByView(t);if(!this._annotationToNarrowView[ua("0x2")](e))return;const n=this._annotationToNarrowView[ua("0x32")](e)[ua("0x2f")],o=function(){const t=go.BalloonPanelView[ua("0x25")];return[t[ua("0x18")],t[ua("0x4e")],t[ua("0x53")],t[ua("0x58")],t[ua("0x10")],t[ua("0x13")]]}();this[ua("0xe")][ua("0x3d")]({target:n,positions:o})}[ua("0x8")](){const t=this[ua("0xe")],e=t[ua("0x45")][ua("0x36")];e&&(this._detachListeners(e),t[ua("0x0")](),t[ua("0x45")].clear())}[ua("0x21")](t){this.listenTo(t,ua("0x5e"),(()=>this._updateBalloonPosition())),this[ua("0x11")](t,ua("0x9"),((e,n)=>{this._manuallyClosedAnnotationViews.add(t),this[ua("0x8")](),n()}))}[ua("0xd")](t){this.stopListening(t)}}var fa=n(275),pa={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Di()(fa.Z,pa);fa.Z.locals;const ga=["setActiveAnnotation","editableElement","activeAnnotation","inlineannotations-detach-not-attached","detach","_balloon","change:height","attach","hasView","editor","delete","getOrderedSelectedAnnotations","getByView","_closeAnnotation","_selectedAnnotations","change:visibleView","_manuallyClosed","update","_removeAnnotationFromBalloon","isActive","updatePosition","showStack","set","isAttached","refresh","focus","has","view","focusTracker","requires","context","inline","InlineAnnotations","Esc","add","plugins","annotations","listenTo","blur","stopListening","switchTo","get","isFocused","register","mousedown","bind","_addAnnotationToBalloon","_setSelectedAnnotations","selection","inlineannotations-attach-already-attached","editing","getSelection","getRangeAt","includes","_addedAnnotations","_forceRefresh","document","remove","visibleView","hasActive","destroy"];var ba,va;ba=ga,va=270,function(t){for(;--t;)ba.push(ba.shift())}(++va);const _a=function(t,e){return ga[t-=0]};class wa extends t.Plugin{static get[_a("0x3")](){return[$r,go.ContextualBalloon,Os]}static get pluginName(){return _a("0x6")}constructor(t){super(t),t.editing[_a("0x1")].addObserver(jo.MouseObserver),this[_a("0x3a")]=!1,this[_a("0x39")](_a("0x25"),null),this.annotations=null,this[_a("0x33")]=new Set,this[_a("0x28")]=t[_a("0x9")][_a("0xf")](go.ContextualBalloon),this._addedAnnotations=new Set,this[_a("0x31")]=[],this[_a("0x1d")]=!1}init(){const t=this.editor[_a("0x9")].get(Os);t[_a("0x4")]===this[_a("0x2c")]&&(t[_a("0x11")]("inline",this),this[_a("0x2c")].keystrokes[_a("0x39")]("Esc",((t,e)=>{const n=this[_a("0x28")];if(this[_a("0x3a")]&&n[_a("0x20")]){const t=this.annotations[_a("0x2f")](n[_a("0x20")]);this[_a("0x30")](t),e()}})))}afterInit(){const t=this.editor[_a("0x9")].get(Os);t[_a("0x4")]===this[_a("0x2c")]&&(t[_a("0x21")]()||t[_a("0xe")](_a("0x5")))}[_a("0x23")](t){t!==this[_a("0x25")]&&(this[_a("0x25")]&&(this[_a("0x25")].isActive=!1),t&&this[_a("0x2c")].ui[_a("0x2")][_a("0x10")]&&(this[_a("0x14")](t,!0),t[_a("0x36")]=!0),t||this[_a("0x15")]([]),this[_a("0x25")]=t)}[_a("0x2a")](t){this[_a("0xa")]=t;const n=this[_a("0x2c")][_a("0x9")][_a("0xf")](Os),o=this._balloon;if(this[_a("0x3a")])throw new e.CKEditorError(_a("0x17"),this);if(n[_a("0x4")]!==this.editor)throw new e.CKEditorError("inlineannotations-not-allowed-with-context",this);const i=this[_a("0x2c")][_a("0x9")][_a("0xf")]("EditorAnnotations");this[_a("0xb")](i,_a("0x3b"),function(){const t=i[_a("0x2e")]({activeAnnotation:this[_a("0x25")],annotations:this.annotations});var e,n;!this[_a("0x1d")]&&(e=t,n=this[_a("0x31")],e.length===n.length&&e.every((t=>n[_a("0x1b")](t))))||(this[_a("0x1d")]=!1,this[_a("0x15")](t),this[_a("0x23")](t[0]||null))}[_a("0x13")](this)),this.listenTo(i,_a("0xc"),((t,{isAnnotationTracked:e})=>{this.activeAnnotation&&e(this[_a("0x25")])&&(this[_a("0x15")]([]),this[_a("0x23")](null))})),this.listenTo(this[_a("0x2c")].ui[_a("0x2")],"change:isFocused",((t,e,n)=>{n||this[_a("0x23")](null)})),this[_a("0xb")](t,_a("0x1f"),((t,e)=>{this[_a("0x35")](e),e===this[_a("0x25")]&&this[_a("0x23")](null)})),this[_a("0xb")](o,_a("0x32"),((e,n,i,r)=>{if(r&&this.stopListening(r),!i||!t.getByView(i))return;const s=t[_a("0x2f")](i);this[_a("0xb")](i,_a("0x29"),(()=>{o.updatePosition()})),this.listenTo(i,_a("0x7"),(()=>{this[_a("0x30")](s),this.editor[_a("0x18")][_a("0x1")][_a("0x3c")]()})),this[_a("0x25")]!==s&&this.setActiveAnnotation(s)})),this[_a("0xb")](this[_a("0x2c")].ui,_a("0x34"),(()=>{o[_a("0x20")]&&t[_a("0x2f")](o[_a("0x20")])&&o[_a("0x37")]()})),this[_a("0xb")](this.editor.editing.view[_a("0x1e")],_a("0x12"),(()=>{this._forceRefresh=!0,this._manuallyClosed.clear()})),this.editor.editing[_a("0x1")][_a("0x1e")][_a("0x16")][_a("0x24")]&&this[_a("0x2c")][_a("0x18")][_a("0x1")][_a("0x3c")](),this[_a("0x3a")]=!0}[_a("0x27")](){if(!this[_a("0x3a")])throw new e.CKEditorError(_a("0x26"),this);this.setActiveAnnotation(null);for(const t of this[_a("0x1c")])this[_a("0x35")](t);this[_a("0xd")](),this[_a("0x3a")]=!1,this[_a("0xa")]=null}[_a("0x22")](){this[_a("0x3a")]&&this.detach()}[_a("0x15")](t){for(const e of this[_a("0x31")])t[_a("0x1b")](e)||this._manuallyClosed[_a("0x2d")](e);for(const e of this[_a("0xa")])t[_a("0x1b")](e)||this[_a("0x35")](e);if(this[_a("0x2c")].ui[_a("0x2")][_a("0x10")])for(const e of t)this[_a("0x14")](e);this._selectedAnnotations=t}_addAnnotationToBalloon(t,e){this[_a("0x33")][_a("0x0")](t)||(this._addedAnnotations[_a("0x0")](t)||this[_a("0x28")][_a("0x2b")](t[_a("0x1")])||(this._addedAnnotations[_a("0x8")](t),this[_a("0x28")].add({stackId:t.view.id,view:t[_a("0x1")],position:{target:()=>t.target||t.targetRect||document[_a("0x19")]()[_a("0x1a")](0)}})),e&&this._balloon[_a("0x38")](t[_a("0x1")].id))}[_a("0x35")](t){this[_a("0x1c")][_a("0x0")](t)&&this[_a("0x28")][_a("0x2b")](t.view)&&(this[_a("0x1c")][_a("0x2d")](t),this[_a("0x28")][_a("0x1f")](t.view))}[_a("0x30")](t){this[_a("0x33")].add(t),this._removeAnnotationFromBalloon(t)}}var ka,ya,Ca=["requires","pluginName","Comments"];ka=Ca,ya=437,function(t){for(;--t;)ka.push(ka.shift())}(++ya);var Aa=function(t,e){return Ca[t-=0]};class Ta extends t.Plugin{static get[Aa("0x1")](){return[Nr,ds,_s,As,na,ma,wa]}static get[Aa("0x2")](){return Aa("0x0")}}})(),(window.CKEditor5=window.CKEditor5||{}).comments=o})();